<!--
  Generated template for the ModeManual page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>

  <ion-navbar>



    <ion-title>mode-manual</ion-title>
    <ion-buttons end>
      <button ion-button icon-only color="royal" (click)="openBleModal()">
        <ion-icon name="bluetooth"></ion-icon>

      </button>
    </ion-buttons>

  </ion-navbar>

</ion-header>


<ion-content>

  <ion-row class="collections" align-items-center justify-content-center>
    <ion-col col-2 *ngFor="let item of collectionsList|async;let idx = index;" text-center>
      <ion-checkbox [(ngModel)]="collectionsChecks[idx]"></ion-checkbox>
    </ion-col>
  </ion-row>
   <!--
  <ion-row class="collections" align-items-center justify-content-center>

    <ion-col col-2 *ngFor="let item of collectionsList|async;let idx = index;" text-center>
      <ion-checkbox [(ngModel)]="collectionsChecks[idx]"></ion-checkbox>

    </ion-col>

  </ion-row> -->
  <ion-list class="range-bar-cont">
    <button *ngIf="!isEnableRangeBar" class="enable-btn" ion-button color="secondary" (click)="enableRangeBar()">執行手動</button>
    <!--
    <ion-item>
      <ion-icon name="ios-pricetags-outline" item-start></ion-icon>
      <ion-label>群組</ion-label>
      <ion-select interface="alert" multiple="true" cancelText="取消" [(ngModel)]="deviceMeta.groups">
        <ion-option *ngFor="let type of deviceMeta.groupsList; let i = index" value="{{type.id}}">{{type.name}} (#{{type.id}})</ion-option>
      </ion-select>
    </ion-item>
    <ion-item>
      <ion-icon name="ios-sunny-outline" item-start></ion-icon>
      <ion-label>發光模式</ion-label>
      <ion-select interface="action-sheet" cancelText="取消" [(ngModel)]="deviceMeta.curType">
        <ion-option *ngFor="let type of lightsType;" value="{{type.value}}">{{type.name}}</ion-option>
      </ion-select>
    </ion-item>-->
    <ion-item *ngFor="let item of lightsType;let idx=index;">
      <ion-range [disabled]="!isEnableRangeBar" [color]="(curType==(idx+1))?'primary':'dark'" debounce="0" min="0" max="30" [(ngModel)]="deviceMeta.multipleList[idx]"
        (ionBlur)="trigger($event,idx+1)">
        <ion-label range-left>{{(idx+1)|light:'slug'}}</ion-label>
        <ion-badge [color]="(curType==(idx+1))?'primary':'dark'" range-right>{{deviceMeta.multipleList[idx]}}</ion-badge>
      </ion-range>
    </ion-item>


  </ion-list>
</ion-content>
<ion-footer>
    <p class="tips" [ngStyle]="{'color': (isRedTips)?'red':'black'}">如拉Bbar無反應請重複拉<br>接近整點，而該燈又有排程，<br>此模式會被切回排程原設定狀態</p>
    <ion-row>
      <button col-6 ion-button block color="dark" (click)="sendManual(false)">關燈</button>
      <!--<button *ngIf="!isManual" (click)="toggleMode()" col-6 ion-button block (color)="(showDisableBtn)?'primary':'dark'" >執行排程</button><!-- (click)="disableManual(true)" -->
      <!--<button *ngIf="isManual" (click)="toggleMode()" col-6 color="secondary" ion-button block >執行手動</button> -->
      <button  (click)="s()" col-6 ion-button block >執行手動</button>
    </ion-row>

</ion-footer>
