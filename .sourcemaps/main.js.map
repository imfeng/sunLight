{"version":3,"sources":["../../src/pages/eye-check/eye-check.ts","../../src/pages/eye-check/eye-check.module.ts","../../src/providers/lights-info/lights-info.module.ts","../../node_modules/@angular/core/@angular lazy","../../src lazy","../../src/pages/ble-operator/ble-operator.module.ts","../../src/pages/collections/collections.module.ts","../../src/pages/collections/collections.ts","../../src/pages/mode-devices/mode-devices.module.ts","../../src/pages/mode-devices/mode-devices.ts","../../src/pages/mode-manual/mode-manual.module.ts","../../src/pages/mode-manual/mode-manual.ts","../../src/pages/mode-schedule/mode-schedule.module.ts","../../src/pages/mode-schedule/mode-schedule.ts","../../src/pages/mode-schedule/edit-schedule.ts","../../src/providers/devices-data/devices-data.ts","../../src/pages/start/start.module.ts","../../src/pages/start/start.ts","../../src/pages/tabs/tabs.ts","../../src/pages/dev-mode/dev-mode.ts","../../src/app/main.ts","../../src/app/app.module.ts","../../src/providers/ble-command/ble-command.ts","../../src/providers/toast-ctrl/toast-ctrl.ts","../../src/providers/devices-data/devices-data.module.ts","../../src/pages/eye-check/eye-check.control.ts","../../node_modules/moment/locale ^/.*$","../../src/components/lights-chart/lights-chart.ts","../../src/providers/ble-ctrl/ble-ctrl.ts","../../src/providers/lights-info/lights-info.ts","../../src/app/app.component.ts","../../src/pages/tabs/tabs.module.ts","../../src/providers/collections-data/collections-data.ts","../../src/pages/dev-mode/dev-mode.module.ts","../../src/components/number-picker/number-picker.ts","../../src/providers/app-state/app-state.ts","../../src/providers/schedule-data/schedule-data.ts","../../src/providers/collections-data/collections-data.module.ts","../../src/pages/ble-operator/ble-operator.ts"],"names":[],"mappings":"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EAAC,gBAAgB;gBACxB,GAAG,EAAE,GAAG,CAAC,CAAC,CAAC;gBACX,GAAG,EAAE,GAAG;aACT;SACN,CAAC,EAP8C,CAO9C,CAAC,CAAC;QACJ,IAAI,CAAC,KAAK,CAAK,QAAQ,QAAI,QAAQ,EAAI,QAAQ,EAAG,CAAC;IACrD,CAAC;IAtLU,eAAe;QAD3B,iEAAU,EAAE;yCAGS,2FAAiB;YACf,iGAAmB;YACvB,qFAAe;YACb,sEAAe;OALxB,eAAe,CAwL3B;IAAD,sBAAC;CAAA;AAxL2B;;;;;;;;ACb5B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AA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","file":"main.js","sourcesContent":["import { Component, Injectable } from '@angular/core';\nimport {\n  IonicPage, NavController, NavParams, ViewController, ModalController,\n  AlertController,\n} from 'ionic-angular';\nimport { BleCommandProvider } from '../../providers/ble-command/ble-command';\nimport { BleCtrlProvider } from '../../providers/ble-ctrl/ble-ctrl';\nimport { Action } from 'rxjs/scheduler/Action';\nimport { ToastCtrlProvider } from  '../../providers/toast-ctrl/toast-ctrl';\nimport { lightsTypesPipe } from  '../../providers/lights-info/lights-info';\nexport enum ActionNameEnum {\n  NONE = 'NONE',\n  FIRST_ADD_GROUP = 'FIRST_ADD_GROUP',\n  TIME = 'TIME',\n  FANSPEED = 'FANSPEED',\n  SCHEDULE_REMOVE = 'SCHEDULE_REMOVE',\n  SCHEDULE_ALL = 'SCHEDULE_ALL',\n  SCHEDULE_CURRENT = 'SCHEDULE_CURRENT',\n}\nexport interface ActionType {\n  // type: ActionName;\n  type: ActionNameEnum,\n  payload: {\n    message:Array<string>;\n    cmd?: Uint8Array,\n\n    macAddress?: string,\n    gid?: number,\n    groupID?: number,\n\n    time?:string,\n    fanSpeed?: number,  // '\n  };\n}\n/*export enum ActionName {\n   NONE = '',\n   ADD_DEVICE = 'ADD_DEVICE',\n   CLTNS_FAN = 'CLTNS_FAN',\n   CLTNS_TIME = 'CLTNS_TIME',\n   SCHEDULE = 'SCHEDULE',\n}*/\n@IonicPage()\n@Component({\n  selector: 'page-eye-check',\n  templateUrl: 'eye-check.html',\n  providers: [\n    lightsTypesPipe,\n  ]\n})\nexport class EyeCheckPage {\n  isSending: boolean = false;\n  _state: {\n    currentIdx: number,\n    actionsLength: number,\n    currentAction: ActionType,\n    hadSended: boolean,\n    finalMessages: Array<string>,\n  } = {\n    currentIdx: 0,\n    actionsLength: 0,\n    currentAction: null,\n    hadSended: false,\n    finalMessages: [],\n  }\n  uiControl = {\n    name: true,\n    timeWidget: false,\n    fanWidget: false,\n    groupInfo: false,\n    scheduleRmInfo: false,\n    scheduleAllInfo: false,\n    scheduleCurrentInfo: false,\n  }\n  fanWidgettValue = 40;\n  timeWidgetValue = '00:00:00';\n  actions: Array<ActionType> = [];\n  constructor(\n    private bleCmd: BleCommandProvider,\n    private toastCtrl:ToastCtrlProvider,\n    private alertCtrl: AlertController,\n    public bleCtrl: BleCtrlProvider,\n    public viewCtrl: ViewController,\n    public navCtrl: NavController,\n    public navParams: NavParams\n  ) {\n    console.log('>>> constructor EyeCheckPage');\n  }\n  dismiss() {\n    this.viewCtrl.dismiss();\n  }\n  ionViewDidLoad() {\n    console.log('>>> ionViewDidLoad EyeCheckPage');\n    if(!this.navParams.get('actions')) {\n      alert('錯誤！');\n    }else {\n      this.actions = this.navParams.get('actions');\n      console.log(this.actions);\n\n      this._state.actionsLength = this.actions.length;\n      if(this._state.actionsLength<1) {\n        alert('無動作');\n        this.dismiss();\n        return;\n      }\n      this._state.finalMessages = [];\n      this.processAction(0);\n\n    }\n  }\n\n  timeWidgetNow(defaultTime: string = null) {\n    if(defaultTime) {\n      this.timeWidgetValue = defaultTime;\n    }else {\n      let dd= new Date();\n      this.timeWidgetValue =\n        `${this._dateFormat(dd.getHours())}:${this._dateFormat(dd.getMinutes())}:${this._dateFormat(dd.getSeconds())}`;\n    }\n  }\n  processAction(idx: number) {\n    Object.assign(this.uiControl, {\n      name: true,\n      timeWidget: false,\n      fanWidget: false,\n      groupInfo: false,\n      scheduleAllInfo: false,\n      scheduleRmInfo: false,\n      scheduleCurrentInfo: false,\n    });\n    this._state.currentIdx = idx;\n    if(this._state.currentIdx>=this._state.actionsLength-1) {\n      this._state.currentAction = null;\n      return;\n    }\n    this._state.currentAction = this.actions[idx];\n    console.log(this._state.currentAction);\n\n    switch(this._state.currentAction.type) {\n      case ActionNameEnum.FIRST_ADD_GROUP:\n        this.uiControl.name = false;\n        this.uiControl.groupInfo = true;\n        break;\n      case ActionNameEnum.TIME:\n        this.timeWidgetNow(this._state.currentAction.payload.time);\n        this.uiControl.timeWidget = true;\n        break;\n      case ActionNameEnum.FANSPEED:\n        if(this._state.currentAction.payload.fanSpeed) {\n          this.fanWidgettValue = 50;\n        }else {\n          this.fanWidgettValue = 50;\n        }\n\n        this.uiControl.fanWidget = true;\n        break;\n      case ActionNameEnum.SCHEDULE_REMOVE:\n        this.uiControl.scheduleRmInfo = true;\n        break\n      case ActionNameEnum.SCHEDULE_ALL:\n        this.uiControl.scheduleAllInfo = true;\n        break\n      case ActionNameEnum.SCHEDULE_CURRENT:\n        this.uiControl.scheduleCurrentInfo = true;\n        break\n      default:\n\n        break;\n    }\n    console.log(this.uiControl);\n  }\n\n  trigger() {\n    console.log(this._state.currentIdx);\n    console.log(this._state.currentAction);\n    this._state.hadSended = true;\n    let gid = this._state.currentAction.payload.gid;\n    switch(this._state.currentAction.type) {\n      case ActionNameEnum.NONE:\n        break;\n      case ActionNameEnum.FIRST_ADD_GROUP:\n        this.bleCmd.eyeSetGroup(this._state.currentAction.payload.groupID);\n        this._state.finalMessages.push(`${this._state.currentAction.payload.macAddress} 設置編號： ${this._state.currentAction.payload.groupID}`);\n        break;\n      case ActionNameEnum.TIME:\n        console.log(this.timeWidgetValue);\n        this.bleCmd.eyeTime(\n          this.timeWidgetValue.split(':').map(v=>parseInt(v)),\n          gid\n        );\n        this._state.finalMessages.push(`Sunlight-${gid} 設置時間： ${this.timeWidgetValue}`);\n        break;\n      case ActionNameEnum.FANSPEED:\n        console.log(this.fanWidgettValue);\n        this.bleCmd.eyeFan(this.fanWidgettValue, gid);\n        this._state.finalMessages.push(`Sunlight-${gid} 設置風速： ${this.fanWidgettValue}%`);\n        break;\n      case ActionNameEnum.SCHEDULE_REMOVE:\n        this.bleCmd.eyeSchedule(this._state.currentAction.payload.cmd);\n        this._state.finalMessages.push(`Sunlight-${gid} 清除排程`);\n        break;\n      case ActionNameEnum.SCHEDULE_ALL:\n        this.bleCmd.eyeSchedule(this._state.currentAction.payload.cmd);\n        this._state.finalMessages.push(\n          `Sunlight-${gid} 設置排程： ${this._dateFormat(this._state.currentAction.payload.cmd[5])}:00, 亮度${this._state.currentAction.payload.cmd[2]}, ${this._state.currentAction.payload.cmd[3]}`\n        );\n        break;\n      case ActionNameEnum.SCHEDULE_CURRENT:\n        this.bleCmd.eyeSchedule(this._state.currentAction.payload.cmd);\n        this._state.finalMessages.push(`Sunlight-${gid} 目前排程： 亮度${this._state.currentAction.payload.cmd[2]}, ${this._state.currentAction.payload.cmd[3]}`);\n        break\n      default:\n      break;\n    }\n    // this.bleCtrl.write(this.action.cmds[this._state.currentIdx]);\n  }\n  last() {\n    if(this._state.currentIdx === 0) {\n    }else{\n      this._state.hadSended = false;\n      this.processAction(this._state.currentIdx-1);\n    }\n  }\n  next() {\n    if(this._state.currentIdx === this._state.actionsLength) {\n    }else{\n      this._state.hadSended = false;\n      this.bleCmd.eyeDisable();\n      this.processAction(this._state.currentIdx+1);\n    }\n  }\n\n  opneFanPrompt(){\n    let prompt = this.alertCtrl.create({\n      title: '風速',\n      message: \"輸入所需要的風速數值\",\n      inputs: [{\n        name: 'fanSpeed',\n        placeholder: '40~100'\n      }],\n      buttons: [{\n          text: 'Cancel',\n          handler: data => {\n            console.log('Cancel clicked');\n          }\n        }, {\n          text: 'Save',\n          handler: data => {\n            let speed = parseInt(data['fanSpeed']) || 1;\n            console.log(speed);\n            if(speed<40 || speed>100){\n              this.toastCtrl.showToast('錯誤！請輸入40~100數值！');\n            }else{\n              this.fanWidgettValue = speed;\n            }\n          }\n      }]\n    });\n    prompt.present();\n  }\n  _dateFormat(num:number){\n    return (num<10)?`0${num}`:`${num}`;\n  }\n}\n\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/eye-check/eye-check.ts","import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { EyeCheckPage } from './eye-check';\nimport { EyeCheckControl } from './eye-check.control'\nimport { LightsInfoModule } from '../../providers/lights-info/lights-info.module';\n@NgModule({\n  declarations: [\n    EyeCheckPage,\n  ],\n  entryComponents: [\n    EyeCheckPage,\n  ],\n  imports: [\n    LightsInfoModule.forRoot(),\n    IonicPageModule.forChild(EyeCheckPage),\n  ],\n  providers: [\n    EyeCheckControl,\n  ]\n\n})\nexport class EyeCheckPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/eye-check/eye-check.module.ts","import { NgModule } from '@angular/core';\r\nimport { LightsInfoProvider,lightsTypesPipe } from './lights-info';\r\n\r\n@NgModule({\r\n  declarations: [\r\n    lightsTypesPipe,\r\n  ],\r\n  exports: [\r\n    lightsTypesPipe,\r\n  ],\r\n  imports: [],\r\n  providers: [\r\n    LightsInfoProvider\r\n  ],\r\n})\r\nexport class LightsInfoModule {\r\n  static forRoot() {\r\n    return {\r\n        ngModule: LightsInfoModule,\r\n        providers: [],\r\n    };\r\n }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/providers/lights-info/lights-info.module.ts","function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncatched exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tthrow new Error(\"Cannot find module '\" + req + \"'.\");\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = 137;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/@angular/core/@angular lazy\n// module id = 137\n// module chunks = 0","var map = {\n\t\"../pages/ble-operator/ble-operator.module\": [\n\t\t181\n\t],\n\t\"../pages/collections/collections.module\": [\n\t\t185\n\t],\n\t\"../pages/eye-check/eye-check.module\": [\n\t\t104\n\t],\n\t\"../pages/mode-devices/mode-devices.module\": [\n\t\t187\n\t],\n\t\"../pages/mode-manual/mode-manual.module\": [\n\t\t189\n\t],\n\t\"../pages/mode-schedule/mode-schedule.module\": [\n\t\t191\n\t],\n\t\"../pages/start/start.module\": [\n\t\t314\n\t]\n};\nfunction webpackAsyncContext(req) {\n\tvar ids = map[req];\n\tif(!ids)\n\t\treturn Promise.reject(new Error(\"Cannot find module '\" + req + \"'.\"));\n\treturn Promise.all(ids.slice(1).map(__webpack_require__.e)).then(function() {\n\t\treturn __webpack_require__(ids[0]);\n\t});\n};\nwebpackAsyncContext.keys = function webpackAsyncContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackAsyncContext.id = 180;\nmodule.exports = webpackAsyncContext;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src lazy\n// module id = 180\n// module chunks = 0","import { NgModule } from '@angular/core';\r\nimport { IonicPageModule } from 'ionic-angular';\r\nimport { BleOperatorPage,bleListPage } from './ble-operator';\r\nimport { CollectionsModule } from '../../providers/collections-data/collections-data.module';\r\n\r\n@NgModule({\r\n  declarations: [\r\n    BleOperatorPage,\r\n    bleListPage\r\n  ],\r\n  imports: [\r\n    CollectionsModule,\r\n    IonicPageModule.forChild(BleOperatorPage),\r\n  ],\r\n  entryComponents: [\r\n    BleOperatorPage,\r\n    bleListPage\r\n  ] \r\n})\r\nexport class BleOperatorPageModule {}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/ble-operator/ble-operator.module.ts","import { NgModule } from '@angular/core';\r\nimport { IonicPageModule } from 'ionic-angular';\r\nimport { cListPage,CollectionsPage } from './collections';\r\nimport { CollectionsModule } from '../../providers/collections-data/collections-data.module';\r\nimport { devicesDataModule } from '../../providers/devices-data/devices-data.module';\r\n@NgModule({\r\n  declarations: [\r\n    CollectionsPage,\r\n    cListPage\r\n  ],\r\n  imports: [\r\n    CollectionsModule,\r\n    devicesDataModule.forRoot(),\r\n    IonicPageModule.forChild(CollectionsPage),\r\n  ],\r\n  entryComponents: [\r\n    cListPage,\r\n  ],\r\n\r\n})\r\nexport class CollectionsPageModule {}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/collections/collections.module.ts","import { Component } from '@angular/core';\r\nimport { IonicPage, NavController, NavParams } from 'ionic-angular';\r\nimport 'rxjs/add/operator/map';\r\nimport { Observable } from 'rxjs/Observable';\r\n\r\nimport { DevicesDataProvider,lightDeviceType } from '../../providers/devices-data/devices-data';\r\nimport { CollectionsDataProvider,collectionType } from '../../providers/collections-data/collections-data';\r\n\r\n@IonicPage()\r\n@Component({\r\n  selector: 'page-collections',\r\n  templateUrl: 'collections.html'\r\n})\r\nexport class CollectionsPage {\r\n  \r\n  collectionsList : Observable<collectionType[]>;\r\n\r\n  constructor(\r\n    private clProv : CollectionsDataProvider,\r\n    public navCtrl: NavController,\r\n    public navParams: NavParams\r\n  ) {\r\n\r\n    this.collectionsList = this.clProv.list;\r\n\r\n  }\r\n\r\n  ionViewDidLoad() {\r\n    console.log('ionViewDidLoad CollectionPage');\r\n  }\r\n  edit(cid:number){\r\n    this.navCtrl.push(cListPage,{\"cid\":cid});\r\n  }\r\n\r\n}\r\n@Component({\r\n  templateUrl: 'edit.html',\r\n})\r\nexport class cListPage{\r\n  devices_list:{\r\n    \"data\":Array<any>;\r\n  };\r\n  thisCid:number;\r\n\r\n  devicesCheckList:{\r\n    \"data\":Array<any>\r\n  };\r\n  constructor(\r\n    private clProv : CollectionsDataProvider,\r\n    private devicesProv:DevicesDataProvider,\r\n    public navCtrl: NavController,\r\n    public navParams: NavParams\r\n  ) {\r\n\r\n    this.devices_list={\r\n      \"data\":[]\r\n    }\r\n    this.thisCid = navParams.get(\"cid\");\r\n    this.devicesCheckList = {\r\n      \"data\":[]\r\n    }\r\n    this.load();\r\n    \r\n  }\r\n  load(){\r\n    this.devicesProv.list.take(1).subscribe(\r\n      arr => {\r\n        console.log(arr);\r\n        this.devices_list.data = arr.map(\r\n          (v,idx)=>{\r\n            return {\r\n              \"name\":v.name,\r\n              \"collection\": v.collection,\r\n              \"group\":v.group,\r\n              \"id\":v.id,\r\n              //\"isDisabled\": false, // 1 Device to N Collections\r\n              \"isDisabled\":(    // 1 Device to 1 Collection\r\n                (v.collection.length>0)?\r\n                  ((v.collection.find(v=>v==this.thisCid))?false:true)\r\n                  : false ),\r\n              \"isCheck\": ((v.collection.find(v => v==this.thisCid))?true:false)\r\n              //((v.collection==this.thisCid)?true:false)\r\n            }\r\n          }\r\n        );\r\n        //console.log(this.devices_list.data);\r\n      }\r\n    );\r\n  }\r\n  save(){\r\n    let devices = [];\r\n    //console.log(this.devices_list.data);\r\n    this.devices_list.data\r\n      .map(\r\n        v => {\r\n          let cidFinded = (v.collection.find(v => v==this.thisCid));\r\n          if(( (v.isCheck==false) && cidFinded )){\r\n            this.devicesProv.modify(v.id,null,null,true, v.collection.filter(v=>v!==this.thisCid) ).take(1).subscribe();\r\n\r\n\r\n          }else if( v.isCheck && !cidFinded ){\r\n            v.collection.push(this.thisCid);\r\n            this.devicesProv.modify(v.id,null,null,true, v.collection ).take(1).subscribe();\r\n            devices.push(v.group);\r\n          }else if(  v.isCheck && cidFinded ){\r\n            devices.push(v.group);\r\n          }else{\r\n          }\r\n        }\r\n      );\r\n  \r\n    this.clProv.modify(this.thisCid,devices).take(1).subscribe(\r\n      res => {\r\n        if(res){\r\n          alert('儲存成功！');\r\n          this.navCtrl.pop();\r\n        }\r\n      }\r\n    );\r\n  }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/pages/collections/collections.ts","import { NgModule } from '@angular/core';\r\nimport { IonicPageModule } from 'ionic-angular';\r\nimport { ModeDevicesPage,editDevicePage } from './mode-devices';\r\nimport { CollectionsModule } from '../../providers/collections-data/collections-data.module';\r\n@NgModule({\r\n  declarations: [\r\n    ModeDevicesPage,\r\n    editDevicePage,\r\n  ],\r\n  imports: [\r\n    CollectionsModule,\r\n    IonicPageModule.forChild(ModeDevicesPage),\r\n  ],\r\n  entryComponents:[\r\n    editDevicePage\r\n  ],\r\n})\r\nexport class ModeDevicesPageModule {}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/mode-devices/mode-devices.module.ts","import { Component, ViewChild } from '@angular/core';\nimport { Platform, AlertController,ModalController,IonicPage, NavController, NavParams, Toggle } from 'ionic-angular';\nimport { BleOperatorPage } from '../ble-operator/ble-operator';\nimport { DevicesDataProvider,lightDeviceType } from '../../providers/devices-data/devices-data';\nimport 'rxjs/add/operator/map';\nimport 'rxjs/add/operator/take';\nimport { Observable } from 'rxjs/Observable';\nimport { BleCtrlProvider } from '../../providers/ble-ctrl/ble-ctrl';\nimport { BleCommandProvider } from '../../providers/ble-command/ble-command';\nimport { ToastCtrlProvider } from  '../../providers/toast-ctrl/toast-ctrl';\n\nimport { EyeCheckControl } from '../eye-check/eye-check.control';\n\n@IonicPage()\n@Component({\n  selector: 'page-mode-devices',\n  templateUrl: 'mode-devices.html',\n})\nexport class ModeDevicesPage {\n\n  nowDeviceId: string = '';\n  timeCtrl = {\n    isTimeCheckbox: false,\n    time: '',\n  }\n  fanCtrl = {\n    isFanCheckbox: false,\n    currentFanSpeed: 40,\n    checks:[]\n  }\n\n\n  devices_list:Observable<lightDeviceType[]>;\n  wtfDevices:{\n    \"list\":Array<lightDeviceType>\n  }\n  constructor(\n    public eyeCheckCtrl: EyeCheckControl,\n    public platform: Platform,\n    private bleCtrl:BleCtrlProvider,\n    private toastCtrl:ToastCtrlProvider,\n    private alertCtrl: AlertController,\n    private bleCmd: BleCommandProvider,\n    private devicesProv:DevicesDataProvider,\n    public modalCtrl: ModalController,\n    public navCtrl: NavController,\n    public navParams: NavParams\n  ) {\n      this.bleCtrl.nowStatus.subscribe(state => {\n        this.nowDeviceId = state.device.id;\n      });\n      this.devices_list = this.devicesProv.list;\n      this.wtfDevices = {\n        \"list\":[]\n      };\n      this.devices_list.subscribe(\n        list => {\n          this.fanCtrl.checks = Array.from(new Array(list.length), ()=>false);\n          let tmp:Array<lightDeviceType> = Array.from({length: (list.length<=6)?(6-list.length):0},\n            (v, i) => ({\n              \"name\":'bulb'+(list.length+i+1),\n              \"o_name\" :'bulb'+(list.length+i+1),\n              \"id\": '空',\n              \"group\":0,\n              //\"isGroupSync\":boolean\n              \"last_sended\": null,\n              \"hadGroupSync\":null,\n              \"collection\": [],\n              \"fanSpeed\":null,\n              })\n          );\n          //console.log(tmp);\n          this.wtfDevices.list = tmp;\n        }\n      );\n\n  }\n  _dateFormat(num:number){\n    if(num<10){\n      return `0${num}`\n    }else{\n      return `${num}`\n    }\n  }\n  toggleTimeCheckbox(){\n    this.fanCtrl.checks.map((v,idx) => {\n      this.fanCtrl.checks[idx] = false;\n    })\n    let dd = new Date();\n\n    this.timeCtrl.time =\n    `${this._dateFormat(dd.getHours())}:${this._dateFormat(dd.getMinutes())}:${this._dateFormat(dd.getSeconds())}`;\n    console.log(this.timeCtrl.time);\n    this.timeCtrl.isTimeCheckbox = !this.timeCtrl.isTimeCheckbox;\n    this.fanCtrl.isFanCheckbox = false;\n  }\n  timeTrigger(){\n    console.log(this.timeCtrl.time);\n    // this.bleCmd.goTimeChange(this.timeCtrl.time).subscribe();\n\n    this.devices_list.take(1).subscribe(\n      list => {\n        let idxs = [];\n        let gids = list.filter(\n          (v,idx) => {\n            if(this.fanCtrl.checks[idx]) {idxs.push(idx); return true; }\n            else return false}\n        ).map( (v)=>v.group );\n        this.eyeCheckCtrl.pSetMultipleTime(gids, this.timeCtrl.time);\n        /*this.bleCmd.goTimeChangeMulti(gids, this.timeCtrl.time).subscribe(isOk => {\n          if(!isOk) alert('傳送時間校正過程中發生問題，請重新傳送。');\n        });*/\n      }\n    );\n  }\n  timeChange(){\n    //this.timeCtrl.time =new Date().toISOString();\n    console.log( this.timeCtrl.time);\n  }\n  opneFanPrompt(){\n      let prompt = this.alertCtrl.create({\n        title: '風速',\n        message: \"輸入所需要的風速數值\",\n        inputs: [\n          {\n            name: 'fanSpeed',\n            placeholder: '40~100'\n          },\n        ],\n        buttons: [\n          {\n            text: 'Cancel',\n            handler: data => {\n              console.log('Cancel clicked');\n            }\n          },\n          {\n            text: 'Save',\n            handler: data => {\n              let speed = parseInt(data['fanSpeed']) || 1;\n              console.log(speed);\n              if(speed<40 || speed>100){\n                this.toastCtrl.showToast('錯誤！請輸入40~100數值！');\n              }else{\n                this.fanCtrl.currentFanSpeed = speed;\n                this.triggerFan();\n                console.log('Saved clicked');\n              }\n\n            }\n          }\n        ]\n      });\n      prompt.present();\n  }\n  timeModify(){\n\n  }\n  triggerFan(){\n    //console.log('triggerFan');\n    //console.log(this.fanCtrl.checks);\n    this.devices_list.take(1).subscribe(\n      list => {\n        let idxs = [];\n        let gids = list.filter(\n          (v,idx) => {\n            if(this.fanCtrl.checks[idx]) {idxs.push(idx); return true; }\n            else return false}\n        ).map( (v)=>v.group );\n        this.eyeCheckCtrl.pSetMultipleFan(gids, this.fanCtrl.currentFanSpeed);\n        /*this.bleCmd\n        .goFanMultipleEye(gids,this.fanCtrl.currentFanSpeed)\n        .subscribe();*/\n        /*this.bleCmd.goFanMultiple(gids,this.fanCtrl.currentFanSpeed).subscribe(\n          isOk => {\n            if(!isOk) alert('傳送排程過程中發生問題，請重新傳送QQ');\n            else this.devicesProv.modifyFanSpeed(this.fanCtrl.currentFanSpeed,idxs).subscribe();\n          }\n        );*/\n      }\n    );\n  }\n  toggleFanCheckbox(){\n    this.fanCtrl.checks.map((v,idx) => {\n      this.fanCtrl.checks[idx] = false;\n    })\n    this.fanCtrl.isFanCheckbox = !this.fanCtrl.isFanCheckbox;\n    this.timeCtrl.isTimeCheckbox = false;\n  }\n  editDevice(id:string){\n    this.fanCtrl.isFanCheckbox = false;\n    this.navCtrl.push(editDevicePage, { \"id\":id });\n  }\n  openBleModal(){\n    this.navCtrl.push(BleOperatorPage);\n   /* let modal = this.modalCtrl.create(BleOperatorPage);\n    modal.present();*/\n  }\n  fastConnect(item) {  // TODO 要先搜尋才能連\n    console.log(item);\n    this.bleCtrl.fastConnect(item.id).subscribe(()=>{});\n  }\n\n  nowBluetoothEnable = false;\n  @ViewChild('toggleble') ionToggle: Toggle;\n  ionViewDidLoad() {\n    console.log('ionViewDidLoad ModeDevicesPage');\n    this.platform.ready().then(ready=>{\n      this.bleCtrl.nowStatus.take(1).subscribe(state => {\n        if(state[\"isEnabled\"]){\n          this.nowBluetoothEnable = true;\n          this.ionToggle.checked = true;\n        }else{\n          alert('請開啟藍芽才能正常運作唷～');\n          this.nowBluetoothEnable = false;\n          this.ionToggle.checked = false;\n        }\n      });\n    });\n  }\n  enableBle() {\n    this.bleCtrl.enableBle().subscribe(\n      ()=>{\n        this.nowBluetoothEnable = true;\n        this.ionToggle.checked = true;\n      },\n      ()=>{\n        alert('請開啟權限');\n        this.nowBluetoothEnable = false;\n        this.ionToggle.checked = false;\n      }\n    );\n  }\n}\n\n@Component({\n  templateUrl: 'edit-device.html'\n})\nexport class editDevicePage {\n\n  deviceInfo :{\"data\":lightDeviceType}={\n    \"data\":{\n      \"name\":'',\n      \"o_name\" :'',\n      \"id\": '',\n      \"group\":0,\n      \"last_sended\": 0,\n      \"hadGroupSync\":false,\n      \"collection\":[],\n      \"fanSpeed\":null,\n    }\n  };\n  constructor(\n    private bleCmd: BleCommandProvider,\n    private devicesProv:DevicesDataProvider,\n    private alertCtrl: AlertController,\n    public navCtrl: NavController,\n    public navParams: NavParams,\n  ){\n    console.log(navParams);\n    devicesProv.get(navParams.data[\"id\"]).subscribe(\n      (obj) => {\n        this.deviceInfo.data = obj;\n      },\n      () => {\n        alert('無此Device ID！');\n      }\n    );\n\n  }\n\n  delDevice(){\n    this.devicesProv.del(this.deviceInfo.data.id).subscribe(\n      isOk => {\n        if(isOk) this.navCtrl.pop();\n      }\n    );\n  }\n\n  editName(){\n    let alert = this.alertCtrl.create({\n      title: '更改名稱',\n      inputs: [\n        {\n          name: 'd_name',\n          placeholder: '請輸入裝置名稱...'\n        }\n      ],\n      buttons: [\n        {\n          text: '取消',\n          role: 'cancel',\n          handler: data => {\n            console.log('Cancel clicked');\n          }\n        },\n        {\n          text: '確定',\n          handler: data => {\n            this.deviceInfo.data.name = data.d_name;\n            this.changeName();\n          }\n        }\n      ]\n    });\n    alert.present();\n  }\n  editGroup(deviceId){\n    let alert = this.alertCtrl.create({\n      title: '調整編號',\n      message: '數值\"0\"為無編號，如果裝置不在附近時，將無法正確地更改，但在此APP中會仍會顯示您更改的編號，建議使用右上角的「藍芽連結頁面」修改！',\n      inputs: [\n        {\n          name: 'gid',\n          type: 'number',\n          placeholder: '請輸入編號1~255'\n        }\n      ],\n      buttons: [\n        {\n          text: '取消',\n          role: 'cancel',\n          handler: data => {\n            console.log('Cancel clicked');\n          }\n        },\n        {\n          text: '修改',\n          handler: data => {\n            let gid = parseInt(data.gid);\n            this.bleCmd.goSetGroupOther(gid,this.deviceInfo.data.id);\n\n            console.log('傳送');\n          }\n        }\n      ]\n    });\n    alert.present();\n  }\n  changeName(){\n    console.log('changeName');\n    this.devicesProv.modify(this.deviceInfo.data.id,this.deviceInfo.data.name,null).subscribe(\n      ()=>{\n        let alert = this.alertCtrl.create({\n          title: '成功',\n          message: '儲存成功！',\n        });\n      },\n      (err,message)=>{\n        let alert = this.alertCtrl.create({\n          title: '錯誤！',\n          message: JSON.stringify(err) +', ' +JSON.stringify(message),\n        });\n      }\n    );\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/mode-devices/mode-devices.ts","import { NgModule } from '@angular/core';\r\nimport { IonicPageModule } from 'ionic-angular';\r\nimport { ModeManual } from './mode-manual';\r\n\r\nimport { BleOperatorPageModule } from '../ble-operator/ble-operator.module';\r\nimport { LightsInfoModule } from '../../providers/lights-info/lights-info.module';\r\n\r\n//import { CollectionsCheckComponent } from '../../components/collections-check/collections-check';\r\n\r\n@NgModule({\r\n  declarations: [\r\n    //CollectionsCheckComponent,\r\n    ModeManual,\r\n  ],\r\n  imports: [\r\n    LightsInfoModule.forRoot(),\r\n    BleOperatorPageModule,\r\n    IonicPageModule.forChild(ModeManual),\r\n  ],\r\n})\r\nexport class ModeManualModule {}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/mode-manual/mode-manual.module.ts","import { Component, ViewChildren, QueryList } from '@angular/core';\nimport { ModalController, NavController,NavParams } from 'ionic-angular';\nimport { ToastController } from 'ionic-angular';\nimport { IonicPage, Checkbox } from 'ionic-angular';  // LazyLoading\nimport { BleOperatorPage } from '../ble-operator/ble-operator';\nimport { BleCommandProvider } from  '../../providers/ble-command/ble-command'\nimport { Observable } from 'rxjs/Observable';\n\nimport { ScheduleDataProvider,scheduleType } from '../../providers/schedule-data/schedule-data'\nimport { LightsInfoProvider,lightsTypesPipe } from  '../../providers/lights-info/lights-info'\nimport { CollectionsDataProvider,collectionType } from '../../providers/collections-data/collections-data';\nimport { appStateType,AppStateProvider } from  '../../providers/app-state/app-state';\nimport { EyeCheckControl } from '../eye-check/eye-check.control';\n\n\n@IonicPage()\n@Component({\n  selector: 'page-mode-manual',\n  templateUrl: 'mode-manual.html',\n  providers:[lightsTypesPipe]\n})\nexport class ModeManual {\n  isEnableRangeBar = false;\n  isRedTips: boolean = false;\n  isManual: boolean = false;\n  /** collectionsList ionCheckbox*/\n  collectionsList:Observable<collectionType[]>;\n  collectionsChecks:Array<boolean> = Array.from({length:12},v=>false);\n  /** */\n\n\n  appState:Observable<appStateType>;\n  curType:number = -1;\n\n\n  deviceMeta :  {\n    \"groups\" : Array<number>,\n    \"curType\" : number,\n    \"curMultiple\": number,\n    \"groupsList\": Array<object>,\n\n    \"multipleList\": Array<number>\n  };\n  lightsType : Array<object>;\n  lightsGroupsList : Array<object>;\n  showDisableBtn: boolean;\n  constructor(\n    public eyeCheckCtrl: EyeCheckControl,\n    private appStateProv: AppStateProvider,\n    private ScheduleProv: ScheduleDataProvider,\n    private clProv : CollectionsDataProvider,\n    //private blePage: BleOperatorPage,\n\n    private bleCmd: BleCommandProvider,\n    public modalCtrl: ModalController,\n    private lightsInfo: LightsInfoProvider,\n    public navCtrl: NavController,\n    public navParams: NavParams,\n    public toastCtrl:ToastController) {\n      this.collectionsList = this.clProv.list;\n      this.appStateProv.info.subscribe(\n        state => {\n          this.showDisableBtn = (state.now_mode_slug=='manual');\n        }\n      );\n\n      this.deviceMeta = {\n        \"groups\" : [0],\n        \"curType\" : 1,\n        \"curMultiple\":0,\n        \"groupsList\": [],\n\n        \"multipleList\": [0,0,0,0,0,0]\n      };\n      //this.deviceMeta.groupsList.push({'id':0,'name':'廣播'});\n      //this.deviceMeta.groupsList.push({'id':1,'name':'測試1'});\n\n\n  //\n  }\n  ngOnInit() {\n    this.lightsType = this.lightsInfo.getTypes();\n  }\n  ionViewDidLoad() {\n    let minutes = new Date().getMinutes();\n    if(minutes>=50) {\n      this.isRedTips = true;\n    } else {\n      this.isRedTips = false;\n    }\n  }\n  enableRangeBar() {\n    this.isEnableRangeBar = true;\n  }\n  s() {\n    this.bleCmd.goSyncSchedule().subscribe( list => {\n      this.eyeCheckCtrl.pSchedule(list);\n    });\n  }\n  toggleMode() {\n    this.isManual = !this.isManual;\n  }\n  disableManual(){\n    this.bleCmd.goSyncSchedule().subscribe();\n    this.curType = 0;\n  }\n  trigger(event,type:number){\n/*\n    for(let i=0;idx<this.deviceMeta.multipleList.length;i++){\n      if(i != idx){\n          this.deviceMeta.multipleList[i]=0;\n      }\n    }*/\n    //this.sendManual(true);\n    this.curType = (type);\n    this.sendManual(true,type,this.deviceMeta.multipleList[type-1]);\n    /*for(let i=0;i<6;i++){\n      if(i != idx){\n       this.deviceMeta.multipleList[i]=0;\n      }else{\n        this.sendManual(true,idx,this.deviceMeta.multipleList[i]);\n      }\n    }*/\n\n  }\n  sendManual(power:boolean,type=0,multi=0){\n    //console.log(this.collectionsChecks);\n    //let type=this.deviceMeta.curType;\n    //let multi=this.deviceMeta.curMultiple;\n    let sendList = [];\n\n\n\n    if(power){\n      this.bleCmd.collectionsToDeviceGid(this.collectionsChecks).subscribe(\n        allDevices => {\n\n          this.bleCmd.goManualModeMulti(multi,type,allDevices).subscribe(\n            isOk=>{\n              if(!isOk) this.curType = 0;\n            }\n          );\n          /*allDevices.forEach((group,idx) => {\n            setTimeout(()=>{\n              this.bleCmd.goManualMode(\n                multi,\n                type,\n                group,\n              );\n             }, 400*idx);\n          });*/\n        }\n      );\n\n    }else{\n      this.bleCmd.collectionsToDeviceGid(this.collectionsChecks).subscribe(\n        allDevices => {\n          this.curType = 0;\n          this.bleCmd.goManualModeMulti(0,0,allDevices).subscribe(\n            isOk=>{\n              if(!isOk) this.curType = 0;\n            }\n          );;\n          /*allDevices.forEach((group,idx) => {\n            setTimeout(()=>{\n              this.bleCmd.goManualMode(\n                0,\n                0,\n                group,\n              );\n             }, 400*idx);\n          });*/\n        }\n      );\n\n    }\n  }\n  openBleModal(){\n    this.navCtrl.push(BleOperatorPage);\n    /*let modal = this.modalCtrl.create(BleOperatorPage);\n    modal.present();*/\n  }\n\n  test(){\n    console.log(this.deviceMeta);\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/mode-manual/mode-manual.ts","import { NgModule } from '@angular/core';\r\nimport { IonicPageModule } from 'ionic-angular';\r\n\r\nimport { ModeSchedulePage } from './mode-schedule';\r\nimport { editSchedulePage,modalSectionEdit, chartEditModal } from './edit-schedule';\r\nimport { LightsChartComponent } from '../../components/lights-chart/lights-chart';\r\nimport { LightsInfoModule } from '../../providers/lights-info/lights-info.module';\r\nimport { CollectionsModule } from '../../providers/collections-data/collections-data.module';\r\n\r\nimport { ChartsModule } from 'ng2-charts';\r\n//import 'hammerjs';\r\n//import 'chartjs-plugin-zoom';\r\n\r\n@NgModule({\r\n  declarations: [\r\n    ModeSchedulePage,\r\n    LightsChartComponent,\r\n    editSchedulePage,\r\n    modalSectionEdit,\r\n    chartEditModal\r\n  ],\r\n  imports: [\r\n    CollectionsModule,\r\n    LightsInfoModule.forRoot(),\r\n    IonicPageModule.forChild(ModeSchedulePage),\r\n    ChartsModule,\r\n\r\n  ],\r\n  exports:[\r\n    LightsChartComponent,    \r\n  ],\r\n  entryComponents:[\r\n    editSchedulePage,\r\n    modalSectionEdit,\r\n    chartEditModal\r\n  ],\r\n})\r\nexport class ModeSchedulePageModule {}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/mode-schedule/mode-schedule.module.ts","import { Component } from '@angular/core';\nimport { IonicPage, NavController, NavParams } from 'ionic-angular';\nimport { LightsInfoProvider } from '../../providers/lights-info/lights-info'\nimport { ScheduleDataProvider,scheduleType } from '../../providers/schedule-data/schedule-data'\nimport { BleCommandProvider } from '../../providers/ble-command/ble-command';\nimport { editSchedulePage } from './edit-schedule';\n\nimport { Observable } from 'rxjs/Observable';\nimport { appStateType,AppStateProvider } from  '../../providers/app-state/app-state';\n\nimport { EyeCheckControl } from '../eye-check/eye-check.control';\n\n@IonicPage()\n@Component({\n  selector: 'page-mode-schedule',\n  templateUrl: 'mode-schedule.html',\n})\nexport class ModeSchedulePage{\n  lightsColor : any = this.lightsInfo.getTypes('color');\n\n  /** IONIC lifeCycle*/\n\n  appState:Observable<appStateType>;\n  btnSetting:{\n    color:string,\n    message:string\n  }={\n    color:'primary',\n    message:'傳送指令(未同步)'\n  };\n  scheduleList:Observable<scheduleType[]>;\n\n  constructor(\n    public eyeCheckCtrl: EyeCheckControl,\n    private appStateProv: AppStateProvider,\n    private bleCmd: BleCommandProvider,\n    private scheduleProv:ScheduleDataProvider,\n\n    private lightsInfo:LightsInfoProvider,\n    public navCtrl: NavController,\n    public navParams: NavParams) {\n      this.appStateProv.info.subscribe(\n        state => {\n          console.log(state);\n          this.btnSetting.color = (state.now_mode_slug=='sche'&&state.isSync)?'dark':'primary';\n          this.btnSetting.message\n            = state.btnMessage;\n            //(state.now_mode_slug=='sche')?((state.isSync)?'傳送指令(已同步)':'傳送指令(未同步)'):'取消手動';\n        }\n      );\n      this.scheduleList = this.scheduleProv.list;\n      //this.lightsGroups.loadAll();\n  }\n  onChartClick(event) {\n    console.log(event);\n  }\n\n  getDateRangeTitle(dateRange:[number,number]){\n    return this.scheduleProv.dateRangeToString(dateRange);\n  }\n  goSchedule(idx){\n    this.navCtrl.push(editSchedulePage,{\"idx\":idx});\n  }\n  /** */\n  syncSchedule(){\n    // 2018 eye\n    this.bleCmd.goSyncSchedule().subscribe( list => {\n      this.eyeCheckCtrl.pSchedule(list);\n    });\n\n  }\n\n\n  addSchedule(){\n    this.scheduleProv.addNew();\n  }\n  rmSchedule(idx){\n    this.scheduleProv.remove(idx);\n  }\n\n  getRandomDatasetArr(){\n    return {\n      \"data\": Array.from( new Array(16), ()=>(this.getRandomInt(0,100)) )\n    }\n  }\n  getRandomColorsArr(){\n    return {\n      \"backgroundColor\":\n        Array.from(new Array(16) , (val,idx) => (this.lightsColor[this.getRandomInt(0,5)]) )\n    }\n  }\n  getRandomInt(min, max) {\n    return Math.floor(Math.random() * (max - min + 1)) + min;\n  }\n\n\n\n\n  /* CHART SETTINGS */\n  chartLabels = [\n    \"00:00\",\"\",\"02:00\",\"\",\"04:00\",\"\",\n    \"06:00\",\"\",\"08:00\",\"\",\"10:00\",\"\",\n    \"12:00\",\"\",\"14:00\",\"\",\"16:00\",\"\",\n    \"18:00\",\"\",\"20:00\",\"\",\"22:00\",\"\",\"24:00\"\n  ];\n  chartOptions = {\n    layout: {\n      padding: {\n          left: 0,\n          right: 0,\n          top: 10,\n          bottom: 0\n      }\n    },\n    scaleShowLabels: false,\n    scales: {\n      xAxes: [{\n        gridLines: {\n          offsetGridLines : true\n        },\n        pointDotRadius:50,\n        barPercentage:1.0,\n        categoryPercentage:1.0,\n        ticks:{\n          padding:0,\n          backdropPaddingX: 0,\n        }\n      }],\n      yAxes: [{\n        ticks: {\n          max: 31,\n          min: -1,\n          display:false,\n          beginAtZero: true,\n          padding: 0,\n        }\n      }]\n    },\n    responsive: true\n  };\n\n}\n\n\n\n\n  /* DATA EXAMPLES\n\n  chartData = [{\n    data:[\n      0,   0,   5, 15, 30, 45,\n    70, 90,100, 80, 55, 35,\n      5,  0,  0,  0\n    ];\n\n  colors = [\n    {\n      backgroundColor:[\n        this.lightsColor[0],\n        this.lightsColor[0],\n        this.lightsColor[2],\n        this.lightsColor[2],\n        this.lightsColor[2],\n        this.lightsColor[2],\n        this.lightsColor[3],\n        this.lightsColor[3],\n        this.lightsColor[3],\n        this.lightsColor[4],\n        this.lightsColor[4],\n        this.lightsColor[5],\n        this.lightsColor[4],\n        this.lightsColor[4],\n        this.lightsColor[4],\n        this.lightsColor[4],\n      ]\n    }\n  ];\n  }];*/\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/mode-schedule/mode-schedule.ts","import { Renderer, ElementRef,ViewChild,Component, ViewChildren, QueryList } from '@angular/core';\r\nimport { Platform, Tabs, Select, AlertController ,ViewController, ModalController, NavController, NavParams,Checkbox } from 'ionic-angular';\r\nimport { Observable } from 'rxjs/Observable';\r\nimport { ChartsModule,BaseChartDirective } from 'ng2-charts';\r\nimport { ScreenOrientation } from '@ionic-native/screen-orientation';\r\n\r\nimport {  ScheduleDataProvider,scheduleType,sectionDataType } from '../../providers/schedule-data/schedule-data';\r\nimport { ToastCtrlProvider } from  '../../providers/toast-ctrl/toast-ctrl';\r\nimport { LightsInfoProvider,lightsTypesPipe } from  '../../providers/lights-info/lights-info';\r\nimport { collectsChecksToSting,CollectionsDataProvider,collectionType } from '../../providers/collections-data/collections-data';\r\n\r\nimport { AppStateProvider } from  '../../providers/app-state/app-state';\r\n@Component({\r\n  templateUrl: './edit-schedule.html',\r\n})\r\nexport class editSchedulePage {\r\n  /** TODO */\r\n  @ViewChild('chartele') chartEle: ElementRef;\r\n  @ViewChild('head') head: ElementRef;\r\n  toggleFullScreen(){\r\n    let body = this.ELE.nativeElement.getElementsByClassName('scroll-content')[0];\r\n    let tabs = document.querySelector('.ion-page>.tabs>.tabbar');\r\n    this.touchStatus.isFullScreen = !this.touchStatus.isFullScreen;\r\n    if(this.touchStatus.isFullScreen){\r\n      //this.RENDER.setElementStyle(this.chartEle.nativeElement, 'max-height', '250px');\r\n      this.RENDER.setElementStyle(this.head.nativeElement, 'top', '-56px');\r\n      this.RENDER.setElementStyle(body, 'margin-top', '0');\r\n      this.RENDER.setElementStyle(body, 'margin-bottom', '0');\r\n      this.RENDER.setElementStyle(tabs, 'bottom', '-70px');\r\n      //this.RENDER.setElementStyle(tabs, 'bottom', '-51px');\r\n      this.screenOrientation.lock(this.screenOrientation.ORIENTATIONS.LANDSCAPE);\r\n    }else{\r\n      //this.RENDER.setElementStyle(this.chartEle.nativeElement, 'max-height', '180px');\r\n      this.RENDER.setElementStyle(this.head.nativeElement, 'top', '0px');\r\n      this.RENDER.setElementStyle(body, 'margin-top', '44px');\r\n      this.RENDER.setElementStyle(body, 'margin-bottom', '50px');\r\n      this.RENDER.setElementStyle(tabs, 'bottom', '0px');\r\n      this.screenOrientation.lock(this.screenOrientation.ORIENTATIONS.PORTRAIT);\r\n      /*this.ionCheckbox.forEach((e,i) => {\r\n        console.log('GG');\r\n        console.log(e);\r\n        e._elementRef.nativeElement.lastChild.firstChild.innerHTML = String.fromCharCode(65+i);\r\n      });*/\r\n    }\r\n  }\r\n\r\n  /** */\r\n  @ViewChildren(Checkbox) ionCheckbox :QueryList<Checkbox>;\r\n  ionViewDidLoad(){\r\n    /*this.ionCheckbox.forEach((e,i) => {\r\n      e._elementRef.nativeElement.lastChild.firstChild.innerHTML = String.fromCharCode(65+i);\r\n    });*/\r\n  }\r\n  collectionsListTest = Array.from({length: 12}, \r\n    (v, i) => ({\r\n        \"name\":(i+1),\r\n        \"cid\": (i+1),\r\n        \"devices\":[]\r\n      })\r\n  );\r\n  /** */\r\n  @ViewChild(BaseChartDirective) chartDi;\r\n  touchStatus = {\r\n    \"isFullScreen\":false,\r\n    \"window_h\":0,\r\n    \"window_w\":0,\r\n    \"isSaved\":true,\r\n    \"curItem\":null,\r\n    \"curIndex\":-1,\r\n    \"curIndexNowStep\":{},\r\n    \"onTouched\":false,\r\n    \"pos\":{\r\n      \"x\":0,\r\n      \"y\":0\r\n    },\r\n    \"canvas_h\":0,\r\n    \"curCtrl_y\":0,\r\n    \"curStep\":0,\r\n\r\n    \"tmpLightType\":1,\r\n    \"tmpMulti\":0,\r\n  }\r\n  \r\n  @ViewChild('typeselect') typeselect:any;\r\n  lightsTypes:Array<string>;\r\n  collectionsList:Observable<collectionType[]>;\r\n  temp = {\r\n    \"data\":Array.from( new Array(0), ()=>(0) ),\r\n    \"backgroundColor\":Array.from( new Array(24), ()=>('#fff') )\r\n  }\r\n  chartDatas:{\r\n    \"type\":string,\r\n    \"datasets\":Array<any>,\r\n    \"labels\": Array<string>,\r\n    \"options\":{},\r\n    \"colors\":{}\r\n  } = {\r\n    \"type\":'bar',\r\n    \"datasets\": [\r\n      this.gChartLineSet(this.temp.data),\r\n      {\"data\":this.temp.data}\r\n    ],\r\n    \"colors\":[{\"backgroundColor\":'transparent'},{\"backgroundColor\":[]}],\r\n    \"labels\": [],\r\n    \"options\":{\r\n      animation:{\r\n        easing: 'easeOutExpo'\r\n      },\r\n      pan: {\r\n        enabled: true,\r\n        mode: 'x'\r\n      },\r\n      zoom: {\r\n        enabled: true,\r\n        mode: 'x',\r\n        limits: {\r\n          max: 5,\r\n          min: 0.5\r\n        }\r\n      },\r\n      tooltips:false,\r\n      onHover:function($e){\r\n        $e.preventDefault();\r\n      },\r\n      //onClick:this.testF(),\r\n      layout: {\r\n        padding: {\r\n            left: 5,\r\n            right: 5,\r\n            top: 20,\r\n            bottom: 10\r\n        }\r\n      },\r\n      caleShowLabels:!1,\r\n      scales:{xAxes:\r\n        [{gridLines:{offsetGridLines:false},\r\n          barPercentage:0.4,\r\n          categoryPercentage:0.9,\r\n          ticks:{padding:5,backdropPaddingX:15}\r\n        }],\r\n        yAxes:[{ticks:{max:30,min:0,display:true,beginAtZero:!0,padding:0}}]\r\n      },\r\n      responsive:!0,\r\n      onResize: (function(plat,fullSreen){\r\n        console.log(fullSreen);\r\n        if(fullSreen){\r\n          return function(a,b){\r\n            setTimeout(function(){\r\n              console.log('HIGHT: ' + plat.height());\r\n              a.height =  plat.height() - 70;\r\n            },300);\r\n          \r\n          }\r\n        }else{\r\n          return function(){}\r\n        }\r\n        \r\n      })(this.platform,this.touchStatus.isFullScreen),\r\n    },\r\n  }\r\n  datePicker :{\r\n    start:string,\r\n    end:string,\r\n    range:Array<number>\r\n  }={\r\n    start:'00:00',\r\n    end:'23:00',\r\n    range:[0,23]\r\n  }\r\n  data:{\r\n    sections:Array < sectionDataType >,\r\n    checks:Array<boolean>\r\n  }= {\r\n    sections:[],\r\n    checks:[]\r\n  }\r\n  thisIdx: number;\r\n  constructor(\r\n    private platform: Platform,\r\n    private screenOrientation: ScreenOrientation,\r\n    private ELE: ElementRef,\r\n    private RENDER: Renderer,\r\n    private appStateProv: AppStateProvider,\r\n    private alertCtrl: AlertController,\r\n    private lightsType: LightsInfoProvider,\r\n    private clProv : CollectionsDataProvider,\r\n    private scheduleProv: ScheduleDataProvider,\r\n    private toastCtrl:ToastCtrlProvider,\r\n    private modalCtrl: ModalController,\r\n    public navCtrl: NavController,\r\n    public navParams: NavParams\r\n  ) {\r\n    this.platform.ready().then((readySource) => {\r\n      console.log('Width: ' + this.platform.width());\r\n      console.log('Height: ' + this.platform.height() );\r\n      this.touchStatus.window_h = this.platform.height();\r\n      this.touchStatus.window_w = this.platform.width();\r\n    });\r\n    this.lightsTypes = this.lightsType.getTypes();\r\n    \r\n    \r\n    this.collectionsList = this.clProv.list;\r\n\r\n    this.thisIdx = this.navParams.get(\"idx\");\r\n    //this.dateChange();\r\n\r\n    console.log('editSchedulePage (schedule List Idx): ' + this.thisIdx);\r\n    this.scheduleProv.getSchedule(this.navParams.get(\"idx\")).subscribe(\r\n      arr => {\r\n        console.log('ionViewDidEnter')\r\n        console.log(arr);\r\n          this.data.sections.push(...arr.sectionsList);\r\n          this.data.checks.push(...arr.checks);\r\n\r\n          this.datePicker.range = arr.dateRange;\r\n          let dateTmp = this.scheduleProv.dateRangeToStringObj(arr.dateRange);\r\n          this.datePicker.start = dateTmp.start;\r\n          this.datePicker.end = dateTmp.end;\r\n\r\n        console.log(this.data);\r\n          this.changeSectionsEvent();\r\n          \r\n      }\r\n    );\r\n  }\r\n\r\n  ionViewDidEnter() {\r\n  }\r\n  ionViewWillLeave(){\r\n    this.showConfirm();\r\n  }\r\n  /** CHARTJS */\r\n  onTouchStart($e){\r\n    console.log('touchstart');\r\n    var item = this.chartDi.chart.getElementAtEvent($e)[0];\r\n    if((item||false)?((item._model.pointStyle||false)?true:false):false){\r\n      this.touchStatus.onTouched = true;\r\n      this.touchStatus.curItem = item;\r\n      this.touchStatus.curIndex = item._index;\r\n      this.touchStatus.curIndexNowStep = this.data.sections[item._index];\r\n  \r\n      this.touchStatus.canvas_h = item._chart.height-70;\r\n      this.touchStatus.curCtrl_y = $e.touches[0].pageY;\r\n      this.touchStatus.curStep = this.data.sections[item._index].multiple;\r\n\r\n      console.log(item);\r\n      console.log(this.touchStatus);\r\n\r\n    } \r\n  }\r\n  countMoveRate(curY){\r\n    console.log('curY: ' + curY);\r\n    let nextStep = Math.round( this.touchStatus.curStep + ((this.touchStatus.curCtrl_y-curY)/this.touchStatus.canvas_h*30) );\r\n    console.log('nextStep '+ nextStep);\r\n    return (nextStep>30)?30:((nextStep<0)?0:nextStep);\r\n  }\r\n  onTouchMove($e){\r\n    $e.preventDefault();\r\n    if(this.touchStatus.onTouched){\r\n      console.log($e);\r\n      let tmp = this.countMoveRate($e.touches[0].pageY);\r\n      this.touchStatus.curItem._chart.config.data.datasets[0].data[this.touchStatus.curIndex]\r\n       = tmp;\r\n      this.touchStatus.curItem._chart.update();\r\n      this.data.sections[this.touchStatus.curIndex].multiple = tmp;\r\n    }\r\n  }\r\n  onTouchEnd($e){\r\n    console.log('touchend');\r\n    if(this.touchStatus.onTouched){\r\n      this.touchStatus.isSaved = false;\r\n      this.touchStatus.onTouched = false;\r\n      this.touchStatus.tmpLightType = this.data.sections[this.touchStatus.curIndex].mode;\r\n      //this.typeselect.open();\r\n    }\r\n  }\r\n  lightTypeChangeBtn(type:number){\r\n    this.touchStatus.tmpLightType = type;\r\n    this.data.sections[this.touchStatus.curIndex].mode = type;\r\n    this.changeSectionsEvent();\r\n  }\r\n  typeselectChanged(){\r\n    this.data.sections[this.touchStatus.curIndex].mode = this.touchStatus.tmpLightType;\r\n    this.changeSectionsEvent();\r\n  }\r\n  chartClick($e){\r\n    // DEBUG\r\n    let crt = this.chartDi;\r\n    console.log(crt);\r\n    console.log();\r\n    var item =crt.chart.getElementAtEvent($e);\r\n    if (item) {\r\n        var label = crt.data.labels[crt.datasets[0].data._index];\r\n        var value = crt.data.datasets[item._datasetIndex].data[item._index];\r\n    }\r\n    console.log($e);\r\n  }\r\n  /** CHARTJS END */\r\n  gChartLineSet(data){\r\n    return {\r\n      \"type\":'line',\r\n      \"data\":data,\r\n      borderWidth: 3,\r\n      borderColor: 'rgba(0,0,255,0.2)',\r\n      pointRadius:5 ,\r\n      pointHoverRadius: 10,\r\n      pointHoverBorderColor: 'rgba(0, 0, 255,0.8)',\r\n      pointDotWidth: 3,\r\n      pointBorderColor: 'rgba(255, 30, 30,0.5)',\r\n      pointBackgroundColor: 'rgba(255,255,255,.2)',\r\n      backgroundColor: 'rgba(0,0,0,0)',\r\n    }\r\n  }\r\n  detectRepeatChecks(idx:number){\r\n    this.touchStatus.isSaved = false;\r\n    this.scheduleProv.detectDateRange(this.datePicker.range,this.thisIdx,this.data.checks).subscribe(\r\n      isRepeat => {\r\n        if(!isRepeat){\r\n        }else{\r\n          setTimeout(\r\n            ()=>{\r\n              this.data.checks[idx] =false;\r\n            },500\r\n          );\r\n          \r\n          alert(\r\n            `\r\n            \"時間\"或\"群組\"和其他排程衝突！\r\n            ( ${ this.scheduleProv.dateRangeToString(isRepeat.dateRange)},群組${collectsChecksToSting(isRepeat.checks)}\r\n               )\r\n            `);\r\n            \r\n        }\r\n      }\r\n    );\r\n  }\r\n  dateChange(){\r\n    console.log(this.datePicker);\r\n    this.touchStatus.isSaved = false;\r\n    if(this.datePicker.end === null){\r\n      this.datePicker.end = '';\r\n    }else if(this.datePicker.start === null){\r\n      this.datePicker.start = '';\r\n    }else if(this.datePicker.start === '' || this.datePicker.end ===''){\r\n      return false;\r\n    }else{\r\n      if(this.datePicker.start > this.datePicker.end){\r\n        let tmp = this.datePicker.start \r\n        this.datePicker.start = this.datePicker.end;\r\n        this.datePicker.end = tmp;\r\n      }else{}\r\n      let dateTmp = [ \r\n        parseInt(this.datePicker.start.split(':')[0]),\r\n        parseInt(this.datePicker.end.split(':')[0]),\r\n      ];\r\n      this.datePicker.range = dateTmp;\r\n      this.data.sections = [];\r\n  \r\n      this.scheduleProv.detectDateRange(dateTmp,this.thisIdx,this.data.checks).subscribe(\r\n        isRepeat => {\r\n          if(!isRepeat){\r\n            for( let i=dateTmp[0];i<=dateTmp[1];i++  ){\r\n              this.data.sections.push({\r\n                \"mode\":1,\r\n                \"time\": ((i<10)?('0'+i):i)+':00',\r\n                \"time_num\":[i,0],  // [ HOUR , MIN ]\r\n                \"multiple\":0,\r\n              });\r\n            }\r\n            this.changeSectionsEvent();\r\n          }else{\r\n            setTimeout(\r\n              ()=>{\r\n                this.datePicker.range = [null,null];\r\n                this.data.sections = [];\r\n                this.datePicker.start = '';\r\n                this.datePicker.end = '';\r\n              },500\r\n            );\r\n            alert(\r\n              `\r\n              \"時間\"或\"群組\"和其他排程衝突！\r\n              ( ${ this.scheduleProv.dateRangeToString(isRepeat.dateRange)},群組${collectsChecksToSting(isRepeat.checks)}\r\n                 )\r\n              `);\r\n              \r\n          }\r\n        }\r\n      );\r\n    }\r\n  }\r\n  changeSectionsEvent(){\r\n    let chart = this.scheduleProv.sectionsToCharts(this.data.sections,this.datePicker.range,true);\r\n    //this.temp.data.splice(0,this.temp.data.length).push.apply(this.temp.data,chart.data);\r\n    //console.log(chart);\r\n    this.chartDatas.datasets = [\r\n      this.gChartLineSet(chart.data),\r\n      {data:chart.data}\r\n    ],\r\n    this.chartDatas.colors = [\r\n      {},\r\n      {\"backgroundColor\": chart.backgroundColor}];\r\n    this.chartDatas.labels = chart.labels;\r\n  }\r\n\r\n  showConfirm() {\r\n    if(!this.touchStatus.isSaved){\r\n      let confirm = this.alertCtrl.create({\r\n        title: '尚未儲存',\r\n        message: '您忘記儲存了，請問需要儲存方才的設定嗎？',\r\n        buttons: [\r\n          {\r\n            text: '捨棄',\r\n            handler: () => {}\r\n          },\r\n          {\r\n            text: '儲存',\r\n            handler: () => {\r\n              this.saveSections();\r\n            }\r\n          }\r\n        ]\r\n      });\r\n      confirm.present();\r\n    }\r\n\r\n  }\r\n  saveSections(isSended=false){\r\n\r\n    \r\n    this.scheduleProv.modifySchedule(this.thisIdx,this.data.sections,this.data.checks,this.datePicker.range).subscribe(\r\n        res => {\r\n          this.touchStatus.isSaved = true;\r\n          this.toastCtrl.showToast('儲存成功！');\r\n          this.appStateProv.action({type:'sync',payload:false});\r\n        }\r\n    );\r\n    //this.infos['lastModified'] = new Date().getTime();\r\n    //console.log(this.infos['lastModified']);\r\n  }\r\n  delSection(idx) {\r\n    this.data.sections.splice(idx, 1);\r\n  }\r\n  editSection(idx) {\r\n    let modal = this.modalCtrl.create(modalSectionEdit, {\r\n      \"mode\": this.data.sections[idx].mode,\r\n      \"time\": this.data.sections[idx].time,\r\n      \"multiple\": this.data.sections[idx].multiple\r\n    }, {\r\n      cssClass: 'modal-section'\r\n    });\r\n    modal.onDidDismiss(data => {\r\n      /** DEPRECATED START*/\r\n      let repeated = this.detectRepeat(data)\r\n      /** DEPRECATED END*/\r\n      \r\n      if (data && !repeated) {\r\n        this.touchStatus.isSaved = false;\r\n        //this.data.sections.push(data);\r\n        this.data.sections[idx].mode = data.mode;\r\n        this.data.sections[idx].time = data.time;\r\n        this.data.sections[idx].multiple = data.multiple;\r\n        this.data.sections.sort(\r\n          (a, b) =>\r\n          ((a.time_num[0] == b.time_num[0]) ? (a.time_num[1] - b.time_num[1]) : (a.time_num[0] - b.time_num[0]))\r\n        );\r\n        this.changeSectionsEvent();\r\n      } else if (repeated) {\r\n        this.toastCtrl.showToast('「開始時間」重複，請試試別的時間唷');\r\n      } else {\r\n      }\r\n      \r\n\r\n      //console.log(this.data.sections);\r\n    });\r\n    modal.present();\r\n  }\r\n  addSection() {\r\n      console.log(this.data.sections);\r\n    if (this.data.sections.length >= 30) {\r\n      alert('排程數量已經額滿(上限為30組)');\r\n    } else {\r\n      let modal = this.modalCtrl.create(modalSectionEdit, {\r\n        \"time\": \"00:00\",\r\n        \"multiple\": 0\r\n      }, {\r\n        cssClass: 'modal-section'\r\n      });\r\n      modal.onDidDismiss(data => {\r\n        let repeated = this.detectRepeat(data)\r\n        if (data && !repeated) {\r\n          this.data.sections.push(data);\r\n          this.data.sections.sort(\r\n            (a, b) =>\r\n            ((a.time_num[0] == b.time_num[0]) ? (a.time_num[1] - b.time_num[1]) : (a.time_num[0] - b.time_num[0]))\r\n          );\r\n          \r\n        } else if (repeated) {\r\n          this.toastCtrl.showToast('「開始時間」重複，請試試別的時間唷');\r\n        } else {\r\n\r\n        }\r\n        //console.log(this.data.sections);\r\n      });\r\n      modal.present();\r\n    }\r\n\r\n  }\r\n  detectRepeat(data) {\r\n    return false;\r\n    // 時間重複取消\r\n    /*if (this.data.sections.find((val, idx) => (val.time == data.time) ? true : false)) {\r\n      return true;\r\n    }else{\r\n      return false;\r\n    }*/\r\n    \r\n  }\r\n\r\n  openChartEdit(){\r\n    let modal = this.modalCtrl.create(chartEditModal, {\r\n\r\n    }, {\r\n      cssClass: 'modal-chart'\r\n    });\r\n    modal.onDidDismiss(data => {\r\n      console.log('chartEditModal DISMISS!');\r\n    });\r\n    modal.present();\r\n  }\r\n  \r\n}\r\n@Component({\r\n    templateUrl:'./nav-main/modal-section-edit.html',\r\n    providers:[lightsTypesPipe]\r\n})\r\nexport class modalSectionEdit{\r\n    //param : object;\r\n    settings:sectionDataType ;\r\n    lightsTypes:Array<string>;\r\n    constructor(\r\n      \r\n      private lightsType: LightsInfoProvider,\r\n      public viewCtrl: ViewController,\r\n      public navParams: NavParams) {\r\n        this.lightsTypes = this.lightsType.getTypes();\r\n        this.settings= {\r\n          \"mode\":this.navParams.data[\"mode\"],\r\n          \"time\":this.navParams.data[\"time\"],\r\n          \"time_num\":[],\r\n          \"multiple\":this.navParams.data[\"multiple\"]\r\n        }\r\n      }\r\n    add(){\r\n      //this.settings[\"mode\"] = parseInt(this.settings[\"mode\"]);\r\n      this.settings[\"time_num\"] = \r\n        this.settings[\"time\"].split(':').map( (val,idx)=>{ if(idx<2){return parseInt(val,10);} } )\r\n      this.viewCtrl.dismiss(this.settings);\r\n    }\r\n    dismiss() {\r\n      this.viewCtrl.dismiss(false);\r\n    }\r\n}\r\n@Component({\r\n  templateUrl:'./nav-main/chart-edit.html'\r\n})\r\nexport class chartEditModal{\r\n\r\n  constructor(\r\n    public viewCtrl: ViewController,\r\n  ){\r\n    \r\n  }\r\n  dismiss(){\r\n    this.viewCtrl.dismiss(false);\r\n  }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/pages/mode-schedule/edit-schedule.ts","import { Injectable,PipeTransform,Pipe } from '@angular/core';\nimport {\n  Platform,\n } from 'ionic-angular';\n\nimport 'rxjs/add/operator/map';\nimport 'rxjs/add/operator/take';\nimport 'rxjs/add/operator/withLatestFrom';\nimport 'rxjs/add/observable/fromPromise';\nimport { Observable } from 'rxjs/Observable';\nimport { NativeStorage } from '@ionic-native/native-storage';\nimport { BehaviorSubject } from 'rxjs/BehaviorSubject';\n//import { BleCommandProvider } from '../ble-command/ble-command';\n\nconst _STORAGE_DEVICES_COUNTER = 'devicesListCounter'\nconst _STORAGE_DEVICES_NAME = \"devicesList\";\nexport interface lightDeviceType {\n  \"name\":string,\n  \"o_name\" :string,\n  \"id\": string,\n  \"group\":number,\n  //\"isGroupSync\":boolean\n  \"last_sended\": number,\n  \"hadGroupSync\":boolean,\n  \"collection\": Array<number>, // 1~6 to A~F\n  \"fanSpeed\":number,\n}\n@Injectable()\nexport class DevicesDataProvider {\n  list:Observable<lightDeviceType[]>;\n  private _list:BehaviorSubject<lightDeviceType[]>;\n\n  dataStore:{\n    \"device\": lightDeviceType,\n    \"deviceList\": Array<lightDeviceType>\n  }\n  _ALL_DEVICES_COUNTER: number;\n  constructor(\n    private platrom: Platform,\n    //private bleCmd: BleCommandProvider,\n    private storage:NativeStorage) {\n      this._list = <BehaviorSubject<lightDeviceType[]>>new BehaviorSubject([]);\n      this.list = this._list.asObservable();\n      this.dataStore = {\n        \"device\": null,\n        \"deviceList\": []\n      }\n      console.log('>>>> DevicesDataProvider');\n      this.loadAll();\n\n      this.platrom.ready().then(() => {\n        this.storage.getItem(_STORAGE_DEVICES_COUNTER).then(counter => {\n          this._ALL_DEVICES_COUNTER = counter\n        }).catch(err => {\n          if(err.code == 2 || err.code.code==2) {\n            this._ALL_DEVICES_COUNTER = 0;\n            this.addCounter(this._ALL_DEVICES_COUNTER);\n          }\n        });\n\n      });\n  }\n  addCounter(number) {\n    this.storage.setItem(_STORAGE_DEVICES_COUNTER, number).then();\n  }\n  loadAll(){\n    Observable.fromPromise(this.storage.getItem(_STORAGE_DEVICES_NAME)).subscribe(\n      (arr) =>{\n        if(typeof arr != 'object') JSON.parse(arr);\n        this.dataStore.deviceList = arr;\n        this._list.next(Object.assign({}, this.dataStore).deviceList);\n      },\n      (error)=>{\n        if(error.code.code==2){\n          let temp : Array<lightDeviceType> = [{\n            \"name\":\"\",\n            \"o_name\" :\"測試裝置1_o\",\n            \"id\": \"11:22:33:44:55:66:77\",\n            \"group\":1,\n            \"last_sended\": 0,\n            \"collection\": [],\n            \"hadGroupSync\":false,\n            \"fanSpeed\":60,\n          },{\n            \"name\":\"測試裝置2\",\n            \"o_name\" :\"測試裝置2_o\",\n            \"id\": \"22:44:66:88:AA:CC:FF\",\n            \"group\":2,\n            \"last_sended\": 0,\n            \"collection\": [],\n            \"hadGroupSync\":false,\n            \"fanSpeed\":60,\n          },{\n            \"name\":\"測試裝置3\",\n            \"o_name\" :\"測試裝置3_o\",\n            \"id\": \"33:44:66:88:AA:CC:FF\",\n            \"group\":3,\n            \"last_sended\": 0,\n            \"collection\": [],\n            \"hadGroupSync\":false,\n            \"fanSpeed\":60,\n          },{\n            \"name\":\"測試裝置4\",\n            \"o_name\" :\"測試裝置4_o\",\n            \"id\": \"44:44:66:88:AA:CC:FF\",\n            \"group\":4,\n            \"last_sended\": 0,\n            \"collection\": [],\n            \"hadGroupSync\":false,\n            \"fanSpeed\":60,\n          }]\n          Observable.fromPromise(this.storage.setItem(_STORAGE_DEVICES_NAME,temp)).subscribe();\n          this.dataStore.deviceList = temp;\n          this._list.next(Object.assign({}, this.dataStore).deviceList);\n        }else if(error.code==2){\n          let temp = [];\n          Observable.fromPromise(this.storage.setItem(_STORAGE_DEVICES_NAME,temp)).subscribe();\n          this.dataStore.deviceList = temp;\n          this._list.next(Object.assign({}, this.dataStore).deviceList);\n        }else{\n          alert(\"錯誤\" + JSON.stringify(error));\n        }\n      }\n    );\n  }\n  get(id:''){\n    let tmpOb = Observable.create(\n      observer => {\n        this.list.subscribe(\n          (list)=>{\n            let finded = list.find(\n              item => (item.id==id)\n            );\n            if(finded) observer.next(finded);\n            else observer.error(false);\n            observer.complete();\n          }\n        );\n      }\n    );\n    return tmpOb;\n  }\n  check(device,toAdd=true){  //  bleCtrl use\n    return Observable.create(\n      observer => {\n        if(device.name!='Sunlight'){\n          observer.error(false);\n          observer.complete();\n        }else{\n          this.list.take(1).subscribe(\n            list =>{\n              let finded = list.find(\n                (val) =>{\n                  if(val.id==device.id)\n                    return true;\n                  else\n                    return false;\n                }\n              );\n              if(!finded && toAdd){\n                this.addCounter(this._ALL_DEVICES_COUNTER++);\n                let newDevice = {\n                  \"name\": device.name,\n                  \"o_name\" :device.name,\n                  \"id\": device.id,\n                  \"group\":this._ALL_DEVICES_COUNTER,\n                  \"hadGroupSync\":false,\n                  \"last_sended\": 0,\n                  \"collection\": [],\n                  \"fanSpeed\":60,\n                };\n                this.add(newDevice).subscribe(\n                  isAdd => {\n                    //this.bleCmd.goSetGroup();\n                    observer.next({\"device\":newDevice , \"isNew\":true});\n                    observer.complete();\n                  }\n                );\n              }else if(!finded && !toAdd){\n                let tmpDevice = {\n                  \"name\": device.name,\n                  \"o_name\" :device.name,\n                  \"id\": device.id,\n                  \"group\":null,\n                  \"hadGroupSync\":false,\n                  \"last_sended\": 0,\n                  \"collection\": [],\n                };\n                observer.next({\"device\":tmpDevice , \"isNew\":false});\n                observer.complete();\n              }else {\n                observer.next({\"device\":finded , \"isNew\":false});\n                observer.complete();\n              }\n\n            }\n          );\n        }\n\n      }\n    );\n\n  }\n  del(deviceId:string){\n    return Observable.create(\n      observer => {\n\n        let tmp = this.dataStore.deviceList.filter(\n          v => v.id !== deviceId\n        );\n        let sub = Observable.fromPromise(this.storage.setItem(_STORAGE_DEVICES_NAME,tmp));\n        sub.subscribe(\n          (obj)=>{\n            alert('裝置刪除成功！');\n\n            this.dataStore.deviceList=obj;\n            this._list.next(Object.assign({}, this.dataStore).deviceList);\n            //this.bleCmd.goSetGroup( this.dataStore.deviceList.length );\n\n            observer.next(true);\n            observer.complete();\n          },\n          err => {\n            alert('發生錯誤！');\n            observer.next(true);\n            observer.complete();\n          }\n        );\n      }\n    );\n  }\n  add( dd:lightDeviceType ){\n    return Observable.create(\n      observer => {\n        this.dataStore.deviceList.push(dd);\n        let sub = Observable.fromPromise(this.storage.setItem(_STORAGE_DEVICES_NAME,this.dataStore.deviceList));\n        sub.subscribe(\n          (obj)=>{\n            alert('裝置新增成功！');\n\n            this.dataStore.deviceList=obj;\n            this._list.next(Object.assign({}, this.dataStore).deviceList);\n            //this.bleCmd.goSetGroup( this.dataStore.deviceList.length );\n\n            observer.next(true);\n            observer.complete();\n          }\n        );\n      }\n    );\n\n    //return sub;\n  }\n  modifyFanSpeed(fanSpeed:number,idxs:Array<number>){\n    return Observable.create(\n      observer => {\n        this.list.take(1).subscribe(\n          list => {\n            idxs.map(\n              idx => {\n                list[idx].fanSpeed = fanSpeed;\n              });\n            Observable\n              .fromPromise(this.storage.setItem(_STORAGE_DEVICES_NAME,list))\n              .subscribe(\n                (obj)=>{\n                  //this.dataStore.deviceList = obj;\n                  //this._list.next(Object.assign({}, this.dataStore).deviceList);\n                  console.log('>>> modifyFanSpeed成功!!');\n                  observer.next(true);\n                  observer.complete();\n                },\n                ()=>{observer.error(false);observer.complete();}\n              );\n          }\n        );\n\n      }\n    )\n  }\n  modify(d_id:string,d_name:string,d_gid:number,hadGroupSync:boolean=false,collection:Array<number>=null){\n    console.log('>>> Device \"'+ d_id + '\" modifying!');\n    let isNext = false;\n    let tmpOb = Observable.create(\n      observer => {\n        this.dataStore.deviceList.forEach(\n          (ele,idx) =>{\n            if(ele.id == d_id){\n              if(collection){\n                this.dataStore.deviceList[idx].collection = collection;}\n              if(d_name){this.dataStore.deviceList[idx].name = d_name;}\n              if(d_gid){\n                this.dataStore.deviceList[idx].group = d_gid;\n                this.dataStore.deviceList[idx].hadGroupSync = hadGroupSync;\n              }\n              if(hadGroupSync)\n              {\n                this.dataStore.deviceList[idx].hadGroupSync = hadGroupSync;\n                this.dataStore.deviceList[idx].last_sended = new Date().getDate();\n              };\n              console.log('DEBUG');\n              console.log(this.dataStore.deviceList[idx]);\n              Observable\n                .fromPromise(this.storage.setItem(_STORAGE_DEVICES_NAME,this.dataStore.deviceList))\n                .subscribe(\n                  (obj)=>{\n                    this.dataStore.deviceList = obj;\n                    this._list.next(Object.assign({}, this.dataStore).deviceList);\n                    observer.next(true);\n                    observer.complete();\n                    console.log('>>> modify成功!!');\n                    //console.log(this.dataStore.deviceList);\n                  },\n                  ()=>{observer.error(false,'NO ITEM!');observer.complete();}\n                );\n              isNext =true;\n            }else{\n              if( !isNext && idx == this.dataStore.deviceList.length-1 ){\n                console.log(\">>> DevicesDataProvider.modify() NOT FOUND device!\");\n                observer.error(false,'NOT FOUND device!');\n                observer.complete();\n              }\n            }\n          }\n        );\n      }\n    );\n    return tmpOb;\n  }\n}\n@Pipe({\n  name: 'devicesString',\n  pure: false\n})\nexport class devicesToStringPipe implements PipeTransform {\n  constructor(private dProv:DevicesDataProvider){\n  }\n  transform(value:Array<number>, args) {\n    return Observable.create(\n      observer => {\n        this.dProv.list.subscribe(\n          dList => {\n            let resualt = dList\n              .filter(h=>value.indexOf(h.group)>=0)\n              .map(v=>(v.name+'-'+v.group));\n            observer.next(\n              (resualt.length<1)?['空']:resualt\n            );\n            //dListFindSameInGids(dList,value).map(v=>(v.name+'-'+v.group))\n          }\n        );\n      }\n    );\n  }\n}\n/*\nfunction dListFindSameInGids(haystack:Array<lightDeviceType>, arr:Array<any>) {\n  return haystack.filter(\n    h=> arr.indexOf(h.group)>=0\n  )\n};*/\n\n\n\n// WEBPACK FOOTER //\n// ./src/providers/devices-data/devices-data.ts","import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { StartPage } from './start';\n@NgModule({\n  declarations: [\n    StartPage,\n  ],\n\n  imports: [\n\n    IonicPageModule.forChild(StartPage),\n  ],\n})\nexport class StartPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/start/start.module.ts","import { Component, Renderer } from '@angular/core';\nimport { IonicPage,\n  Platform,\n  NavController, NavParams, ViewController, ModalController } from 'ionic-angular';\nimport { TabsPage } from '../tabs/tabs';\nimport { ScreenOrientation } from '@ionic-native/screen-orientation';\nimport { EyeCheckControl } from '../eye-check/eye-check.control';\n\n@IonicPage()\n@Component({\n  selector: 'page-start',\n  templateUrl: 'start.html',\n})\nexport class StartPage {\n  start = false;\n  constructor(\n    public platform: Platform,\n    private t: EyeCheckControl,\n    public modalCtrl: ModalController,\n    private screenOrientation: ScreenOrientation,\n    public navCtrl: NavController,\n    public navParams: NavParams) {\n\n      // get current\n      console.log('===== screenOrientation TYPE ====='); // logs the current orientation, example: 'landscape'\n      console.log(this.screenOrientation.type); // logs the current orientation, example: 'landscape'\n\n      if(this.platform.is('cordova')) {\n        this.screenOrientation.lock(this.screenOrientation.ORIENTATIONS.PORTRAIT);\n      }\n\n      // allow user rotate\n      //this.screenOrientation.unlock();\n\n      // detect orientation changes\n      /*this.screenOrientation.onChange().subscribe(\n        () => {\n            console.log(\">>> Orientation Changed\");\n        }\n      );*/\n\n  }\n  startBtn() {\n    this.start = true;\n  }\n  ionViewDidLoad() {\n    console.log('ionViewDidLoad StartPage');\n  }\n  check () {\n//    this.t.pSetAllTime();\n    this.t.o();\n    //this.t.open('fan', [new Uint8Array([1,60]),new Uint8Array([2,60]),new Uint8Array([3,60])]);\n    // EyeCheckControl.open();\n    /*\n    this.navCtrl.push('EyeCheckPage');*/\n  }\n  go(index){\n    this.navCtrl.setRoot(TabsPage,{\"index\":index});\n  }\n}\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/start/start.ts","import { Component, ViewChild } from '@angular/core';\nimport { NavParams } from 'ionic-angular';\nimport { DevMode } from '../dev-mode/dev-mode';\nimport { ModeManual } from '../mode-manual/mode-manual';\nimport { ModeDevicesPage } from '../mode-devices/mode-devices';\nimport { ModeSchedulePage } from '../mode-schedule/mode-schedule';\nimport { CollectionsPage } from '../collections/collections';\nimport { EyeCheckControl } from '../eye-check/eye-check.control'\n\n@Component({\n  templateUrl: 'tabs.html'\n})\nexport class TabsPage {\n  defaultIndex = 0;\n\n  tab1Root = ModeSchedulePage;\n  tab2Root = ModeManual;\n  tab3Root = ModeDevicesPage;\n  tab4Root = DevMode;\n\n  tab5Root = CollectionsPage;\n\n  constructor(\n    private t: EyeCheckControl,\n    private navParams: NavParams ) {\n    this.defaultIndex = navParams.get(\"index\") || 0;\n  }\n  public correct() {\n    this.t.pSetAllTime();\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/tabs/tabs.ts","import { Component } from '@angular/core';\r\nimport { NavParams,AlertController,ModalController,NavController } from 'ionic-angular';\r\nimport { BleCommandProvider } from  '../../providers/ble-command/ble-command'\r\n\r\nimport { BleOperatorPage } from '../ble-operator/ble-operator';\r\nimport { NativeStorage } from '@ionic-native/native-storage';\r\nimport 'rxjs/add/operator/map';\r\nimport 'rxjs/add/operator/take';\r\nimport 'rxjs/add/observable/fromPromise';\r\nimport { Observable } from 'rxjs/Observable';\r\n\r\nimport { lightDeviceType,DevicesDataProvider } from '../../providers/devices-data/devices-data'\r\nimport { CollectionsDataProvider,collectionType } from '../../providers/collections-data/collections-data';\r\n\r\n\r\nconst _DEV_SETTINGS_LIST = 'devValueList';\r\ninterface devSetting {\r\n  \"name\":string,\r\n  \"value\":Array<number>,\r\n  \"multiple\":number,\r\n  \"color\":string\r\n}\r\n@Component({\r\n  selector: 'page-dev-mode',\r\n  templateUrl: 'dev-mode.html',\r\n})\r\nexport class DevMode {\r\n  /** collectionsList ionCheckbox*/\r\n  collectionsList:Observable<collectionType[]>;\r\n  collectionsChecks:Array<boolean> = Array.from({length:12},v=>false);\r\n  /** */\r\n\r\n  devDataStore:{\r\n    \"list\": Array<devSetting>\r\n  };\r\n\r\n  numTest: object = {'0':99};\r\n  ggg: object = {value:1};\r\n  testNumWheel : Function =function(){\r\n    console.log('testNumWheel!');\r\n  }\r\n /*lightLinesArrType : Array<{\r\n    \"value\":number\r\n  }>*/\r\n  \r\n  saveSettings : {\r\n    \"isEdit\":boolean,\r\n  }\r\n  devicesList : Observable<Array<any>>;\r\n  deviceMeta = {\r\n    \"groups\" : [0],\r\n    \"curMultiple\":0, \r\n  };\r\n  constructor(\r\n    private clProv : CollectionsDataProvider,\r\n    private devicesDataProv: DevicesDataProvider,\r\n    private bleCmd: BleCommandProvider,\r\n    private storage:NativeStorage,\r\n    private alertCtrl:AlertController,\r\n    public modalCtrl: ModalController,\r\n    public navCtrl: NavController,\r\n    ) {\r\n    this.collectionsList = this.clProv.list;\r\n    this.devicesList = this.devicesDataProv.list;\r\n    //this.lightLinesArr =    \r\n    this.saveSettings= {\r\n      \"isEdit\":false,\r\n    };\r\n    this.devDataStore = {\r\n      \"list\":[]\r\n    };\r\n  }\r\n  ionViewDidEnter(){\r\n\r\n    Observable.fromPromise(this.storage.getItem(_DEV_SETTINGS_LIST)).subscribe(\r\n      value=>{\r\n        if(typeof value != 'object') value = JSON.parse(value);\r\n        this.devDataStore.list = value;\r\n      },\r\n      ()=>{\r\n        this.devDataStore.list = [\r\n            {\"name\":\"測試1\",\"value\":[1,2,3,4,5,6,7,8,9,10,11,12],\"multiple\":20,\"color\":\"blue\"},\r\n            {\"name\":\"測試2\",\"value\":[1,2,3,4,5,6,7,8,9,10,11,12],\"multiple\":20,\"color\":\"blue\"},\r\n            {\"name\":\"測試3\",\"value\":[1,2,3,4,5,6,7,8,9,10,11,12],\"multiple\":20,\"color\":\"blue\"},\r\n            {\"name\":\"測試3\",\"value\":[1,2,3,4,5,6,7,8,9,10,11,12],\"multiple\":20,\"color\":\"blue\"},\r\n          ];\r\n        this.storage.setItem(_DEV_SETTINGS_LIST,this.devDataStore.list).then(); \r\n      }\r\n    );\r\n  }\r\n  showEdit(){\r\n    this.saveSettings.isEdit = !this.saveSettings.isEdit;\r\n  }\r\n  triggerDevBtn(idx:number){\r\n    console.log('triggerDevBtn('+idx+')');\r\n    if(this.saveSettings.isEdit){\r\n      this.editDevSetting(idx);\r\n    }else{\r\n      this.sendDevSetting(idx);\r\n    }\r\n  }\r\n  addDevSetting(){\r\n    this.devDataStore.list.push({\"name\":\"按鈕\",\"value\":[0,0,0,0,0,0,0,0,0,0,0,0],\"multiple\":30,\"color\":\"blue\"});\r\n    this.saveSettingsToStorage();\r\n  }\r\n  saveSettingsToStorage(){\r\n    Observable.fromPromise(this.storage.setItem(_DEV_SETTINGS_LIST,this.devDataStore.list))\r\n      .take(1).subscribe(\r\n        () => {console.log('成功！');},\r\n        () => {alert('未知的錯誤！');}\r\n      );\r\n  }\r\n  editDevSetting(idx:number){\r\n    this.navCtrl.push(editDevSettingPage, { \"idx\":idx });\r\n  }\r\n  sendDevSetting(idx:number){\r\n    let tmp = this.devDataStore.list[idx];\r\n    this.bleCmd.goDevCollectionsMultiple(\r\n      tmp.multiple,\r\n      this.collectionsChecks,\r\n      tmp.value\r\n    ).subscribe();\r\n  }\r\n  /*sendDevSetting(idx:number){\r\n    let tmp = this.devDataStore.list[idx];\r\n    this.bleCmd.goDevMultiple(\r\n      tmp.multiple,\r\n      this.deviceMeta.groups,\r\n      tmp.value\r\n    ).subscribe();\r\n  }*/\r\n/*\r\n  sendDev(){\r\n    let multi=this.deviceMeta.curMultiple;\r\n    this.deviceMeta.groups.forEach((group,idx) => {\r\n      setTimeout(()=>{\r\n        this.bleCmd.goDev(\r\n          multi,\r\n          group,\r\n          this.saveSettings.lightLinesArr.map(val=>val.value)\r\n        );\r\n       }, 1000*idx,group)\r\n    });\r\n  }*/\r\n  openBleModal(){\r\n    this.navCtrl.push(BleOperatorPage);\r\n    /*let modal = this.modalCtrl.create(BleOperatorPage);\r\n    modal.present();*/\r\n  }\r\n\r\nonNumberChanged(event){\r\n  console.log(event);\r\n}\r\n  ionViewDidLoad() {\r\n    console.log('ionViewDidLoad DevMode');\r\n  }\r\n\r\n}\r\n\r\n@Component({\r\n  templateUrl: 'edit-setting.html'\r\n})\r\nexport class editDevSettingPage {\r\n\r\n  saveSettings : {\r\n    \"settingMeta\":devSetting;\r\n    \"devValueList\":Array<devSetting>,\r\n    \"lightLinesArr\":Array<{\r\n      value:number\r\n    }>\r\n  }\r\n  \r\n\r\n  constructor(\r\n    private storage:NativeStorage,\r\n    private alertCtrl: AlertController,\r\n    private navCtrl: NavParams,\r\n    public navigaCtrl: NavController\r\n  ){\r\n    this.saveSettings= {\r\n      \"settingMeta\":{\r\n        \"name\":null,\r\n        \"value\":[],\r\n        \"multiple\":0,\r\n        \"color\":\"string\"\r\n      },\r\n      \"devValueList\":[],\r\n      \"lightLinesArr\":Array.from( new Array(12),((val,index) => ({'value':0}) )) // [1 to 12] \r\n    };\r\n\r\n  }\r\n  ionViewDidEnter(){\r\n\r\n    Observable.fromPromise(this.storage.getItem(_DEV_SETTINGS_LIST)).subscribe(\r\n      value=>{\r\n        if(typeof value != 'object') value = JSON.parse(value);\r\n        let tmpSetting = value[this.navCtrl.data[\"idx\"]];\r\n        this.saveSettings.settingMeta = {\r\n          \"name\":tmpSetting.name,\r\n          \"value\":tmpSetting.value,\r\n          \"multiple\":tmpSetting.multiple,\r\n          \"color\":tmpSetting.color\r\n        }\r\n        this.saveSettings.devValueList = value;\r\n        this.saveSettings.lightLinesArr = tmpSetting.value.map(val=>({'value':val}));\r\n      },\r\n      ()=>{}\r\n    );\r\n  }\r\n  remove(){\r\n    let confirm = this.alertCtrl.create({\r\n      title: '刪除此按鈕',\r\n      message: '確定刪除此組按鈕設定？',\r\n      buttons: [\r\n        {\r\n          text: '取消',\r\n          handler: () => {\r\n            console.log('Disagree clicked');\r\n          }\r\n        },\r\n        {\r\n          text: '確定',\r\n          handler: () => {\r\n            this.saveSettings.devValueList.splice(this.navCtrl.data[\"idx\"],1);\r\n            Observable.fromPromise(this.storage.setItem(_DEV_SETTINGS_LIST,this.saveSettings.devValueList))\r\n            .take(1).subscribe(\r\n              () => {\r\n                this.navigaCtrl.pop();\r\n              },\r\n              () => {alert('未知的錯誤！');}\r\n            );\r\n          }\r\n        }\r\n      ]\r\n    });\r\n    confirm.present();\r\n    \r\n  }\r\n  editName(){\r\n    let alert = this.alertCtrl.create({\r\n      title: '更改名稱',\r\n      inputs: [\r\n        {\r\n          name: 'name',\r\n          placeholder: '請輸入按鈕名稱...'\r\n        }\r\n      ],\r\n      buttons: [\r\n        {\r\n          text: '取消',\r\n          role: 'cancel',\r\n          handler: data => {\r\n            console.log('Cancel clicked');\r\n          }\r\n        },\r\n        {\r\n          text: '確定',\r\n          handler: data => {\r\n            this.saveSettings.settingMeta.name = data.name;\r\n          }\r\n        }\r\n      ]\r\n    });\r\n    alert.present();\r\n  }\r\n\r\n  saveSettingsToStorage(){\r\n    console.log(this.saveSettings.lightLinesArr);\r\n    this.saveSettings.settingMeta.value = this.saveSettings.lightLinesArr.map(val=>val.value);\r\n    console.log(this.saveSettings.settingMeta);\r\n    this.saveSettings.devValueList[this.navCtrl.data[\"idx\"]] = this.saveSettings.settingMeta;\r\n\r\n    Observable.fromPromise(this.storage.setItem(_DEV_SETTINGS_LIST,this.saveSettings.devValueList))\r\n      .take(1).subscribe(\r\n        () => {alert('成功！');},\r\n        () => {alert('未知的錯誤！');}\r\n      );\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/dev-mode/dev-mode.ts","import { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\r\n\r\n\r\nimport { AppModule } from './app.module';\r\n\r\n//import { Storage } from '@ionic/storage';\r\nimport {enableProdMode} from '@angular/core';\r\n//enableProdMode();\r\n\r\n\r\nplatformBrowserDynamic().bootstrapModule(AppModule);\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/main.ts","import { NgModule, ErrorHandler } from '@angular/core';\nimport { BrowserModule } from '@angular/platform-browser';\nimport { IonicApp, IonicModule, IonicErrorHandler } from 'ionic-angular';\n\nimport { FormsModule } from '@angular/forms';\nimport { BLE } from '@ionic-native/ble';\n//import { BluetoothSerial } from '@ionic-native/bluetooth-serial';\nimport { AndroidPermissions } from '@ionic-native/android-permissions';\n\nimport { HttpModule } from '@angular/http';\n\n/* COMPONENT */\nimport { MyApp } from './app.component';\n//import { ComponentsModule } from '../components/components.module';\n\n//import { TabsPage } from '../pages/tabs/tabs';\nimport { TabsPageModule } from '../pages/tabs/tabs.module';\nimport { CollectionsModule } from '../providers/collections-data/collections-data.module';\n/* IONIC NATIVE */\nimport { WheelSelector } from '@ionic-native/wheel-selector';\nimport { StatusBar } from '@ionic-native/status-bar';\nimport { SplashScreen } from '@ionic-native/splash-screen';\nimport { NativeStorage } from '@ionic-native/native-storage';\n\n/* PROVIDERS */\n\nimport { ToastCtrlProvider } from '../providers/toast-ctrl/toast-ctrl';\nimport { BleCtrlProvider } from '../providers/ble-ctrl/ble-ctrl';\nimport { BleCommandProvider } from '../providers/ble-command/ble-command';\nimport { DevicesDataProvider } from '../providers/devices-data/devices-data';\nimport { ScheduleDataProvider } from '../providers/schedule-data/schedule-data';\nimport { AppStateProvider } from '../providers/app-state/app-state';\n\nimport { ScreenOrientation } from '@ionic-native/screen-orientation';\n\nimport { EyeCheckPageModule } from '../pages/eye-check/eye-check.module'\n\n@NgModule({\n  declarations: [\n    //NumberPickerComponent,\n    //LightsChartComponent,\n    /*editDevicePage,\n    ModeDevicesPage,\n    DevMode,editDevSettingPage,\n    TabsPage,*/\n    MyApp,\n  ],\n  exports:[\n  //NumberPickerComponent,\n   //LightsChartComponent\n  ],\n  imports: [\n    EyeCheckPageModule,\n    //ComponentsModule,\n    HttpModule,\n    TabsPageModule,\n    /*ModeSchedulePageModule,\n    ModeManualModule,*/\n    FormsModule,\n    BrowserModule,\n    IonicModule.forRoot(MyApp),\n    CollectionsModule\n\n\n    //BleOperatorPageModule\n\n  ],\n  bootstrap: [IonicApp],\n  entryComponents: [\n    /*TabsPage,\n    editDevicePage,\n    ModeDevicesPage,\n    DevMode,editDevSettingPage,*/\n    MyApp,\n\n  ],\n  providers: [\n    ScreenOrientation,\n    AndroidPermissions,\n    BLE,\n    NativeStorage,\n    WheelSelector,\n    StatusBar,\n    SplashScreen,\n    {provide: ErrorHandler, useClass: IonicErrorHandler},\n    ToastCtrlProvider,\n    BleCtrlProvider,\n    BleCommandProvider,\n    DevicesDataProvider,\n    ScheduleDataProvider,\n    AppStateProvider\n\n  ]\n})\nexport class AppModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/app.module.ts","import { Injectable } from '@angular/core';\nimport 'rxjs/add/operator/map';\nimport 'rxjs/add/operator/take';\nimport 'rxjs/add/operator/withLatestFrom';\nimport 'rxjs/add/observable/fromPromise';\nimport { Observable } from 'rxjs/Observable';\n\nimport { BleCtrlProvider } from '../ble-ctrl/ble-ctrl'\nimport { DevicesDataProvider } from '../devices-data/devices-data'\n\n\nimport { ScheduleDataProvider,scheduleType } from '../../providers/schedule-data/schedule-data'\nimport { CollectionsDataProvider } from '../../providers/collections-data/collections-data'\nimport { AppStateProvider } from  '../../providers/app-state/app-state';\nimport { ToastCtrlProvider } from  '../../providers/toast-ctrl/toast-ctrl';\n\nconst _START = 0xFA;\nconst _END = 0xFF;\n/* */\nconst _CMD_TIME = 0xA0;  // s,cmd, HOUR,MIN,SEC ,e\nconst _CMD_SET_GROUP = 0xA1;// s,cmd, GROUP, ,e\nconst _CMD_MANUAL_MODE = 0xAA;// s,cmd, MULTIPLE,TYPE,GROUP ,e\nconst _CMD_SCHEDULE_MODE = 0xAB;// s,cmd, MULTIPLE,TYPE,GROUP,HOUR,MIN,KEY ,e\nconst _CMD_DISABLE_EYECEHCK = 0xAE;\nconst _CMD_DEV_MODE = 0xAC; // s,cmd, MULTIPLE,GROUP, L1~L12, e\nconst _CMD_FAN_SPEED = 0xAD; // s,cmd, fan, e\n\n/*\n  Generated class for the BleCommandProvider provider.\n\n  See https://angular.io/docs/ts/latest/guide/dependency-injection.html\n  for more info on providers and Angular DI.\n*/\n@Injectable()\nexport class BleCommandProvider {\n  //devicesList:any;//lightDeviceType[]\n  constructor(\n    private toastCtrl:ToastCtrlProvider,\n    private appStateProv: AppStateProvider,\n    private ScheduleProv: ScheduleDataProvider,\n    private clProv: CollectionsDataProvider,\n    private devicesData: DevicesDataProvider,\n    public bleCtrl: BleCtrlProvider) {\n    //this.devicesList = this.devicesData.list;\n    console.log('Hello BleCommandProvider Provider');\n  }\n  goSyncSchedule(){\n    return Observable.create(\n      observer => {\n        let sendCmds = [];\n        /* 清除所有群組內的排程 -> 寫入排程 -> 將目前光譜設定為當下排程的光譜  */\n        let deviceRmScheduleList = [];\n        let deviceScheduleList =[];\n        let deviceSetCurrent = [];\n\n\n        /** deviceRmScheduleList END */\n\n        /*scheduleCheckNow*/\n        let nowHour = new Date().getHours();\n\n        /** */\n        this.ScheduleProcess1().subscribe(\n          deNor => {\n            /** deviceRmScheduleList START\n             *  清除所有群組內的排程\n             * */\n            this.devicesData.list.subscribe(\n              dList => {\n                dList.map(\n                  dd => {\n                    deviceRmScheduleList.push(\n                      new Uint8Array([\n                        _START,\n                        _CMD_SCHEDULE_MODE,\n                        0,\n                        0,\n                        dd.group,\n                        0,\n                        0,\n                        0xaa,\n                        _END])\n                    );\n                  }\n                );\n              }\n            );\n            /** deviceRmScheduleList END */\n\n            // 排程模式指令 START\n            console.log(deNor);\n            for(let key in deNor){\n              let detectNow = {\n                \"multiple\":0,\n                \"mode\":0,\n                \"time_num\":[0,0]\n              }\n\n                let end = [];\n                let list = deNor[key];\n                list.map((v,idx) => {\n                  let cnt = 1;\n\n                  if(!list[idx+cnt]) return 0;\n                  while(\n                    (v.multiple === 0 && list[idx+cnt].multiple===0) ||\n                    (v.multiple === list[idx+cnt].multiple && v.mode === list[idx+cnt].mode)\n                  ) {\n                    cnt++;\n                    if(!list[idx+cnt]) {break;};\n                \t}\n\n                  if(v.multiple ===0) {\n                    end.push({\n                      ...v,\n                      end: v.hour + cnt-1,\n                      mode: 0,\n                    });\n                  }else {\n                    end.push({\n                      ...v,\n                      end: v.hour + cnt-1,\n                    });\n                  }\n\n                  list.splice(idx, cnt-1);\n                });\n\n\n              deviceScheduleList = deviceScheduleList.concat(\n                end.map((ss,sid) => {\n                    if(nowHour>=ss.time_num[0]){\n                      detectNow.multiple = ss.multiple;\n                      detectNow.mode = ss.mode;\n                      detectNow.time_num = ss.time_num;\n                      console.log('nowHour');\n                    }\n\n                    return (new Uint8Array([\n                        _START,\n                        _CMD_SCHEDULE_MODE,\n                        ss.multiple,\n                        ss.mode,\n                        key,\n                        ss.time_num[0],\n                        ss.time_num[1],\n                        sid+1,\n                        _END]) );\n                  })\n              );\n              //[_START,_CMD_MANUAL_MODE,multi,type,gid,_END\n\n              // 利用手動模式，讓裝置符合排程當下的模式\n              deviceSetCurrent.push(\n                new Uint8Array([\n                  _START,\n                  _CMD_MANUAL_MODE,\n                  detectNow.multiple,\n                  detectNow.mode,\n                  parseInt(key),\n                  _END])\n              );\n            }/*\n            Object.keys(deNor).map(\n              (key,idx) => {\n              }\n            );*/\n            /*\n            console.log('deviceScheduleList');\n            console.log(deviceScheduleList);\n            console.log('deviceSetCurrent');\n            console.log(deviceSetCurrent);*/\n            /*\n                1 devices To N colletions 複雜啊！\n                先刪除重複 -> 排序\n            */\n            /** deviceScheduleList SORT */\n            /*deviceScheduleList.filter(\n              (a,b) => {\n                return 1;\n              }\n            );*/\n            /** deviceSetCurrent SORT */\n\n            observer.next({\n              rmSchedule: deviceRmScheduleList,\n              allSchedule: deviceScheduleList,\n              currentSchedule: deviceSetCurrent,\n            });\n            observer.complete();\n            /*\n            sendCmds = sendCmds.concat(deviceRmScheduleList)\n                                .concat(deviceScheduleList)\n                                .concat(deviceSetCurrent);\n            console.log('====SEND CMDS====');\n            console.log(sendCmds);*/\n            // sendCmds = sendCmds.concat(sendCmds);  // DOUBLE CMDS\n            //this.ScheduleProv.saveSyncSchedule(sendCmds);  // 暫時不會用到\n\n            /* 2018 eye\n            this.bleCtrl.write_many(sendCmds,sendCmds.length*0.4, true).subscribe(\n              (isOk)=>{\n                this.appStateProv.action({type:'sche',payload:true});\n                observer.next(isOk);observer.complete();\n              }\n            );*/\n\n          }\n        );\n      }\n    );\n  }/*\n  scheduleCheckDup(deNor, key, len, CurrentID = 0, noDup = true, isC =false, Cnum = 0,) {\n    let dupIDs = [];\n    if(CurrentID + 2 < len) {\n      Cnum = (isC)?Cnum+1:0;\n      return\n        (deNor[key][CurrentID].multiple == deNor[key][CurrentID+1].multiple)?\n          ( deNor[key][CurrentID].mode == deNor[key][CurrentID+1].mode )?\n            this.scheduleCheckDup(deNor, key, len, CurrentID+1, n);\n          : (true)\n        : (true);\n    }else {\n      return {\n        noDup: noDup,\n        dupIDs: dupIDs,\n      };\n    }\n\n    for(let key in deNor){\n      let len = deNor[key].length;\n        deNor[key].filter( (ss,sid) => {\n          if ( sid + 2 < len) {\n            ( ss.multiple == deNor[key][sid+1].multiple )?\n              ( ss.mode == deNor[key][sid+1].mode )?\n                  ( ss.multiple == deNor[key][sid+2].multiple )?\n                    ( ss.mode == deNor[key][sid+2].mode )?\n\n                    : (true)\n                  : (true)\n              : (true)\n            : (true);\n          }\n        });\n    }\n  }*/\n  scheduleCheckNow(){\n    let time = new Date();\n  }\n  ScheduleProcessGo(){\n    return Observable.create(\n      observer =>{\n        this.ScheduleProcess1().subscribe(\n          deNor => {\n\n          }\n        );\n      }\n    );\n  }\n  collectionsToDeviceGid(checks:Array<boolean>){\n    return Observable.create(\n      observer => {\n        this.clProv.list.take(1).subscribe(\n          clList => {\n            let allDevices:Array<number> = []; // [groupIds]\n            clList.map(\n              (cl,idx) => {\n                if(checks[idx]){\n                  allDevices = allDevices.concat(cl.devices);\n                }\n              }\n            );\n            allDevices = allDevices.filter(\n              (ele,idx,self) => {\n                return idx == self.indexOf(ele);\n              }\n            );\n            console.log('>>> collectionsToDeviceGid');\n            console.log(allDevices);\n            observer.next(allDevices);\n            observer.complete();\n          }\n        );\n      }\n    );\n  }\n  ScheduleProcess1(){\n    return Observable.create(\n      observer => {\n        let deNormalization = {};\n\n        this.ScheduleProv.list\n        .take(1).subscribe(\n          ssList=>{\n            ssList.map(ss=>{\n              this.collectionsToDeviceGid(ss.checks).take(1).subscribe(allDevices => {\n                  allDevices.forEach(element => {\n                    if(deNormalization[element])\n                      deNormalization[element] = deNormalization[element].concat(ss.sectionsList);\n                    else {\n                      deNormalization[element] = [];\n                      deNormalization[element] = deNormalization[element].concat(ss.sectionsList);\n                    }\n                  });\n              });\n            });\n            console.log('>>> ScheduleProcess1 > deNormalization');\n            console.log(deNormalization);\n\n            observer.next(deNormalization);\n            observer.complete();\n          }\n        );\n\n\n      }\n    );\n  }\n  goTimeChangeMulti(gids: Array<number>, hms: string) {\n    return Observable.create(observer => {\n      let timeArr = hms.split(':').map(v=>parseInt(v));\n      if (gids.length>0) {\n        let cmds = gids.map(gid=>new Uint8Array([_START,_CMD_TIME,timeArr[0],timeArr[1],timeArr[2],gid,_END]));\n        cmds.concat(cmds);\n        this.bleCtrl.write_many(cmds, null, true).subscribe(\n          (isOk)=>{\n            observer.next(isOk);\n            observer.complete();\n          }\n        );\n      }else{\n        this.toastCtrl.showToast('無裝置！');\n        observer.next(false);\n        observer.complete();\n      }\n    });\n  }\n  goTimeChange(hms:string){\n    return Observable.create(observer => {\n      let timeArr = hms.split(':').map(v=>parseInt(v));\n      let cmds = [new Uint8Array([_START,_CMD_TIME,timeArr[0],timeArr[1],timeArr[2],_END])];\n      this.bleCtrl.write_many(cmds, null, true).subscribe(isOk=>{\n        observer.next(isOk);\n        observer.complete();\n      });\n    });\n  }\n  goSyncTime(){\n    let time = new Date();\n    let data = new Uint8Array([_START,_CMD_TIME,time.getHours(),time.getMinutes(),time.getSeconds(),_END]);\n    this.bleCtrl.write(data,()=>{},()=>{},true);\n  }\n  goSetGroupOther(gid,deviceId){\n    gid = parseInt(gid);\n    let data = new Uint8Array([_START,_CMD_SET_GROUP,gid,_END]);\n    this.bleCtrl.connectOnce(deviceId).subscribe(\n      isScc=>{\n        if(isScc){\n          this.bleCtrl.write(data,\n            (id)=>{\n              this.devicesData.modify(id,null,gid).subscribe();\n              alert('修改\"編號\"成功！');\n            },\n            (id)=>{\n              this.devicesData.modify(id,null,gid).subscribe();\n              alert('成功連接但傳送時失敗，但仍會在APP顯示方才所更改的\"編號\"值');\n            },true,deviceId\n          );\n        }else{\n          this.devicesData.modify(deviceId,null,gid).subscribe();\n          alert('修改該裝置\"編號\"失敗(找不到裝置)，但仍會在APP顯示方才所更改的\"編號\"值');\n        }\n      }\n    );\n  }\n  goSetGroup(gid){\n    gid = parseInt(gid);\n    let data = new Uint8Array([_START,_CMD_SET_GROUP,gid,_END]);\n    this.bleCtrl.write(data,\n      (id)=>{\n        this.devicesData.modify(id,null,gid).subscribe();\n        alert('修改\"編號\"成功！');\n      },\n      (id)=>{\n        this.devicesData.modify(id,null,gid).subscribe();\n        alert('成功連接但傳送時失敗，但仍會在APP顯示方才所更改的\"編號\"值');\n      },true\n    );\n  }\n  /** MANAUL MODE */\n  disableManaul(){\n    this.ScheduleProv.getSyncSchedule().subscribe(\n      cmds => {\n        this.bleCtrl.write_many(cmds).subscribe();\n      }\n    );\n  }\n  goManualModeMulti(multi,type,gids){\n    return Observable.create(\n      observer => {\n        if(gids.length>0){\n\n          /*let rm_cmds =\n            gids.map( gid => new Uint8Array([_START,_CMD_SCHEDULE_MODE,0,0,gid,0,0,0xaa,_END]) );*/\n          let ma_cmds =\n            gids.map( gid => new Uint8Array([_START,_CMD_MANUAL_MODE,multi,type,gid,_END]) );\n\n          let sendCmds = [].concat(ma_cmds); // .concat(rm_cmds)\n          // sendCmds = sendCmds.concat(sendCmds);  //DOUBLE CMDS\n\n          this.bleCtrl.write_many(sendCmds,sendCmds.length*0.2).subscribe(\n            (isOk)=>{\n              this.appStateProv.action({type:'manual',payload:true});\n              observer.next(isOk);\n              observer.complete();\n            }\n          );\n        }else{\n          this.toastCtrl.showToast('無裝置！');\n          observer.next(false);\n          observer.complete();\n        }\n      }\n    );\n\n\n  }\n  goManualMode(multi,type,gid){\n    let cmds =\n      [\n        new Uint8Array([_START,_CMD_SCHEDULE_MODE,0,0,gid,0,0,0xaa,_END]),\n        new Uint8Array([_START,_CMD_MANUAL_MODE,multi,type,gid,_END])\n      ];\n    this.bleCtrl.write_many(cmds).subscribe();\n\n  }\n  /** */\n  goManual(multi,type,gid){\n    let data = new Uint8Array([_START,_CMD_MANUAL_MODE,multi,type,gid,_END]);\n    this.bleCtrl.write(data);\n  }\n  private _appendBuffer (buffer1, buffer2) {\n    let tmp = new Uint8Array(buffer1.byteLength + buffer2.byteLength);\n    tmp.set(new Uint8Array(buffer1), 0);\n    tmp.set(new Uint8Array(buffer2), buffer1.byteLength);\n    return tmp;\n  };\n  goDevCollectionsMultiple(multi,checks,arr){\n    return Observable.create(\n      observer => {\n        this.collectionsToDeviceGid(checks).take(1).subscribe(\n          gids => {\n            let cmds = gids.map(\n              gid=>new Uint8Array([_START,_CMD_DEV_MODE,multi,gid, ...arr ,_END])\n            );\n            this.bleCtrl.write_many(cmds,cmds.length*0.5).subscribe(\n              (isOk)=>{\n                observer.next(isOk);observer.complete();\n              }\n            );\n          }\n        )\n      }\n    );\n  }\n  goDevMultiple(multi,gids,arr){\n    return Observable.create(\n      observer => {\n        if (gids.length>0) {\n          let cmds = gids.map(gid=>new Uint8Array([_START,_CMD_DEV_MODE,multi,gid, ...arr ,_END]));\n          this.bleCtrl.write_many(cmds).subscribe(\n            (isOk)=>{\n              observer.next(isOk);\n              observer.complete();\n            }\n          );\n        }else{\n          observer.next(true);\n          observer.complete();\n        }\n\n      }\n    );\n  }\n  goFanMultipleEye(gids:Array<number>,speed) {\n    return Observable.create(\n      observer => {\n        if (gids.length>0) {\n          let cmds = gids.map(gid=>new Uint8Array([_START,_CMD_FAN_SPEED,speed,gid,_END]));\n          cmds.concat(cmds);\n          observer.next(cmds);\n        }else{\n          this.toastCtrl.showToast('無裝置！');\n          observer.next(false);\n          observer.complete();\n        }\n\n      }\n    );\n  }\n  goFanMultiple(gids:Array<number>,speed){\n    return Observable.create(\n      observer => {\n        if (gids.length>0) {\n          let cmds = gids.map(gid=>new Uint8Array([_START,_CMD_FAN_SPEED,speed,gid,_END]));\n          cmds.concat(cmds);\n          this.bleCtrl.write_many(cmds, null, true).subscribe(\n            (isOk)=>{\n              observer.next(isOk);\n              observer.complete();\n            }\n          );\n        }else{\n          this.toastCtrl.showToast('無裝置！');\n          observer.next(false);\n          observer.complete();\n        }\n\n      }\n    );\n  }\n\n  /// eyeSchedule(multiple=0, light=0, gid, hour, min, key) {\n  eyeSchedule(cmd:Uint8Array) {\n    // let data = new Uint8Array([_START,_CMD_SCHEDULE_MODE,multiple,light,gid,hour,min,key,_END]);\n    this.bleCtrl.writeObs(cmd).subscribe(()=>{},()=>{});\n  }\n  eyeTime(times:Array<number>, gid:number){\n    let data = new Uint8Array([_START,_CMD_TIME,times[0],times[1],times[2],gid,_END]);\n    this.bleCtrl.writeObs(data).subscribe(()=>{},()=>{});\n  }\n  eyeFan(speed:number, gid:number) {\n    let data = new Uint8Array([_START,_CMD_FAN_SPEED,speed,gid,_END]);\n    this.bleCtrl.writeObs(data).subscribe(()=>{},()=>{});\n  }\n  eyeSetGroup(gid) {\n    let data = new Uint8Array([_START,_CMD_SET_GROUP,gid,_END]);\n    this.bleCtrl.writeObs(data).subscribe(\n      (scc)=>{\n        this.devicesData.modify(scc,null,gid).subscribe();\n        this.toastCtrl.showToast('修改裝置編號成功！');\n      },\n      (err)=>{\n        this.bleCtrl.disconnectCurrent().subscribe();\n        this.toastCtrl.showToast('傳送失敗，請重新連結！');\n      }\n    );\n  }\n  eyeDisable() {\n    let data = new Uint8Array([_START,_CMD_DISABLE_EYECEHCK,0x01,_END]);\n    this.bleCtrl.writeObs(data).subscribe(()=>{},()=>{});\n  }\n\n\n\n\n  // 目檢功能\n  /**\n時間校正A0\n定義群組 A1\n設定排程AB\n風扇轉速調整 AD\n以上指令下達後，裝置接收正確會改成綠燈\n使用者要在手動下達關閉指示燈AE指令\n   *//*\n  eyeCheck() {\n    return Observable.create(observer => {\n\n    });\n\n  }*/\n\n  /** */\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/providers/ble-command/ble-command.ts","import { Injectable } from '@angular/core';\nimport { ToastController,LoadingController } from 'ionic-angular';\n\n@Injectable()\nexport class ToastCtrlProvider {\n\n  constructor(\n    public toastCtrl:ToastController,\n    public loadingCtrl: LoadingController) {\n  }\n  showToast(message:string,ms=3000,pos='bottom'){\n    let toast = this.toastCtrl.create({\n      message: message,\n      duration: ms,\n      position: pos,\n      showCloseButton:true\n    });\n    toast.onDidDismiss(() => {\n      //console.log('Dismissed toast');\n    });\n    toast.present();\n    return toast;\n  }\n  showLoading(content=\"Please wait...\",ms=null){\n    let loader = this.loadingCtrl.create({\n      content: content,\n    });\n    if(ms){\n      setTimeout(()=>{\n        //fn();\n      },ms);\n    }\n    loader.present();\n    return loader;\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/providers/toast-ctrl/toast-ctrl.ts","import { NgModule } from '@angular/core';\r\nimport { devicesToStringPipe,DevicesDataProvider } from './devices-data';\r\n\r\n@NgModule({\r\n  declarations: [\r\n    devicesToStringPipe,\r\n  ],\r\n  exports: [\r\n    devicesToStringPipe,\r\n  ],\r\n  imports: [],\r\n  providers: [\r\n    DevicesDataProvider\r\n  ],\r\n})\r\nexport class devicesDataModule {\r\n  static forRoot() {\r\n    return {\r\n        ngModule: devicesDataModule\r\n    };\r\n }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/providers/devices-data/devices-data.module.ts","\nimport { Injectable } from '@angular/core';\nimport { ModalController } from 'ionic-angular';\nimport { EyeCheckPage } from './eye-check'\nimport { nowStatus,BleCtrlProvider } from '../../providers/ble-ctrl/ble-ctrl';\nimport { DevicesDataProvider,lightDeviceType } from '../../providers/devices-data/devices-data'\nimport { ToastCtrlProvider } from  '../../providers/toast-ctrl/toast-ctrl';\nimport { ActionNameEnum, ActionType } from './eye-check';\nconst _DEFAULT_MESSAGE\n   = ['亮綠燈表這顆燈有接收到正確的指令',\n    '若沒亮綠燈重複請按開啟綠燈按鈕',\n    '綠燈亮後 3 秒會自動關閉'];\n@Injectable()\nexport class EyeCheckControl {\n  constructor(\n    private toastCtrl:ToastCtrlProvider,\n    private devicesData:DevicesDataProvider,\n    private bleCtrl:BleCtrlProvider,\n    public modalCtrl: ModalController,\n  ) {\n\n  }\n  o() {\n    let actions = [{\n      type: ActionNameEnum.SCHEDULE_ALL,\n          payload: {\n            message:['寫除排程必須先清空裝置內所有排程紀錄才能寫入新的排程',..._DEFAULT_MESSAGE,],\n            gid: 8,\n            cmd: new Uint8Array([250,171,30,6,99,23,59,1,255]),\n          }\n    },{\n      type: ActionNameEnum.SCHEDULE_REMOVE,\n          payload: {\n            message:['寫除排程必須先清空裝置內所有排程紀錄才能寫入新的排程',..._DEFAULT_MESSAGE,],\n            gid: 8,\n            cmd: new Uint8Array([250,171,30,6,99,23,59,0xaa,255]),\n          }\n    }, {\n      type: ActionNameEnum.FIRST_ADD_GROUP,\n      payload: {\n        message:['發現新裝置時，會同步裝置的編號，為了確認裝置正確接收，此時會做目檢確認',\n                '亮綠燈表這顆燈有接收到正確的指令',\n                '若沒亮綠燈重複請按開啟綠燈按鈕',\n                '綠燈亮後 3 秒會自動關閉'],\n        macAddress: '12:34:56:67:67:34',\n        groupID: 99,\n      }\n    }, {\n      type: ActionNameEnum.TIME,\n      payload: {\n        message:['第一次加入裝置後，須作時間校正以同步裝置內部時間，確保排程能按時執行',\n                '亮綠燈表這顆燈有接收到正確的指令',\n                '若沒亮綠燈重複請按開啟綠燈按鈕',\n                '綠燈亮後 3 秒會自動關閉'],\n        cmd: null,\n        gid: 2\n      }\n    }, {\n      type: ActionNameEnum.FANSPEED,\n      payload: {\n        message:['風扇預設轉速為50%，如不需調整請按下一步',\n                '風扇可調範圍為40% ~ 100%，可拉bar或按藍色方框調整，調整完成後請按傳送',\n                '注意！風速越強，雖晶粒溫度較低（LED壽命越長），但聲音較大。',\n                '按下確認後，確認裝置有亮綠燈即可進行下一步'],\n        cmd: null,\n        gid: 10,\n      }\n    }];\n    this.open2(actions);\n  }\n  open(type: ActionNameEnum,cmds: Array<Uint8Array>) {\n    let profileModal\n     = this.modalCtrl\n       .create(EyeCheckPage, { action: { type: type, cmds: cmds } },{\n        showBackdrop: true,\n        enableBackdropDismiss: false,\n        cssClass: 'my-popup',\n       });\n    profileModal.present();\n  }\n  open2(actions:Array<ActionType>) {\n    if(actions.length<1) {\n      this.toastCtrl.showToast('無動作');\n    }else {\n      let eyeModal\n      = this.modalCtrl\n        .create(EyeCheckPage, { actions: actions },{\n         showBackdrop: true,\n         enableBackdropDismiss: false,\n         cssClass: 'my-popup',\n        });\n        eyeModal.present();\n    }\n  }\n\n  pConnectDevice(deviceId: string) {\n    this.bleCtrl\n    .connectDeviceObs(deviceId)\n    .subscribe(p => {\n      this.devicesData.check(p,true)\n      .subscribe(checkData => {\n        this.bleCtrl._change('device', checkData.device);\n        if(checkData.isNew) {\n          let actions = [{\n            type: ActionNameEnum.FIRST_ADD_GROUP,\n            payload: {\n              message:['發現新裝置時，會同步裝置的編號，為了確認裝置正確接收，此時會做目檢確認',\n                      ..._DEFAULT_MESSAGE],\n              groupID: checkData.device.group,\n              macAddress: checkData.device.id\n            }\n          }, {\n            type: ActionNameEnum.TIME,\n            payload: {\n              message:['第一次加入裝置後，須作時間校正以同步裝置內部時間，確保排程能按時執行',\n                      ..._DEFAULT_MESSAGE],\n              gid: checkData.device.group,\n            }\n          }, {\n            type: ActionNameEnum.FANSPEED,\n            payload: {\n              message:['風扇預設轉速為50%，如不需調整請按下一步',\n                      '風扇可調範圍為40% ~ 100%，可拉bar或按藍色方框調整，調整完成後請按傳送',\n                      '注意！風速越強，雖晶粒溫度較低（LED壽命越長），但聲音較大。',\n                      '按下確認後，確認裝置有亮綠燈即可進行下一步'],\n              gid: checkData.device.group,\n            }\n          }];\n          this.open2(actions);\n        }else {\n        }\n      });\n    },()=>{});\n\n  }\n  pSetAllTime() {\n    this.devicesData.list.take(1).subscribe(list => {\n      let actions = list.map(v=>({\n        type: ActionNameEnum.TIME,\n          payload: {\n            message:_DEFAULT_MESSAGE,\n            gid: v.group,\n          }\n      }));\n      this.open2(actions);\n    });\n  }\n  pSetMultipleFan(gids:Array<number>, speed:number) {\n    let actions = gids.map( gid => ({\n      type: ActionNameEnum.FANSPEED,\n          payload: {\n            message:_DEFAULT_MESSAGE,\n            gid: gid,\n            fanSpeed: speed,\n          }\n    }));\n    this.open2(actions);\n  }\n  pSetMultipleTime(gids:Array<number>, time:string) {\n    let actions = gids.map( gid => ({\n      type: ActionNameEnum.TIME,\n          payload: {\n            message:_DEFAULT_MESSAGE,\n            gid: gid,\n            time: time,\n          }\n    }));\n    this.open2(actions);\n  }\n  pSchedule(list) {\n    let actions1 = list.rmSchedule.map( cmd => ({\n      type: ActionNameEnum.SCHEDULE_REMOVE,\n          payload: {\n            message:['寫除排程必須先清空裝置內所有排程紀錄才能寫入新的排程',..._DEFAULT_MESSAGE,],\n            gid: cmd[4],\n            cmd: cmd,\n          }\n    }));\n    let actions2 = list.allSchedule.map( cmd => ({\n      type: ActionNameEnum.SCHEDULE_ALL,\n          payload: {\n            message:_DEFAULT_MESSAGE,\n            gid: cmd[4],\n            cmd: cmd,\n          }\n    }));\n    let actions3 = list.currentSchedule.map( cmd => ({\n      type: ActionNameEnum.SCHEDULE_CURRENT,\n          payload: {\n            message:_DEFAULT_MESSAGE,\n            gid: cmd[4],\n            cmd: cmd,\n          }\n    }));\n    this.open2([...actions1,...actions2,...actions3,]);\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/eye-check/eye-check.control.ts","var map = {\n\t\"./af\": 199,\n\t\"./af.js\": 199,\n\t\"./ar\": 200,\n\t\"./ar-dz\": 201,\n\t\"./ar-dz.js\": 201,\n\t\"./ar-kw\": 202,\n\t\"./ar-kw.js\": 202,\n\t\"./ar-ly\": 203,\n\t\"./ar-ly.js\": 203,\n\t\"./ar-ma\": 204,\n\t\"./ar-ma.js\": 204,\n\t\"./ar-sa\": 205,\n\t\"./ar-sa.js\": 205,\n\t\"./ar-tn\": 206,\n\t\"./ar-tn.js\": 206,\n\t\"./ar.js\": 200,\n\t\"./az\": 207,\n\t\"./az.js\": 207,\n\t\"./be\": 208,\n\t\"./be.js\": 208,\n\t\"./bg\": 209,\n\t\"./bg.js\": 209,\n\t\"./bn\": 210,\n\t\"./bn.js\": 210,\n\t\"./bo\": 211,\n\t\"./bo.js\": 211,\n\t\"./br\": 212,\n\t\"./br.js\": 212,\n\t\"./bs\": 213,\n\t\"./bs.js\": 213,\n\t\"./ca\": 214,\n\t\"./ca.js\": 214,\n\t\"./cs\": 215,\n\t\"./cs.js\": 215,\n\t\"./cv\": 216,\n\t\"./cv.js\": 216,\n\t\"./cy\": 217,\n\t\"./cy.js\": 217,\n\t\"./da\": 218,\n\t\"./da.js\": 218,\n\t\"./de\": 219,\n\t\"./de-at\": 220,\n\t\"./de-at.js\": 220,\n\t\"./de-ch\": 221,\n\t\"./de-ch.js\": 221,\n\t\"./de.js\": 219,\n\t\"./dv\": 222,\n\t\"./dv.js\": 222,\n\t\"./el\": 223,\n\t\"./el.js\": 223,\n\t\"./en-au\": 224,\n\t\"./en-au.js\": 224,\n\t\"./en-ca\": 225,\n\t\"./en-ca.js\": 225,\n\t\"./en-gb\": 226,\n\t\"./en-gb.js\": 226,\n\t\"./en-ie\": 227,\n\t\"./en-ie.js\": 227,\n\t\"./en-nz\": 228,\n\t\"./en-nz.js\": 228,\n\t\"./eo\": 229,\n\t\"./eo.js\": 229,\n\t\"./es\": 230,\n\t\"./es-do\": 231,\n\t\"./es-do.js\": 231,\n\t\"./es.js\": 230,\n\t\"./et\": 232,\n\t\"./et.js\": 232,\n\t\"./eu\": 233,\n\t\"./eu.js\": 233,\n\t\"./fa\": 234,\n\t\"./fa.js\": 234,\n\t\"./fi\": 235,\n\t\"./fi.js\": 235,\n\t\"./fo\": 236,\n\t\"./fo.js\": 236,\n\t\"./fr\": 237,\n\t\"./fr-ca\": 238,\n\t\"./fr-ca.js\": 238,\n\t\"./fr-ch\": 239,\n\t\"./fr-ch.js\": 239,\n\t\"./fr.js\": 237,\n\t\"./fy\": 240,\n\t\"./fy.js\": 240,\n\t\"./gd\": 241,\n\t\"./gd.js\": 241,\n\t\"./gl\": 242,\n\t\"./gl.js\": 242,\n\t\"./gom-latn\": 243,\n\t\"./gom-latn.js\": 243,\n\t\"./he\": 244,\n\t\"./he.js\": 244,\n\t\"./hi\": 245,\n\t\"./hi.js\": 245,\n\t\"./hr\": 246,\n\t\"./hr.js\": 246,\n\t\"./hu\": 247,\n\t\"./hu.js\": 247,\n\t\"./hy-am\": 248,\n\t\"./hy-am.js\": 248,\n\t\"./id\": 249,\n\t\"./id.js\": 249,\n\t\"./is\": 250,\n\t\"./is.js\": 250,\n\t\"./it\": 251,\n\t\"./it.js\": 251,\n\t\"./ja\": 252,\n\t\"./ja.js\": 252,\n\t\"./jv\": 253,\n\t\"./jv.js\": 253,\n\t\"./ka\": 254,\n\t\"./ka.js\": 254,\n\t\"./kk\": 255,\n\t\"./kk.js\": 255,\n\t\"./km\": 256,\n\t\"./km.js\": 256,\n\t\"./kn\": 257,\n\t\"./kn.js\": 257,\n\t\"./ko\": 258,\n\t\"./ko.js\": 258,\n\t\"./ky\": 259,\n\t\"./ky.js\": 259,\n\t\"./lb\": 260,\n\t\"./lb.js\": 260,\n\t\"./lo\": 261,\n\t\"./lo.js\": 261,\n\t\"./lt\": 262,\n\t\"./lt.js\": 262,\n\t\"./lv\": 263,\n\t\"./lv.js\": 263,\n\t\"./me\": 264,\n\t\"./me.js\": 264,\n\t\"./mi\": 265,\n\t\"./mi.js\": 265,\n\t\"./mk\": 266,\n\t\"./mk.js\": 266,\n\t\"./ml\": 267,\n\t\"./ml.js\": 267,\n\t\"./mr\": 268,\n\t\"./mr.js\": 268,\n\t\"./ms\": 269,\n\t\"./ms-my\": 270,\n\t\"./ms-my.js\": 270,\n\t\"./ms.js\": 269,\n\t\"./my\": 271,\n\t\"./my.js\": 271,\n\t\"./nb\": 272,\n\t\"./nb.js\": 272,\n\t\"./ne\": 273,\n\t\"./ne.js\": 273,\n\t\"./nl\": 274,\n\t\"./nl-be\": 275,\n\t\"./nl-be.js\": 275,\n\t\"./nl.js\": 274,\n\t\"./nn\": 276,\n\t\"./nn.js\": 276,\n\t\"./pa-in\": 277,\n\t\"./pa-in.js\": 277,\n\t\"./pl\": 278,\n\t\"./pl.js\": 278,\n\t\"./pt\": 279,\n\t\"./pt-br\": 280,\n\t\"./pt-br.js\": 280,\n\t\"./pt.js\": 279,\n\t\"./ro\": 281,\n\t\"./ro.js\": 281,\n\t\"./ru\": 282,\n\t\"./ru.js\": 282,\n\t\"./sd\": 283,\n\t\"./sd.js\": 283,\n\t\"./se\": 284,\n\t\"./se.js\": 284,\n\t\"./si\": 285,\n\t\"./si.js\": 285,\n\t\"./sk\": 286,\n\t\"./sk.js\": 286,\n\t\"./sl\": 287,\n\t\"./sl.js\": 287,\n\t\"./sq\": 288,\n\t\"./sq.js\": 288,\n\t\"./sr\": 289,\n\t\"./sr-cyrl\": 290,\n\t\"./sr-cyrl.js\": 290,\n\t\"./sr.js\": 289,\n\t\"./ss\": 291,\n\t\"./ss.js\": 291,\n\t\"./sv\": 292,\n\t\"./sv.js\": 292,\n\t\"./sw\": 293,\n\t\"./sw.js\": 293,\n\t\"./ta\": 294,\n\t\"./ta.js\": 294,\n\t\"./te\": 295,\n\t\"./te.js\": 295,\n\t\"./tet\": 296,\n\t\"./tet.js\": 296,\n\t\"./th\": 297,\n\t\"./th.js\": 297,\n\t\"./tl-ph\": 298,\n\t\"./tl-ph.js\": 298,\n\t\"./tlh\": 299,\n\t\"./tlh.js\": 299,\n\t\"./tr\": 300,\n\t\"./tr.js\": 300,\n\t\"./tzl\": 301,\n\t\"./tzl.js\": 301,\n\t\"./tzm\": 302,\n\t\"./tzm-latn\": 303,\n\t\"./tzm-latn.js\": 303,\n\t\"./tzm.js\": 302,\n\t\"./uk\": 304,\n\t\"./uk.js\": 304,\n\t\"./ur\": 305,\n\t\"./ur.js\": 305,\n\t\"./uz\": 306,\n\t\"./uz-latn\": 307,\n\t\"./uz-latn.js\": 307,\n\t\"./uz.js\": 306,\n\t\"./vi\": 308,\n\t\"./vi.js\": 308,\n\t\"./x-pseudo\": 309,\n\t\"./x-pseudo.js\": 309,\n\t\"./yo\": 310,\n\t\"./yo.js\": 310,\n\t\"./zh-cn\": 311,\n\t\"./zh-cn.js\": 311,\n\t\"./zh-hk\": 312,\n\t\"./zh-hk.js\": 312,\n\t\"./zh-tw\": 313,\n\t\"./zh-tw.js\": 313\n};\nfunction webpackContext(req) {\n\treturn __webpack_require__(webpackContextResolve(req));\n};\nfunction webpackContextResolve(req) {\n\tvar id = map[req];\n\tif(!(id + 1)) // check for number or string\n\t\tthrow new Error(\"Cannot find module '\" + req + \"'.\");\n\treturn id;\n};\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 451;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/moment/locale ^\\.\\/.*$\n// module id = 451\n// module chunks = 0","import { OnInit, Component, ViewChild } from '@angular/core';\r\nimport { Chart } from 'chart.js';\r\n\r\n/**\r\n * Generated class for the LightsChartComponent component.\r\n *\r\n * See https://angular.io/docs/ts/latest/api/core/index/ComponentMetadata-class.html\r\n * for more info on Angular Components.\r\n */\r\n@Component({\r\n  selector: 'lights-chart',\r\n  templateUrl: 'lights-chart.html'\r\n})\r\nexport class LightsChartComponent implements OnInit{\r\n  @ViewChild('barCanvas') barCanvas;\r\n  //@Input() colorArr : Array<number>;\r\n  //@Input() scheduleData : Array<number>;\r\n\r\n  barChart: any;\r\n\r\n  constructor() {\r\n    console.log('LightsChartComponent');\r\n\r\n  }\r\n  ngOnInit() {\r\n    console.log('this.barCanvas');\r\n    this.generateChart();\r\n    console.log(this.barCanvas);\r\n    \r\n  }\r\n  generateChart() {\r\n    let ctx = document.getElementById(\"myChart\");\r\n    this.barChart = new Chart(ctx, {\r\n      type: 'bar',\r\n      data: {\r\n        labels: [\"Red\", \"Blue\", \"Yellow\", \"Green\", \"Purple\", \"Orange\"],\r\n        datasets: [{\r\n          label: '# of Votes',\r\n          data: [12, 19, 3, 5, 2, 3],\r\n          backgroundColor: [\r\n            'rgba(255, 99, 132, 0.2)',\r\n            'rgba(54, 162, 235, 0.2)',\r\n            'rgba(255, 206, 86, 0.2)',\r\n            'rgba(75, 192, 192, 0.2)',\r\n            'rgba(153, 102, 255, 0.2)',\r\n            'rgba(255, 159, 64, 0.2)'\r\n          ],\r\n          borderColor: [\r\n            'rgba(255,99,132,1)',\r\n            'rgba(54, 162, 235, 1)',\r\n            'rgba(255, 206, 86, 1)',\r\n            'rgba(75, 192, 192, 1)',\r\n            'rgba(153, 102, 255, 1)',\r\n            'rgba(255, 159, 64, 1)'\r\n          ],\r\n          borderWidth: 1\r\n        }]\r\n      },\r\n      options: {\r\n        scales: {\r\n          yAxes: [{\r\n            ticks: {\r\n              beginAtZero: true\r\n            }\r\n          }]\r\n        }\r\n      }\r\n\r\n    });\r\n  }\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/lights-chart/lights-chart.ts","import { Injectable,NgZone,Inject, forwardRef } from '@angular/core';\nimport { Platform,ToastController, LoadingController, AlertController } from 'ionic-angular';\nimport { BLE } from '@ionic-native/ble';\nimport { AndroidPermissions } from '@ionic-native/android-permissions';\n\nimport 'rxjs/add/operator/map';\nimport 'rxjs/add/operator/take';\nimport 'rxjs/add/operator/withLatestFrom';\nimport 'rxjs/add/observable/fromPromise';\nimport { Observable } from 'rxjs/Observable';\nimport { BehaviorSubject } from 'rxjs/BehaviorSubject';\nimport { ISubscription } from 'rxjs/Subscription';\n\nimport { DevicesDataProvider,lightDeviceType } from '../devices-data/devices-data'\n//import { BleCommandProvider } from '../ble-command/ble-command';\n\nconst _WRITEMANY_INTERVAL = 200;\nconst _SHOW_TOAST_DURATION = 1600;\n\nconst _LIGHTS_SERVICE_UUID = '0000fff0-0000-1000-8000-00805f9b34fb';\nconst _LIGHTS_CHAR_UUID = '0000fff3-0000-1000-8000-00805f9b34fb';\n//7bb104bf-abf8-4a91-9385-9c3e07cf7c30\n//b9403000-f5f8-466e-aff9-25556b57fe6d\n//const _LIGHTS_SERVICE_UUID = 'b9406000-f5f8-466e-aff9-25556b57fe6d';\n//const _LIGHTS_CHAR_UUID = 'b9406003-f5f8-466e-aff9-25556b57fe6d';\n//const _LIGHTS_SERVICE_UUID = '19B10010-E8F2-537E-4F6C-D104768A1214';\n//const _LIGHTS_CHAR_UUID    = '19B10011-E8F2-537E-4F6C-D104768A1214';\nexport interface lightsDevice {\n  \"name\": string,\n  \"slug\": string,  //customize name\n  \"address\": string,\n  \"peripheral\": any\n\n}\nexport interface nowStatus {\n  \"hadConnected\":boolean,\n  \"useable\": boolean,\n  \"statusMessage\": string,\n  \"isEnabled\": boolean,\n  \"isConnected\": boolean,\n  \"isDiscovered\": boolean,\n  \"isSearching\": boolean,\n  // \"peripheral\": any,\n  \"device\":lightDeviceType\n}\n@Injectable()\nexport class BleCtrlProvider {\n  scanListStore : {\n    \"list\":lightDeviceType[]\n  }={\n    \"list\":[]\n  }\n  private _scanListOb = <BehaviorSubject<lightDeviceType[]>>new BehaviorSubject([]);\n  bleStatus : {\n    \"onScanning\": boolean,\n    \"scanList\": Observable<lightDeviceType[]>,\n  }= {\n    \"onScanning\":false,\n    \"scanList\":this._scanListOb.asObservable()\n  }\n  nowStatus:Observable<nowStatus>;\n  private _nowStatus:BehaviorSubject<nowStatus>;\n\n  dataStore: nowStatus;\n  lightsDevicesList: Array<lightsDevice>;\n  scanedDevices:{\n    \"list\": Array<object>\n  };\n\n  constructor(\n    private alertCtrl: AlertController,\n    //@Inject(forwardRef(() => BleCommandProvider)) public bleCmd: BleCommandProvider,\n    //private bleCmd: BleCommandProvider,\n    private devicesData:DevicesDataProvider,\n    private androidPermissions: AndroidPermissions,\n    private ble: BLE,\n    private ngZone: NgZone,\n    public loadingCtrl: LoadingController,\n    private toastCtrl: ToastController,\n    private platform:Platform) {\n    console.log('>>>>>>>>>>>>>>>>>>>>>>BleCtrlProvider');\n    this.scanedDevices = {\n      \"list\":[]\n    };\n    this.lightsDevicesList = [];\n    this._nowStatus = <BehaviorSubject<nowStatus>>new BehaviorSubject({});\n    this.nowStatus = this._nowStatus.asObservable();\n    this.dataStore = {\n        \"hadConnected\":false,\n        \"useable\": false,\n        \"statusMessage\": \"initialized...\",\n        \"isEnabled\": false,\n        \"isConnected\": false,\n        \"isDiscovered\": false,\n        \"isSearching\": false,\n\n        \"device\":{\n          \"name\":null,\n          \"o_name\" :null,\n          \"id\": null,\n          \"group\":null,\n          \"last_sended\": null,\n          \"hadGroupSync\": false,\n          \"collection\":null,\n          \"fanSpeed\":null,\n        }\n    };\n\n    this.platform.ready().then(ready=>{\n      this.androidPermissions.requestPermissions(\n        [this.androidPermissions.PERMISSION.BLUETOOTH,\n          this.androidPermissions.PERMISSION.BLUETOOTH_ADMIN,\n          this.androidPermissions.PERMISSION.ACCESS_FINE_LOCATION,\n          this.androidPermissions.PERMISSION.ACCESS_COARSE_LOCATION ]);\n      this.isEnbled();\n    });\n  }\n\n  public _change(idx:string,value:any, broadcast = true){\n    this.dataStore[idx]=value;\n    //this._checkUseable();\n    if(this.dataStore[\"isEnabled\"]&&this.dataStore[\"isConnected\"]){\n      this.dataStore[\"useable\"] = true;\n    }else{\n      this.dataStore[\"useable\"] = false;\n    }\n    if(broadcast) {this._nowStatus.next(Object.assign({},this.dataStore));}\n  }\n  broadcast() {\n    this._nowStatus.next(this.dataStore);\n  }\n  /** BLE TURN series */\n  isEnbled(){\n    Observable.fromPromise(this.ble.isEnabled()).subscribe(\n      ()=>{this._change(\"isEnabled\",true)},\n      ()=>{this._change(\"isEnabled\",false)}\n    );\n  }\n  enableBle() {\n    return Observable.create(\n      observer => {\n        Observable.fromPromise(this.ble.enable())\n          .take(1).subscribe(\n            ()=>{\n              this._change(\"isEnabled\",true);\n              this._setStatus('成功開啟藍芽！');\n              observer.next(true);\n              observer.complete();\n            },\n            err=>{\n              this.showToast('無法開啟藍芽...');\n              this.ngZone.run(() => {\n                //this.dataStore.isEnabled = false;\n                this._change(\"isEnabled\",false);\n              });\n              console.log('>>> Ble Enabled Failed!');\n              console.log(JSON.stringify(err));\n              observer.error(false);\n              observer.complete();\n            }\n          );\n      }\n    );\n\n  }\n  disableBle(){\n    this.showToast('請使用手機系統的設定自行關閉唷');\n  }\n  speciWrtie(deviceId,data){\n    return Observable.create(\n      observer => {\n        this.checkConnectOnce(deviceId).subscribe(\n          ()=>{\n            Observable.fromPromise(\n              this.ble.writeWithoutResponse(\n                deviceId,\n                _LIGHTS_SERVICE_UUID,\n                _LIGHTS_CHAR_UUID,\n                data.buffer\n              )).subscribe(\n                scc => {\n                  observer.next(true);\n                  observer.complete();\n                },\n                err => {\n                  console.log('>>> ERR,speciWrtie ');\n\n                  console.log(JSON.stringify(err));\n                  observer.next(false);\n                  observer.complete();\n                }\n              );\n          },()=>{\n            observer.next(false);\n            observer.complete();\n          }\n        );/*\n        Observable.fromPromise(\n          this.ble.writeWithoutResponse(\n            id,\n            _LIGHTS_SERVICE_UUID,\n            _LIGHTS_CHAR_UUID,\n            data.buffer\n          )).subscribe(\n          scc => {\n            observer.next(true);\n            observer.complete();\n          },\n          err => {\n            console.log('>>> ERR,speciWrtie ');\n            console.log(JSON.stringify(err));\n            observer.next(false);\n            observer.complete();\n          }\n          );*/\n      }\n    );\n\n  }\n  syncMultiWrite(deviceId,observer,cmds:Uint8Array[],idx,isOk:boolean[]){\n    Observable.fromPromise(\n      this.ble.writeWithoutResponse(\n        deviceId,\n        _LIGHTS_SERVICE_UUID,\n        _LIGHTS_CHAR_UUID,\n        cmds[idx].buffer\n      )).subscribe(\n        scc => {\n          idx++;\n          isOk.push(true);\n          if(idx>=cmds.length){  //傳送結束\n            observer.next(isOk);\n            observer.complete();\n          }else{\n            setTimeout(()=>{this.syncMultiWrite(deviceId,observer,cmds,idx,isOk);},150);\n          }\n        },\n        err => {\n          this._setStatus(JSON.stringify(err));\n          idx++;\n          isOk.push(false);\n          if(idx>=cmds.length){  //傳送結束\n            observer.next(isOk);\n            observer.complete();\n          }else{\n            setTimeout(()=>{this.write_many_go(deviceId,observer,cmds,idx,isOk);},150);\n          }\n        }\n      );\n  }\n  syncSunLightsProcess(devices:lightDeviceType[], idx, observer=null,fan=null){\n        this.checkConnectOnce(devices[idx].id).subscribe(\n          isScc => {\n            if(isScc){\n              this._setStatus(devices[idx].id+' CONNECTED!');\n              let cmds=[];\n              let time = new Date();\n              cmds.push( new Uint8Array([0xfa,0xa0,time.getHours(),time.getMinutes(),time.getSeconds(),0xff]) );\n              cmds.push( new Uint8Array([0xfa,0xa1,devices[idx].group,0xff]) );\n              if(fan)cmds.push( new Uint8Array([0xfa,0xad,fan ,0xff]) );\n              this._setStatus(devices[idx].id+' SENDING.....');\n              let loadObj = this._presentLoading();\n              Observable.create(\n                observer => {\n                  this.syncMultiWrite(devices[idx].id, observer,cmds, 0, []);\n                }\n              ).subscribe(\n                isOkArr => {\n                  this._dismissLoading(loadObj);\n                  this._setStatus(JSON.stringify(isOkArr));\n                  if(isOkArr[1]){\n                    this.devicesData.modify(devices[idx].id,null,devices[idx].group,true).subscribe();\n                  }else{\n                    this.devicesData.modify(devices[idx].id,null,devices[idx].group,false).subscribe();\n                  }\n                  setTimeout(\n                    ()=>{\n                      this.disconnetOnce(devices[idx].id).subscribe(\n                        isScc => {\n                          this._setStatus(devices[idx].id+' disconnet : '+isScc);\n                          setTimeout(\n                            ()=>{\n                              idx++;\n                              if(idx >= devices.length){\n                                observer.next(true);\n                                observer.complete();\n                              }else{\n                                this.syncSunLightsProcess(devices,idx, observer,fan);\n                              }\n                            },300\n                          );\n                        }\n                      );\n                    },1000\n                  );\n                }\n              );\n\n            }else{\n              this._setStatus(devices[idx].id+' CONNECT FAILED!');\n              setTimeout(\n                ()=>{\n                  idx++;\n                  if(idx >= devices.length){\n                    observer.next(true);\n                    observer.complete();\n                  }else{\n                    this.syncSunLightsProcess(devices,idx, observer,fan);\n                  }\n                },300\n              );\n            }\n          }\n        );\n\n\n  }\n  syncSunlights(devices:lightDeviceType[],fan=null){\n    return Observable.create(\n      observer => {\n        this.syncSunLightsProcess(devices, 0, observer, fan);\n      }\n    );\n\n  }\n  startScan(services=[_LIGHTS_SERVICE_UUID]){\n    this.bleStatus.onScanning = true;\n    this.scanListStore.list = [];\n    this._setStatus('掃描中......');\n    this.ble.startScan(services).subscribe(\n      device => {\n        this.devicesData.check(device,true).subscribe(\n          findDevice => {\n            this.ngZone.run(() => {\n              this.scanListStore.list.push(findDevice.device);\n              this._scanListOb.next(this.scanListStore.list);\n              //this._scanListOb.next(Object.assign({},this.scanListStore).list);\n            });\n          }\n        );\n      },\n      error => {this.bleStatus.onScanning =false;this._showError(error,'掃描藍芽裝置時發生錯誤。');}\n    );\n  }\n  stopScan(){\n    if(this.bleStatus.onScanning){\n      this.ble.stopScan().then(\n        ()=>{\n          this._setStatus('停止掃描');\n          this.bleStatus.onScanning =false;\n        },\n        () => {\n          this.showToast('停止藍芽掃描時發生錯誤');\n        }\n      );\n    }else{\n      this._setStatus('停止掃描....');\n    }\n  }\n  stopScanBack(){\n    this.ble.stopScan().then(\n      ()=>{\n        this.bleStatus.onScanning =false;\n      },\n      () => {\n      }\n    );\n  }\n  /** SCAN series */\n  scanState: {\n    sub: ISubscription\n  } = {\n    sub: {\n      closed: true,\n      unsubscribe: ()=>{}\n    }\n  }\n  scan(sec=8,showLoading=true){\n\n      let loadObj = {'obj':{}};\n      if(showLoading) loadObj.obj = this._presentLoading();\n      else this.showToast('掃描中....',sec*1000);\n      this.scanedDevices[\"list\"] = [];\n      if(!this.scanState.sub.closed) {\n        this.stopScanBack();\n        this.scanState.sub.unsubscribe();\n      }\n      return Observable.create(observer => {\n        this._setStatus('掃描中');\n        this.scanState.sub = this.ble.scan([], sec).subscribe(\n          device => {\n            this._onDeviceDiscovered(device);\n            if(showLoading) this._dismissLoading(loadObj.obj);\n          },\n          error => {\n            this._showError(error,'掃描藍芽裝置時發生錯誤。');\n            if(showLoading) this._dismissLoading(loadObj.obj);\n          }\n        );\n        setTimeout(()=>{\n          this._setStatus('掃描完成......');\n          this._dismissLoading(loadObj.obj);\n          observer.next(true);\n          observer.complete();\n        },1000*sec);\n\n      });\n\n\n\n\n\n  }\n\n  private _onDeviceDiscovered(device) {\n    //console.log('Discovered ' + JSON.stringify(device, null, 2));\n    this.devicesData.check(device,false).subscribe(\n      findDevice => {\n        this.ngZone.run(() => {\n          this.scanedDevices[\"list\"].push(findDevice.device);\n        });\n      }\n    );\n  }\n  disconnectCurrent(){\n    return Observable.create(\n      observer => {\n        this.nowStatus.take(1).subscribe(\n          obj => {\n            if(obj.hadConnected){\n              Observable.fromPromise(this.ble.isConnected(obj.device.id)).subscribe(\n                ()=>{\n                  Observable.fromPromise(this.ble.disconnect(obj.device.id))\n                  .subscribe(\n                    () => {\n                      this.showToast('中斷連線成功！');\n                      this.disConnectDevice(obj.device.id);\n                      observer.next(true);observer.complete();\n                    },\n                    err => {\n                      observer.next(false);observer.complete();\n                      console.log('中斷連線時發生錯誤！');}\n                  );\n\n                },\n                ()=>{\n                  observer.next(true);observer.complete();\n                }\n              );\n            }else{\n              observer.next(true);observer.complete();\n            }\n          }\n        );\n      }\n    );\n\n  }\n  /** CONNECT DEVICE series */\n  connectDeviceObs(deviceId:string) {\n    return Observable.create(observer => {\n      let loadObj = this._presentLoading();\n      this.disconnectCurrent().subscribe(\n        ()=>{\n          this.ble.connect(deviceId).subscribe(\n            peripheral => {\n              this._onConnected(peripheral);\n              this._change(\"hadConnected\",true);\n              let tmpGid = 0;\n              setTimeout(()=>{\n                observer.next(peripheral);\n                this._dismissLoading(loadObj);\n                observer.complete();\n              },2500);\n\n            },\n            peripheral => {\n              this._onDeviceDisconnected();\n              this._dismissLoading(loadObj);\n              observer.error(false);\n              observer.complete();\n            }\n          );\n        }\n      );\n    });\n  }\n  connectDevice(deviceId,todoFn = (p=null)=>{}){\n    let loadObj = this._presentLoading();\n    this.disconnectCurrent().subscribe(\n      ()=>{\n        this.ble.connect(deviceId).subscribe(\n          peripheral => {\n            this._onConnected(peripheral);\n            this._change(\"hadConnected\",true);\n            let tmpGid = 0;\n            this.devicesData.check(peripheral,true).subscribe(\n              (checkData) => {\n                // TODO 背景同步 ,  v3 版本之後，增加目檢功能AE，所以不在背景執行\n                /*if(checkData.device.group){\n                  //this.bleCmd.goSetGroup( isAddNew );\n\n                  let data = new Uint8Array([0xfa,0xa1,checkData.device.group,0xff]);\n                  this.write(data,()=>{\n                    //this.devicesData.modify(checkData.device.id,null,checkData.isNew).subscribe();\n                    this.showToast('已將裝置編號同步！');\n                  },()=>{},true);\n\n                }*/\n                tmpGid=checkData.device.group;\n                this.dataStore.device = checkData.device;\n\n                setTimeout(()=>{\n\n                  if(checkData.isNew) {\n                    let data = new Uint8Array([0xfa,0xa1,checkData.device.group,0xff]);\n                    this.write(data,()=>{\n                      let alert = this.alertCtrl.create({\n                        title: '發現新裝置',\n                        message: '發現新裝置時，會同步裝置的編號，為了確認裝置正確接收，裝置接受指令後為轉為綠燈，請問現在連線之裝置是否為綠燈呢？',\n                        buttons: [\n                          {\n                            text: '否',\n                            role: 'cancel',\n                            handler: () => {\n                              this.showToast('同步裝置發生錯誤，請重新連線！');\n                              this.disconnectCurrent().subscribe();\n                              todoFn(peripheral);\n                              this._dismissLoading(loadObj);\n                            }\n                          },\n                          {\n                            text: '是',\n                            handler: () => {\n                              console.log('是');\n                              this.eyeCheckCmdWrite().subscribe(() => {\n                                this.showToast('已將裝置編號同步！');\n                                todoFn(peripheral);\n                                this._dismissLoading(loadObj);\n                              });\n                            }\n                          }\n                        ]\n                      });\n                      alert.present();\n                    },()=>{},true);\n\n                  } else {\n                    todoFn(peripheral);\n                    this._dismissLoading(loadObj);\n                  }\n/*\n                  let time = new Date();\n                  let cmds = [\n                    new Uint8Array([0xfa,0xa0,time.getHours(),time.getMinutes(),time.getSeconds(),0xff]),\n                    new Uint8Array([0xfa,0xa1,tmpGid,0xff])\n                  ];*/\n                  // TODO 背景同步 ,  v3 版本之後，增加目檢功能AE，所以不在背景執行\n                  /*this.write(data,()=>{\n                    this.showToast('已將裝置時間同步！');\n                  },()=>{},true);*/\n                  /*\n                  this.write_many(cmds).subscribe(\n                    (isOk)=>{\n                      if(!isOk){\n                        this.showToast('同步裝置發生錯誤，請斷開並再次連結！')\n\n                      }else{\n                        this.showToast('已將裝置時間、編號同步！');\n                      }\n                    }\n                  );*/\n\n\n                },2500);\n              }\n            );\n\n\n\n\n          },\n          peripheral => {this._onDeviceDisconnected();this._dismissLoading(loadObj);}\n        );\n      }\n    );\n\n  }\n  scanAndConnect(id:string,sec=6){  // ble-operator.ts\n    let loadObj = this._presentLoading();\n    this.scan(sec);\n    setTimeout(\n      ()=>{\n        this.connectDevice(id);\n        this._dismissLoading(loadObj);\n      },1000*sec\n    );\n  }\n  disconnetOnce(deviceId){\n    return Observable.create(\n      observer => {\n        Observable.fromPromise(this.ble.disconnect(deviceId))\n        .subscribe(\n          () => {\n            console.log('>>> OK, disconnetOnce(deviceId) OK!!!');\n            observer.next(true);observer.complete();\n          },\n          err => {\n            console.log('>>> ERR, disconnetOnce(deviceId) failed!');\n            observer.next(false);observer.complete();\n        }\n        );\n      }\n    )\n\n  }\n  connectOnce(deviceId,sec=6){  // ble-command.ts\n    return Observable.create(\n      observer=>{\n        let loadObj = this._presentLoading();\n        /*this.scan(sec);\n        setTimeout(\n          ()=>{},1000*sec\n        );*/\n        this.ble.connect(deviceId).take(1).subscribe(\n          peripheral => {\n            console.log('>>> OK, connectOnce() _> this.ble.connect(deviceId) OK!!!!!');\n            this._dismissLoading(loadObj);\n            observer.next(true);\n          },\n          peripheral => {\n            Observable.fromPromise(this.ble.disconnect(deviceId))\n            .subscribe(\n              () => {\n                console.log('>>> WARN, connectOnce() _> this.ble.disconnect(deviceId) !!!!! NO CONNECT!!');\n              },\n              err => {console.log('>>> ERR, connectOnce() _> this.ble.disconnect(deviceId) failed!');}\n            );\n            this._dismissLoading(loadObj);\n            observer.next(false);\n          }\n        );\n\n      }\n    );\n  }\n  disConnectDevice(deviceId){\n    Observable.fromPromise(this.ble.disconnect(deviceId))\n    .subscribe(\n      () => {\n        this._onDeviceDisconnected();\n      },\n      err => {console.log(err,'中斷連線時發生錯誤！');}\n    );\n  }\n  private _onConnected(peripheral): void {\n    this.ngZone.run(() => {\n      this.showToast('連線成功！');\n      this._change(\"isConnected\",true,false);\n      this._change(\"device\",peripheral,true);\n      this._setStatus('連線成功！');\n    });\n  }\n\n  private _onDeviceDisconnected(): void {\n    this._change(\"device\",{\n      \"name\": null,\n      \"slug\": null,  //customize name\n      \"address\": null,\n      \"peripheral\": null\n    },false);\n    this._change(\"isConnected\",false,false);\n    this._change(\"hadConnected\",false,true);\n    this.showToast('連線中斷！');\n\n  }\n  /** */\n  checkConnectOnce(id){\n\n    return Observable.create(\n      observer=>{\n        let loadObj = this._presentLoading();\n        Observable.fromPromise(this.ble.isConnected(id)).subscribe(\n          ()=>{\n            observer.next(true);observer.complete();\n            this._dismissLoading(loadObj);\n          },\n          ()=>{\n            this.ble.connect(id).take(1).subscribe(\n              peripheral => {\n                setTimeout(\n                  ()=>{\n                    this._dismissLoading(loadObj);\n                    observer.next(true);observer.complete();\n                  },1500\n                );\n              },\n              peripheral => {\n                observer.next(false);\n                this._dismissLoading(loadObj);\n              }\n            );\n          }\n        );\n\n\n      }\n    );\n  }\n  fastConnect(item) {\n    return Observable.create(observer => {\n      let loadObj = this._presentLoading(true,15);\n      this.ble.scan([], 8).subscribe(\n        device => {\n          if(device.id == item.id){\n            this.ble.stopScan().then(()=>{\n              this.ble.connect(item.id).take(1).subscribe(\n                peripheral => {\n                  this._onConnected(item);\n                  this._change(\"hadConnected\",true);\n                  this._dismissLoading(loadObj);\n                  console.log('快速連線成功！！');\n                  this.showToast('連線成功！');\n                  observer.next(peripheral);observer.complete();\n                },\n                peripheral => {\n                  this._dismissLoading(loadObj);\n                  this.disConnectDevice(item.id);\n                  this.showToast('無法重新連結到剛才的裝置，請確認裝置是否在附近！');\n                  observer.error(peripheral);\n                }\n              );\n            });\n          }\n        },\n        error => {this._showError(error,'找尋藍芽裝置時發生錯誤。');}\n      );\n    });\n\n  }\n  checkConnect(id){\n    return Observable.create(\n      observer=>{\n        this.nowStatus.take(1).subscribe(\n          now =>{\n            if(now.hadConnected){\n              Observable.fromPromise(this.ble.isConnected(id)).subscribe(\n                ()=>{\n                  observer.next(true);observer.complete();\n                },\n                ()=>{\n                  // TODO\n                  console.log(\"checkConnect() => RECONNECT !!!\");\n                  let loadObj = this._presentLoading(true,15);\n\n                  this.disconnectCurrent().subscribe(\n                    isScc =>{\n                      setTimeout( ()=>{\n                        this.ble.scan([], 10).subscribe(\n                          device => {\n                            if(device.id == id){\n                              this.ble.stopScan().then(()=>{\n                                this._dismissLoading(loadObj);\n                                this.ble.connect(id).take(1).subscribe(\n                                  peripheral => {\n                                    console.log('重新連線成功！！');\n                                    observer.next(true);observer.complete();\n                                  },\n                                  peripheral => {\n                                    this.disConnectDevice(id);\n                                    this.showToast('無法重新連結到剛才的裝置，請確認裝置是否在附近!!');\n                                    observer.error(peripheral);\n                                  }\n                                );\n                              });\n                            }\n                          },\n                          error => {this._showError(error,'掃描藍芽裝置時發生錯誤。');}\n                        );\n                      },500);\n                    }\n                  );\n                }\n              );\n            }else{\n              this.showToast('請先與裝置連線！');\n              observer.error(true);observer.complete();\n            }\n\n          }\n        );\n\n\n      }\n    );\n\n  }\n  write_many_go(observer,cmds:Uint8Array[],idx,isOk:boolean[],loadObj, _EYE_CHECK = false){\n    let CMD_ARR = [].slice.call(cmds[idx]);\n    let CMD_LENGTH = CMD_ARR.length;\n    Observable.fromPromise(\n      this.ble.writeWithoutResponse(\n        this.dataStore.device.id,\n        _LIGHTS_SERVICE_UUID,\n        _LIGHTS_CHAR_UUID,\n        cmds[idx].buffer\n      )).subscribe(\n        scc => {\n\n          let detail = '';\n          switch(CMD_LENGTH) {\n            case 9:  // 排程\n              if(CMD_ARR[7] == 0xaa) {\n                detail += '(清除排程︰Sunlight-）'+CMD_ARR[4];\n              }else {\n                detail += `(設定排程︰Sunlight-${CMD_ARR[4]}, ${CMD_ARR[5]}:0${CMD_ARR[6]}, 光譜${CMD_ARR[3]+1})`;\n              }\n              break;\n            case 5:  // 風速\n              detail += `(設定風速︰Sunlight-${CMD_ARR[3]}, 轉速${CMD_ARR[2]}%）`;\n              break;\n            case 6: // 時間校正\n              if(CMD_ARR[1] == 0xa0) {\n                detail += `(時間校正︰所有裝置, 時間${CMD_ARR[2]}:${CMD_ARR[3]}:${CMD_ARR[4]}）`;\n              }else if(CMD_ARR[1] == 0xaa) {\n                _EYE_CHECK = false;\n              }else {}\n              break;\n\n          }\n          /*\n          if(idx>cmds.length-1){  //傳送結束\n            this._dismissLoading(loadObj);\n\n            if(isOk.find(val=>val==false)==false){\n              this.showToast('傳送指令過程中發生問題，請重新傳送QQ');\n              observer.next(false);\n            }else{\n              observer.next(true);\n            }\n          }else{} */\n          if( _EYE_CHECK ){\n            detail += '當下達特定指令時，為了確認裝置正確地接收，裝置接收正確時會改為綠燈。請問目前指定的裝置是否改為綠燈？如否，則請按下「重新發送」，如都無動作，則裝置於20秒後自動關閉綠燈';\n            this.eyeCheck(detail).subscribe(check => {\n              switch(check) {\n                case -1:  // 取消(停止)\n                  this.showToast('停止指令發送');\n                  this._dismissLoading(loadObj);\n                  observer.next(false);\n                  break;\n                case 0:\n                  setTimeout(()=>{this.write_many_go(observer,cmds,idx,isOk,loadObj, true);},_WRITEMANY_INTERVAL);\n                  break;\n                case 1:\n                  idx++;\n                  isOk.push(true);\n                  if(idx>cmds.length-1){ // 最後一個指令\n                    this.showToast('傳送指令完畢！');\n                    this._dismissLoading(loadObj);\n                    observer.next(true);\n                    observer.complete();\n                  } else {\n                    setTimeout(()=>{this.write_many_go(observer,cmds,idx,isOk,loadObj, true);},_WRITEMANY_INTERVAL);\n                  }\n                  break;\n              }\n            });\n          } else {\n            idx++;\n            isOk.push(true);\n            if(idx>cmds.length-1){ // 最後一個指令\n              this.showToast('傳送指令完畢！');\n              this._dismissLoading(loadObj);\n              observer.next(true);\n              observer.complete();\n            } else {\n              setTimeout(()=>{this.write_many_go(observer,cmds,idx,isOk,loadObj);},_WRITEMANY_INTERVAL);\n            }\n          }\n\n\n        },\n        err => {\n          console.log(' write ERROR!!!!!!!!!!!!!!!!!!!!!!!!!');\n          this.showToast('發生錯誤：'+JSON.stringify(err));\n          if(_EYE_CHECK) {\n            let detail = '發生錯誤，請重新傳送';\n            this.eyeCheckFailed(detail).subscribe(check => {\n              switch(check) {\n                case -1:  // 取消(停止)\n                  this.showToast('停止指令發送');\n                  this._dismissLoading(loadObj);\n                  observer.next(false);\n                  break;\n                case 0:\n                  setTimeout(()=>{this.write_many_go(observer,cmds,idx,isOk,loadObj, true);},_WRITEMANY_INTERVAL);\n                  break;\n                case 1:\n                  idx++;\n                  isOk.push(true);\n                  if(idx>cmds.length-1){ // 最後一個指令\n                    this.showToast('傳送指令完畢！');\n                    this._dismissLoading(loadObj);\n                    observer.next(true);\n                    observer.complete();\n                  } else {\n                    setTimeout(()=>{this.write_many_go(observer,cmds,idx,isOk,loadObj, true);},_WRITEMANY_INTERVAL);\n                  }\n                  break;\n              }\n            });\n          } else { //無目檢\n            idx++;\n            isOk.push(true);\n            if(idx>cmds.length-1){ // 最後一個指令\n              this.showToast('傳送指令完畢！');\n              this._dismissLoading(loadObj);\n              observer.next(true);\n              observer.complete();\n            } else {\n              setTimeout(()=>{this.write_many_go(observer,cmds,idx,isOk,loadObj);},_WRITEMANY_INTERVAL);\n            }\n          }\n\n          /*\n          idx++;\n          isOk.push(false);\n          if(idx>cmds.length-1){  //傳送結束\n            this._dismissLoading(loadObj);\n            if(isOk.some(val=>val==false)){\n              observer.next(false);\n            }else{\n              observer.next(true);\n            }\n            observer.complete();\n          }else{\n            setTimeout(()=>{this.write_many_go(observer,cmds,idx,isOk,loadObj);},_WRITEMANY_INTERVAL);\n          }*/\n\n        }\n      );\n  }\n  write_many(value:Uint8Array[],waitSec=null, _EYE_CHECK=false){\n    console.log('=== CMD VALUE ===');\n    console.log(JSON.stringify(value));\n    console.log('======');\n    return Observable.create(\n      observer=>{\n        let loadObj = this._presentLoading(!waitSec,waitSec);\n\n        this.checkConnect(this.dataStore.device.id).subscribe(\n          ()=>{\n            this.write_many_go(observer,value,0,[],loadObj, _EYE_CHECK);\n          },()=>{\n            this._dismissLoading(loadObj);\n          }\n        );\n      }\n    );\n  }\n  writeObs(value:Uint8Array) {\n    console.log('=== CMD VALUE ===');\n    console.log(JSON.stringify(value));\n    console.log('======');\n    return Observable.create(observer => {\n      let loadObj = this._presentLoading();\n      this.checkConnect(this.dataStore.device.id).subscribe(\n        (scc)=>{\n          Observable.fromPromise(\n            this.ble.writeWithoutResponse(\n              this.dataStore.device.id,\n              _LIGHTS_SERVICE_UUID,\n              _LIGHTS_CHAR_UUID,\n              value.buffer\n            )).subscribe(\n              scc => {\n                this.showToast('傳送成功！');\n                this._dismissLoading(loadObj);\n                observer.next(this.dataStore.device.id);\n                observer.complete();\n              },\n              err => {\n                this._showError(err,'傳送失敗');\n                this._dismissLoading(loadObj);\n                observer.error(err);\n                observer.complete();\n              }\n            );\n        },(err)=>{\n          console.log(err);\n          this._showError(err,'傳送失敗');\n          this._dismissLoading(loadObj);\n          observer.error(err);\n          observer.complete();\n        }\n      );\n    });\n  }\n  write(value:Uint8Array,sccFn=(id)=>{},errFn=(id)=>{},toBack=false,deviceId=this.dataStore.device.id){\n    let loadObj = this._presentLoading();\n    console.log('=== CMD VALUE ===');\n    console.log(JSON.stringify(value));\n    console.log('======');\n    //new Uint8Array(*).buffer\n    this.checkConnect(deviceId).subscribe(\n      ()=>{\n        Observable.fromPromise(\n          this.ble.writeWithoutResponse(\n            this.dataStore.device.id,\n            _LIGHTS_SERVICE_UUID,\n            _LIGHTS_CHAR_UUID,\n            value.buffer\n          )).subscribe(\n            scc => {\n              if(toBack) sccFn(this.dataStore.device.id);\n              else this.showToast('傳送成功！');\n              this._dismissLoading(loadObj);},\n            err => {\n              if(toBack) errFn(this.dataStore.device.id);\n              else this._showError(err,'傳送失敗');\n              this._dismissLoading(loadObj);}\n          );\n      },()=>{this._dismissLoading(loadObj);}\n    );\n    /*Observable.fromPromise(this.ble.isConnected(this.dataStore.peripheral.id)).subscribe(\n      ()=>{\n\n      },\n      ()=>{\n        console.log('>>> RECONNECTED!!!!');\n        this.ble.connect(this.dataStore.peripheral.id).take(1).subscribe(\n          peripheral => {\n            console.log('重新連線成功！！');\n            Observable.fromPromise(\n              this.ble.writeWithoutResponse(\n                this.dataStore.peripheral.id,\n                _LIGHTS_SERVICE_UUID,\n                _LIGHTS_CHAR_UUID,\n                value.buffer\n              )).subscribe(\n                scc => {\n                  alert('傳送成功！');this._dismissLoading(time);},\n                err => {\n                  this._showError(err,'傳送失敗');this._dismissLoading(time);}\n              );\n          },\n          peripheral => {this._onDeviceDisconnected();this._dismissLoading(time);}\n        );\n      }\n    );*/\n\n  }\n  /* */\n  private _presentLoading(isTimeout=true,messageSec=null) {\n    let loadingObj = {\n      \"time\":null,\n      \"loading\": this.loadingCtrl.create({\n        content: 'Please wait...'\n      })\n    }\n    loadingObj.loading\n\n    if(isTimeout){\n      loadingObj.time = setTimeout(()=>{\n        this.showToast('逾時');\n        loadingObj.loading.dismiss();\n      }, 1000*12);\n    }else{\n      if(messageSec){\n        loadingObj.loading = this.loadingCtrl.create({\n          content: 'Please wait...</br>(about '+messageSec+' sec)'\n        });\n        if(messageSec<6) messageSec = 6;\n        loadingObj.time = setTimeout(()=>{\n          this.showToast('逾時');\n          loadingObj.loading.dismiss();\n        }, 1000*messageSec);\n      }else{\n        loadingObj.time = setTimeout(()=>{\n          this.showToast('逾時');\n          loadingObj.loading.dismiss();\n        }, 10000);\n      }\n\n    }\n    loadingObj.loading.present();\n    return loadingObj;\n    /*\n      setTimeout(() => {\n        loading.dismiss();\n      }, 5000); */\n  }\n  private _dismissLoading(loadObj){\n    if(loadObj.loading){\n      clearTimeout(loadObj.time);\n      loadObj.loading.dismiss();\n    }else{}\n  }\n\n  private showToast(message,time=_SHOW_TOAST_DURATION){\n    let toast = this.toastCtrl.create({\n      message: message ,\n      position: 'bottom',\n      duration: time,\n      showCloseButton:true\n    });\n    toast.present();\n  }\n\n  private _setStatus(message) {\n    this.ngZone.run(() => {\n      this.dataStore[\"statusMessage\"] = message;\n    });\n    this._nowStatus.next(this.dataStore);\n  }\n  private _showError(error,message) {\n    this._setStatus('Error ' + error);\n    console.log('>>> scanError() ');\n    console.log(JSON.stringify(error));\n    let toast = this.toastCtrl.create({\n      message: message +' '+JSON.stringify(error),\n      position: 'bottom',\n      duration: 3000\n    });\n    toast.present();\n  }\n\n  // 目檢功能\n  /**\n時間校正A0\n定義群組 A1\n設定排程AB\n風扇轉速調整 AD\n以上指令下達後，裝置接收正確會改成綠燈\n使用者要在手動下達關閉指示燈AE指令\n   */\n  eyeCheck(detail: string = '') {\n    return Observable.create(observer => {\n      let alert = this.alertCtrl.create({\n        title: '目檢確認',\n        message: detail,\n        buttons: [\n          {\n            text: '中止所有動作',\n            role: 'cancel',\n            handler: () => {\n              console.log('取消(停止)');\n              observer.next(-1);\n              observer.complete();\n            }\n          },\n          {\n            text: '重新發送',\n            handler: () => {\n              console.log('重新發送');\n              observer.next(0);\n              observer.complete();\n            }\n          },\n          {\n            text: '是（下一步）',\n            handler: () => {\n              console.log('是');\n              this.eyeCheckCmdWrite().subscribe(() => {\n                observer.next(1);\n                observer.complete();\n              });\n            }\n          }\n        ]\n      });\n      alert.present();\n\n    });\n  }\n  eyeCheckFailed(detail: string = '') {\n    return Observable.create(observer => {\n      let alert = this.alertCtrl.create({\n        title: '目檢確認',\n        message: detail,\n        buttons: [\n          {\n            text: '中止所有動作',\n            role: 'cancel',\n            handler: () => {\n              console.log('取消(停止)');\n              observer.next(-1);\n              observer.complete();\n            }\n          },\n          {\n            text: '重新發送',\n            handler: () => {\n              console.log('重新發送');\n              observer.next(0);\n              observer.complete();\n            }\n          }\n        ]\n      });\n      alert.present();\n\n    });\n  }\n  eyeCheckCmdWrite() {\n    return Observable.create(observer => {\n      let data = new Uint8Array([0xfa,0xae,0x01,0xff]);\n      this.write(data,()=>{\n        observer.next(true);\n        observer.complete();\n      },()=>{\n        observer.next(false);\n        observer.complete();\n      },true);\n    });\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/providers/ble-ctrl/ble-ctrl.ts","import { PipeTransform ,Pipe,Injectable } from '@angular/core';\r\n//import { Http } from '@angular/http';\r\n// public http: Http\r\nimport 'rxjs/add/operator/map';\r\n\r\n/*\r\n  Generated class for the LightsInfoProvider provider.\r\n\r\n  See https://angular.io/docs/ts/latest/guide/dependency-injection.html\r\n  for more info on providers and Angular DI.\r\n*/\r\nconst li_types : Array<lightsType> =[{\r\n  \"value\": 1,\r\n  \"name\": \"太陽光5m\",\r\n  \"slug\": \"５　M\",\r\n  \"color\": \"rgb(54, 235, 186)\",\r\n},{\r\n  \"value\": 2,\r\n  \"name\": \"太陽光10m\",\r\n  \"slug\": \"１０M\",\r\n  \"color\": \"rgb(9, 230, 232)\",\r\n},{\r\n  \"value\": 3,\r\n  \"name\": \"太陽光15m\",\r\n  \"slug\": \"１５M\",\r\n  \"color\": \"rgb(9, 148, 232)\",\r\n},{\r\n  \"value\": 4,\r\n  \"name\": \"太陽光20m\",\r\n  \"slug\": \"２０M\",\r\n  \"color\": \"rgb(54, 92, 235)\",\r\n},{\r\n  \"value\": 5,\r\n  \"name\": \"高演色性太陽光\",\r\n  \"slug\": \"COLOR\",\r\n  \"color\": \"rgb(86, 9, 232)\",\r\n},{\r\n  \"value\": 6,\r\n  \"name\": \"藍光\",\r\n  \"slug\": \"BLUE\",\r\n  \"color\": \"rgb(9, 25, 232)\",\r\n}]\r\nexport interface lightsType {\r\n  \"value\": number,\r\n  \"name\": string,\r\n  \"slug\": string,\r\n  \"color\": string,\r\n}\r\n\r\n@Injectable()\r\nexport class LightsInfoProvider {\r\n\r\n  constructor() {\r\n    //console.log('Hello LightsInfoProvider Provider');\r\n  }\r\n  getTypes(index = 'all'){\r\n    switch(index){\r\n      default:{\r\n        return li_types.map(obj => obj[index] );\r\n      }\r\n      case 'all':{\r\n        return li_types;\r\n      }\r\n    }\r\n  }\r\n\r\n}\r\n  \r\n@Pipe({\r\n  name: 'light',\r\n  pure: false\r\n})\r\nexport class lightsTypesPipe implements PipeTransform {\r\n  constructor(){\r\n  }\r\n  transform(value, args) {\r\n    let arr = li_types.map( data => data[args]);\r\n    return arr[value-1];\r\n  }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/providers/lights-info/lights-info.ts","import { Component } from '@angular/core';\r\nimport { LoadingController,Platform } from 'ionic-angular';\r\nimport { StatusBar } from '@ionic-native/status-bar';\r\nimport { SplashScreen } from '@ionic-native/splash-screen';\r\n\r\nimport { TabsPage } from '../pages/tabs/tabs';\r\nimport { StartPage } from '../pages/start/start';\r\n\r\n@Component({\r\n  templateUrl: 'app.html'\r\n})\r\nexport class MyApp {\r\n  //rootPage:any = TabsPage;\r\n  rootPage:any = StartPage;\r\n  loading: any;\r\n  constructor(\r\n    private loadingCtrl: LoadingController,\r\n    platform: Platform, statusBar: StatusBar, splashScreen: SplashScreen) {\r\n\r\n    platform.ready().then(() => {\r\n      console.log('>>>>>>> MyApp platform.ready() <<<<<<<');\r\n      // Okay, so the platform is ready and our plugins are available.\r\n      // Here you can do any higher level native things you might need.\r\n      statusBar.styleDefault();\r\n      splashScreen.hide();\r\n\r\n    });\r\n  }\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/app.component.ts","import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { TabsPage } from './tabs';\n\nimport { DevModeModule } from '../dev-mode/dev-mode.module';\nimport { ModeSchedulePageModule } from '../mode-schedule/mode-schedule.module';\nimport { ModeManualModule } from '../mode-manual/mode-manual.module';\nimport { ModeDevicesPageModule } from '../mode-devices/mode-devices.module';\nimport { StartPageModule } from '../start/start.module';\nimport { CollectionsPageModule } from '../collections/collections.module';\n\nimport { EyeCheckPageModule } from '../eye-check/eye-check.module';\n\n\n@NgModule({\n  declarations: [\n    TabsPage,\n  ],\n  imports: [\n    EyeCheckPageModule,\n    StartPageModule,\n    DevModeModule,\n    ModeSchedulePageModule,\n    ModeManualModule,\n    ModeDevicesPageModule,\n    CollectionsPageModule,\n\n    IonicPageModule.forChild(TabsPage),\n  ],\n})\nexport class TabsPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/tabs/tabs.module.ts","import { PipeTransform,Pipe,Injectable } from '@angular/core';\r\n\r\nimport 'rxjs/add/operator/map';\r\nimport 'rxjs/add/operator/take';\r\nimport 'rxjs/add/operator/withLatestFrom';\r\nimport 'rxjs/add/observable/fromPromise';\r\nimport { Observable } from 'rxjs/Observable';\r\nimport { NativeStorage } from '@ionic-native/native-storage';\r\nimport { BehaviorSubject } from 'rxjs/BehaviorSubject';\r\n\r\nimport { AppStateProvider } from  '../../providers/app-state/app-state';\r\n\r\nconst COLLECTION_TOTAL = 12;\r\nconst _STORAGE_COLLECTIONS_NAME = \"collectionsList\";\r\nconst clName = [\r\n  '無群組',\"群組A\",\"群組B\",\"群組C\",\"群組D\",\"群組E\",\"群組F\",\r\n  \"群組G\",\"群組H\",\"群組I\",\"群組J\",\"群組K\",\"群組L\",\r\n]\r\nconst slug = Array.from({length:COLLECTION_TOTAL},(v,i)=>(String.fromCharCode(65+i)));\r\n                      //['',\"A\",\"B\",\"C\",\"D\",\"E\",\"F\",\"G\",\"H\",\"I\",\"J\"]\r\nexport interface collectionType {\r\n  \"name\":string,\r\n  \"cid\": number,\r\n  \"devices\":Array<number>,  // deviceType -> group\r\n}\r\n@Injectable()\r\nexport class CollectionsDataProvider {\r\n  list:Observable<collectionType[]>;\r\n  private _list:BehaviorSubject<collectionType[]>;\r\n  dataStore:{\r\n    \"collectionList\": Array<collectionType>\r\n  }\r\n\r\n  constructor(\r\n    private appStateProv: AppStateProvider,\r\n    private storage:NativeStorage\r\n  ) {\r\n    this._list = <BehaviorSubject<collectionType[]>>new BehaviorSubject([]);\r\n    this.list = this._list.asObservable();\r\n    this.dataStore = {\r\n      \"collectionList\": []\r\n    }\r\n    console.log('>>>> CollectionsDataProvider');\r\n    this.loadAll();\r\n  }\r\n  loadAll(){\r\n    Observable.fromPromise(this.storage.getItem(_STORAGE_COLLECTIONS_NAME)).subscribe(\r\n      (arr)=>{\r\n        if(typeof arr != 'object') JSON.parse(arr);\r\n        this.dataStore.collectionList = arr;\r\n        this._list.next(Object.assign({}, this.dataStore).collectionList);\r\n      },\r\n      (err)=>{\r\n        if(err.code==2 || err.code.code==2){\r\n          let temp = Array.from({length: COLLECTION_TOTAL}, \r\n            (v, i) => ({\r\n                \"name\":colllectsIdxToString(i+1),\r\n                \"cid\": (i+1),\r\n                \"devices\":[]\r\n              })\r\n          );\r\n\r\n          Observable.fromPromise(this.storage.setItem(_STORAGE_COLLECTIONS_NAME,temp))\r\n            .subscribe();\r\n          this.dataStore.collectionList = temp;\r\n          this._list.next(Object.assign({}, this.dataStore).collectionList);\r\n        }else{\r\n          alert(\"錯誤\" + JSON.stringify(err));\r\n        }\r\n      }\r\n    );\r\n  }\r\n  getByCid(cid:number){\r\n    return Observable.create(\r\n      observer => {\r\n        this.list.subscribe(\r\n          arr => {\r\n            observer.next(\r\n              arr.filter(\r\n                (v,i)=>(v.cid == cid)\r\n              )\r\n            );\r\n            \r\n          }\r\n        );\r\n      }\r\n    ); \r\n  }\r\n  modify(cid:number,devices:Array<any>){\r\n    return Observable.create(\r\n      observer => {\r\n        this.list.take(1).subscribe(\r\n          arr => {\r\n        \r\n            for(let v of arr){\r\n              if(v.cid==cid){\r\n                v.devices=devices;\r\n              }\r\n            }\r\n            console.log(arr);\r\n            this.dataStore.collectionList = arr;\r\n            Observable\r\n              .fromPromise(this.storage.setItem(_STORAGE_COLLECTIONS_NAME,arr))\r\n              .subscribe(\r\n                (res)=>{\r\n                  this.appStateProv.action({type:'sync',payload:false});\r\n                  this._list.next(Object.assign({}, this.dataStore).collectionList);\r\n                  console.log('>>>> _STORAGE_COLLECTIONS_NAME SAVE!');\r\n                  observer.next(true);\r\n                  observer.complete();\r\n                }\r\n                  \r\n              );\r\n\r\n          }\r\n        );\r\n      }\r\n    ); \r\n  }\r\n\r\n}\r\n@Pipe({\r\n  name: 'collection_name',\r\n  pure: false\r\n})\r\nexport class collectionNamePipe implements PipeTransform {\r\n  constructor(){\r\n  }\r\n  transform(value, args) {\r\n    return colllectsIdxToString(value, args);\r\n  }\r\n}\r\n\r\nexport function colllectsIdxToString(idx, args=false){\r\n  return (idx)?((args)?slug[idx]:clName[idx]):((args)?'無':'無群組');\r\n}\r\nexport function collectsChecksToSting(checks:Array<boolean>){\r\n  return checks.map((v,idx)=>(v)?colllectsIdxToString(idx+1,true):false).filter(v=>v).toString();\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/providers/collections-data/collections-data.ts","import { NgModule } from '@angular/core';\r\nimport { IonicPageModule } from 'ionic-angular';\r\nimport { DevMode,editDevSettingPage } from './dev-mode';\r\nimport { NumberPickerComponent } from '../../components/number-picker/number-picker';\r\n\r\n@NgModule({\r\n  declarations: [\r\n    DevMode,\r\n    NumberPickerComponent,\r\n    editDevSettingPage,\r\n  ],\r\n  imports: [\r\n    IonicPageModule.forChild(DevMode),\r\n  ],\r\n  exports:[\r\n    NumberPickerComponent,    \r\n  ],\r\n  bootstrap:[ DevMode, ],\r\n  entryComponents: [\r\n    editDevSettingPage,\r\n  ]\r\n})\r\nexport class DevModeModule {}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/dev-mode/dev-mode.module.ts","import { Component, EventEmitter, Input, OnInit, Output, forwardRef ,OnChanges } from '@angular/core';\r\nimport { FormControl,NG_VALUE_ACCESSOR, ControlValueAccessor } from '@angular/forms';\r\nimport { WheelSelector } from '@ionic-native/wheel-selector';\r\nconst noop = ()=>{};\r\nexport const USER_PROFILE_VALUE_ACCESSOR: any = {\r\n  provide: NG_VALUE_ACCESSOR,\r\n  useExisting: forwardRef(() => NumberPickerComponent),\r\n  multi: true\r\n};\r\n@Component({\r\n  selector: 'number-picker',\r\n  templateUrl: 'number-picker.html',\r\n  //styleUrls: ['number-picker.scss']\r\n  providers: [{\r\n    provide: NG_VALUE_ACCESSOR,\r\n    useExisting: forwardRef(() => NumberPickerComponent),\r\n    multi: true,\r\n  }   ]\r\n})\r\nexport class NumberPickerComponent implements ControlValueAccessor, OnChanges,OnInit {\r\n  //innerValue : number;\r\n  @Input() description: string;\r\n  @Input() width: string;\r\n  @Input() min: number;\r\n  @Input() max: number;\r\n  @Input() step: number;\r\n  @Input() precision: number;\r\n  @Input() inputDisabled: boolean;\r\n  @Input() customClick: Function;\r\n  @Output() onChange: EventEmitter < number > = new EventEmitter();\r\n\r\n  private numberPicker: FormControl;\r\n  lightDataForWheel : Array<object> = Array.from( new Array(101),((val,index) => ({'description':index})));\r\n  constructor(\r\n    private numSelector: WheelSelector\r\n  ) {}\r\n    //The internal data model\r\n  //private innerValue: any = '';\r\n\r\n  //Placeholders for the callbacks which are later providesd\r\n  //by the Control Value Accessor\r\n  private onTouchedCallback: () => void = noop;\r\n  private onChangeCallback: (_: any) => void = ()=>{};\r\n\r\n  //get accessor\r\n  get value(): any {\r\n    return this.numberPicker.value;\r\n  };\r\n\r\n  //set accessor including call the onchange callback\r\n  set value(v: any) {\r\n    if (v !== this.numberPicker.value) {\r\n      this.numberPicker.setValue(v);\r\n      this.onChangeCallback(v);\r\n      this.onChange.emit(this.numberPicker.value);\r\n    }\r\n  }\r\n  ngOnChanges(changes) {\r\n    if (changes.counterRangeMin || changes.counterRangeMax) {\r\n      this.onChange.emit(this.numberPicker.value);\r\n      console.log('ngOnChanges');\r\n    }\r\n  }\r\n  numWheel(){\r\n    console.log('WheelSelector!');\r\n    this.numSelector.show({\r\n      title: \"選擇亮度階數 0 ~ 100\",\r\n      items: [\r\n        this.lightDataForWheel\r\n      ],\r\n    }).then(\r\n      result => {\r\n        this.value = parseInt(result[0].description);\r\n        console.log('customClick() >>' + result[0].description + ' at index: ' + result[0].index);\r\n      },\r\n      err => console.log('Error: ', err)\r\n    );\r\n  }\r\n  ngOnInit() {\r\n    if (this.customClick == null) {\r\n      this.customClick = function () {\r\n        return console.log('GG!')\r\n      };\r\n    }\r\n    if (this.description == null) {\r\n      this.description = 'QTY';\r\n    }\r\n    if (this.width == null) {\r\n      this.width = '2rem';\r\n    }\r\n    if (this.inputDisabled == null) {\r\n      this.inputDisabled = false;\r\n    }\r\n    if (this.min == null) {\r\n      this.min = 0;\r\n    }\r\n    if (this.max == null) {\r\n      this.max = 100;\r\n    }\r\n    if (this.precision == null) {\r\n      this.precision = 1;\r\n    }\r\n    if (this.step == null) {\r\n      this.step = 1;\r\n    }\r\n\r\n    this.numberPicker = new FormControl({\r\n      value: this.min,\r\n      disabled: this.inputDisabled\r\n    });\r\n  }\r\n  inputOnChange():void{\r\n    this.onChange.emit(this.numberPicker.value);\r\n  }\r\n  increaseValue(): void {\r\n    var currentValue = this.numberPicker.value;\r\n    if (currentValue < this.max) {\r\n      currentValue = currentValue + this.step;\r\n      if (this.precision != null) {\r\n        currentValue = this.round(currentValue, this.precision);\r\n      }\r\n      this.value = currentValue;\r\n      //this.numberPicker.setValue(currentValue);\r\n      //this.onChangeCallback(v);\r\n    }\r\n  }\r\n\r\n  decreaseValue(): void {\r\n    var currentValue = this.numberPicker.value;\r\n    if (currentValue > this.min) {\r\n      currentValue = currentValue - this.step;\r\n      if (this.precision != null) {\r\n        currentValue = this.round(currentValue, this.precision);\r\n      }\r\n      //this.numberPicker.setValue(currentValue);\r\n      this.value= currentValue;\r\n    }\r\n  }\r\n\r\n  private round(value: number, precision: number): number {\r\n    let multiplier: number = Math.pow(10, precision || 0);\r\n    return Math.round(value * multiplier) / multiplier;\r\n  }\r\n\r\n  public getValue(): number {\r\n    return this.numberPicker.value;\r\n  }\r\n\r\n  //Set touched on blur\r\n  onBlur() {\r\n    this.onTouchedCallback();\r\n  }\r\n\r\n  //From ControlValueAccessor interface\r\n  public writeValue(value: any) {\r\n    if (value !== this.numberPicker.value) {\r\n      this.numberPicker.setValue(value);\r\n    }\r\n  }\r\n\r\n  //From ControlValueAccessor interface\r\n  public registerOnChange(fn: any) {\r\n    this.onChangeCallback = fn;\r\n\r\n  }\r\n\r\n  //From ControlValueAccessor interface\r\n  public registerOnTouched(fn: any) {\r\n    this.onTouchedCallback = fn;\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/number-picker/number-picker.ts","import { Injectable } from '@angular/core';\n\nimport 'rxjs/add/operator/map';\nimport 'rxjs/add/operator/take';\nimport 'rxjs/add/operator/withLatestFrom';\nimport 'rxjs/add/observable/fromPromise';\nimport { Observable } from 'rxjs/Observable';\nimport { BehaviorSubject } from 'rxjs/BehaviorSubject';\n\nimport { NativeStorage } from '@ionic-native/native-storage';\nconst _STORAGE_APPSTATE_NAME = 'appstate';\nconst MODE_SCHE = 'sche';\nconst MODE_MANUAL = 'manual';\nconst SYNC = 'sync';\nconst meta = {\n  'sche' : {\n    name: '排程模式',\n    slug: MODE_SCHE\n  },\n  'manual' : {\n    name: '手動模式',\n    slug: MODE_MANUAL\n  },\n}\n\n\nexport interface appStateType {\n  \"now_mode_name\":string,\n  \"now_mode_slug\":string,\n  \"isSync\":boolean,\n  \"btnMessage\":string\n}\n\n@Injectable()\nexport class AppStateProvider {\n  info:Observable<appStateType>;\n  private _info:BehaviorSubject<appStateType>;\n  dataStore:{\n    \"appState\": appStateType\n  }\n\n  constructor(\n    private storage:NativeStorage\n  ) {\n    this._info = <BehaviorSubject<appStateType>>new BehaviorSubject({});\n    this.info = this._info.asObservable();\n    this.dataStore = {\n      appState: {\n        \"now_mode_name\":'init...',\n        \"now_mode_slug\":'init',\n        \"isSync\":false,\n        \"btnMessage\":'傳送指令(未同步)'\n      }\n    }\n    this.broadcast(this.dataStore.appState);\n    console.log('>>>> CollectionsDataProvider');\n    this.loadAll();\n  }\n  action(action:{type:string,payload:any}){\n    switch(action.type){\n      case MODE_SCHE:\n        this.stateModeSwitch(MODE_SCHE);\n        this.dataStore.appState.btnMessage = '傳送指令(已同步)';\n      break;\n      case MODE_MANUAL:\n        this.stateModeSwitch(MODE_MANUAL);\n        this.dataStore.appState.btnMessage = '取消手動';\n      break;\n      case SYNC:\n        this.dataStore.appState.isSync = action.payload;\n        if(this.dataStore.appState.now_mode_slug == MODE_SCHE && !action.payload)\n          this.dataStore.appState.btnMessage = '傳送指令(未同步)'\n        else if(this.dataStore.appState.now_mode_slug == MODE_SCHE && action.payload)\n          this.dataStore.appState.btnMessage = '傳送指令(已同步)'\n        else {}\n      break;\n      default:\n      break;\n    }\n    this.broadcast(this.dataStore.appState);\n  }\n  saveIng(){\n    this.info.subscribe(\n      state => {\n        Observable\n        .fromPromise(this.storage.setItem(_STORAGE_APPSTATE_NAME,state))\n        .subscribe(\n          (res)=>{}\n        );\n      }\n    );\n  }\n\n  loadAll(){\n    Observable.fromPromise(this.storage.getItem(_STORAGE_APPSTATE_NAME)).subscribe(\n      (obj)=>{\n        if(typeof obj != 'object') JSON.parse(obj);\n        this.broadcast(obj);\n        this.saveIng();\n      },\n      (err)=>{\n        if(err.code==2 || err.code.code==2){\n          let temp = {\n            \"now_mode_name\":'init...',\n            \"now_mode_slug\":'init',\n            \"isSync\":false,\n            \"btnMessage\":'傳送指令(未同步)'\n          }\n          Observable.fromPromise(this.storage.setItem(_STORAGE_APPSTATE_NAME,temp))\n            .take(1).subscribe();\n          this.broadcast(temp);\n          this.saveIng();\n        }else{\n          alert(\"錯誤\" + JSON.stringify(err));\n        }\n      }\n    );\n  }\n\n\n  broadcast(obj:appStateType){\n    this.dataStore.appState = obj;\n    this._info.next(Object.assign({}, this.dataStore).appState);\n  }\n  stateModeSwitch(mode){\n    this.dataStore.appState.now_mode_name = meta[mode].name;\n    this.dataStore.appState.now_mode_slug = meta[mode].slug;\n    this.dataStore.appState.isSync = true;\n\n  }\n\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/providers/app-state/app-state.ts","import { Injectable } from '@angular/core';\r\nimport { NativeStorage } from '@ionic-native/native-storage';\r\n\r\nimport 'rxjs/add/operator/map';\r\nimport 'rxjs/add/operator/take';\r\nimport 'rxjs/add/operator/withLatestFrom';\r\nimport 'rxjs/add/observable/fromPromise';\r\nimport { Observable } from 'rxjs/Observable';\r\nimport { BehaviorSubject } from 'rxjs/BehaviorSubject';\r\nimport { LightsInfoProvider } from '../../providers/lights-info/lights-info'\r\n//import { colllectsIdxToString } from '../../providers/collections-data/collections-data'\r\nconst _STORAGE_SCHEDULE_NAME = 'scheduleList'\r\nconst _STORAGE_SYNC_SCHEDULE_NAME = 'scheduleSyncList'\r\nexport interface sectionDataType {\r\n  \"mode\":number,\r\n  \"time\":string,\r\n  \"time_num\":Array<number>,  // [ HOUR , MIN ]\r\n  \"multiple\":number,\r\n}\r\nexport interface scheduleType {\r\n  \"name\":string,\r\n  \"chartDatas\":{\r\n    \"colors\": Array<any>,\r\n    \"datasets\": Array<any>\r\n  },\r\n  \"lastModified\":number,\r\n  \"sectionsList\":Array<sectionDataType>,\r\n  \"checks\":Array<boolean>,\r\n\r\n  \"dateRange\":Array<number> // [ start ,end ]\r\n}\r\n@Injectable()\r\nexport class ScheduleDataProvider {\r\n  lightsColor : any = this.lightsInfo.getTypes('color');\r\n  list:Observable<scheduleType[]>;\r\n  private _list:BehaviorSubject<scheduleType[]>;\r\n  dataStore:{\r\n    \"scheduleList\": Array<scheduleType>\r\n  }\r\n\r\n  constructor(\r\n    private lightsInfo:LightsInfoProvider,\r\n    private storage:NativeStorage\r\n\r\n  ) {\r\n    this._list = <BehaviorSubject<scheduleType[]>>new BehaviorSubject([]);\r\n    this.list = this._list.asObservable();\r\n    this.dataStore = {\r\n      \"scheduleList\": []\r\n    }\r\n    console.log('>>>> ScheduleDataProvider');\r\n    this.loadAll();\r\n  }\r\n  loadAll(){\r\n    Observable.fromPromise(this.storage.getItem(_STORAGE_SCHEDULE_NAME)).subscribe(\r\n      (arr)=>{\r\n        if(typeof arr != 'object') JSON.parse(arr);\r\n        this.dataStore.scheduleList = arr;\r\n        this._list.next(Object.assign({}, this.dataStore).scheduleList);\r\n      },\r\n      (err)=>{\r\n        if(err.code==2 ||err.code.code==2 ){\r\n          let temp = [];\r\n          Observable.fromPromise(this.storage.setItem(_STORAGE_SCHEDULE_NAME,temp))\r\n            .subscribe(\r\n              res => { this._list.next(Object.assign({}, this.dataStore).scheduleList); },\r\n              err => { alert('錯誤!'); }\r\n            );\r\n        }else{\r\n          alert(\"錯誤\" + JSON.stringify(err));\r\n        }\r\n      }\r\n    );\r\n  }\r\n  detectRepeatSchedule(scheIdx:number,collects:Array<boolean>){\r\n    console.log('detectRepeatSchedule');\r\n    console.log(this.dataStore.scheduleList[scheIdx].checks);\r\n    console.log(collects);\r\n    let isRepeat \r\n      = this.dataStore.scheduleList[scheIdx].checks\r\n        .map( (v,idx) => (v===true && collects[idx]===true))\r\n        .find(v=>v);\r\n    console.log(isRepeat);\r\n    return (false||isRepeat)?true:false;\r\n  }\r\n  detectDateRange(range:Array<number>,scheIdx:number,checks:Array<boolean>){\r\n    let isInRange = false;\r\n    return Observable.create(\r\n      observer => {\r\n        this.list.take(1).subscribe(\r\n          arr => {\r\n            let isRepeat = arr.find(\r\n              (ss,idx)=>{\r\n                if(idx==scheIdx) return false;\r\n                if(range[0]<ss.dateRange[0]){\r\n                  if(range[1]>=ss.dateRange[0]){\r\n                    return this.detectRepeatSchedule(idx,checks);\r\n                  }else{\r\n                    return false;\r\n                  }\r\n                }else if(range[0] == ss.dateRange[0]){\r\n                  return this.detectRepeatSchedule(idx,checks);\r\n                }else{  // range[0] > ss.dateRange[0]\r\n                  if(range[0]<=ss.dateRange[1]){\r\n                    return this.detectRepeatSchedule(idx,checks);\r\n                  }else{\r\n                    return false;\r\n                  }\r\n                }\r\n              }\r\n            );\r\n            if(!isRepeat)isRepeat=null;\r\n            observer.next(isRepeat);\r\n            observer.complete();\r\n          }\r\n        );\r\n      }\r\n    );\r\n  }\r\n  getSyncSchedule(){\r\n    return Observable.create(\r\n      observer => {\r\n        Observable.fromPromise(this.storage.getItem(_STORAGE_SYNC_SCHEDULE_NAME)).subscribe(\r\n          (arr)=>{\r\n            if(typeof arr != 'object') JSON.parse(arr);\r\n            observer.next(arr);\r\n            observer.complete();\r\n          },\r\n          (err)=>{\r\n            if(err.code==2){\r\n              let temp = [];\r\n              Observable.fromPromise(this.storage.setItem(_STORAGE_SYNC_SCHEDULE_NAME,temp))\r\n                .subscribe(\r\n                  res => { \r\n                    observer.next(temp);\r\n                    observer.complete(); },\r\n                  err => { alert('錯誤!'); }\r\n                );\r\n            }else{\r\n              alert(\"錯誤\" + JSON.stringify(err));\r\n            }\r\n          }\r\n        );\r\n      }\r\n    );\r\n  }\r\n  saveSyncSchedule(syncData:Array<any>){\r\n    Observable.fromPromise(this.storage.setItem(_STORAGE_SYNC_SCHEDULE_NAME,syncData))\r\n      .subscribe(\r\n        res => { console.log('saveSyncSchedule()'); },\r\n        err => { alert('錯誤!'); }\r\n      );\r\n  }\r\n  sectionsToCharts(sections:Array<sectionDataType>,dateRange,isOnlyRange=false){\r\n    let chart = {\r\n      \"data\":[],\r\n      \"backgroundColor\": [],\r\n      \"labels\":[]\r\n    }\r\n    if(isOnlyRange){\r\n      if(sections.length>0){\r\n        for(let i =dateRange[0];i<=dateRange[1];i++){\r\n          let tmp = sections[i-dateRange[0]];\r\n          //chart.data.push((tmp.multiple==0)?-1:tmp.multiple);\r\n          chart.data.push(tmp.multiple);\r\n          chart.backgroundColor.push(this.lightsColor[ tmp.mode-1 ]);\r\n          chart.labels.push( this.dateHourNumberToString(tmp.time_num[0]) );\r\n        }\r\n      }\r\n      \r\n    }else{\r\n      for(let i =0;i<24;i++){\r\n        if(i>=dateRange[0] && i<=dateRange[1]){\r\n          let tmp = sections[i-dateRange[0]];\r\n          chart.data.push((tmp.multiple==0)?0:tmp.multiple);\r\n          chart.backgroundColor.push(this.lightsColor[ tmp.mode-1 ]);\r\n        }else{\r\n          chart.data.push(-2);\r\n          chart.backgroundColor.push('rgb(200,200,200)');\r\n        }\r\n      }\r\n    }\r\n\r\n    return chart;\r\n  }\r\n  modifySchedule(idx:number,sections:Array<sectionDataType>,checks:Array<boolean>,dateRange:Array<number>){\r\n    return Observable.create(\r\n      observer => {\r\n        this.list.take(1).subscribe(\r\n          arr => {\r\n            arr[idx].dateRange = dateRange;\r\n            arr[idx].sectionsList = sections;\r\n            arr[idx].checks = checks;\r\n            let chart =  this.sectionsToCharts(sections,dateRange);\r\n            arr[idx].chartDatas = {\r\n              \"datasets\": [\r\n                {\"data\":chart.data,\"type\":'line',borderColor: 'rgba(72,138,255,0.8)',},\r\n                {\"data\":chart.data},\r\n              ],\r\n              \"colors\":this.gChartColorsSet(chart.backgroundColor),\r\n            }\r\n            arr[idx].lastModified = new Date().getTime();\r\n           \r\n            \r\n            Observable.fromPromise(this.storage.setItem(_STORAGE_SCHEDULE_NAME,arr))\r\n              .subscribe(\r\n                res => { this._list.next(Object.assign({}, this.dataStore).scheduleList); },\r\n                err => { alert('錯誤!'); }\r\n              );\r\n            \r\n            observer.next(true);\r\n            observer.complete();\r\n\r\n          }\r\n        );\r\n      }\r\n    );\r\n  }\r\n\r\n\r\n  getSchedule(idx:number){\r\n    return Observable.create(\r\n      observer => {\r\n        this.list.take(1).subscribe(\r\n          arr => {\r\n            console.log(arr[idx]);\r\n            observer.next(arr[idx]);\r\n            observer.complete();\r\n          }\r\n        );\r\n      }\r\n    );\r\n\r\n  }\r\n  /** */\r\n  remove(idx:number){\r\n    this.list.take(1).subscribe(\r\n      arr => {\r\n        arr.splice(idx,1);\r\n        let tempSetOb = Observable.fromPromise(this.storage.setItem(_STORAGE_SCHEDULE_NAME,arr));\r\n        tempSetOb.subscribe(\r\n          scc => { this._list.next(Object.assign({}, this.dataStore).scheduleList); },\r\n          err => { alert('錯誤!'); }\r\n        );\r\n      }\r\n    );\r\n  }\r\n  addNew(){\r\n    this.list.take(1).subscribe(\r\n      arr => {\r\n        //let rdnDataset = Array.from( new Array(24), ()=>(this.getRandomInt(0,30)) );\r\n        let rdnDataset = Array.from( new Array(24), ()=>(0) );\r\n        let rdnColor = Array.from( new Array(24), ()=>('rgb(200,200,200)') );\r\n        arr.push({\r\n          \"name\":'排程',\r\n          \"chartDatas\":{\r\n            \"colors\": [ {borderColor: 'rgba(72,138,255,0.5)'},rdnColor],\r\n            //\"datasets\": [this.getRandomDatasetZero()]\r\n            \"datasets\": [ \r\n              {data:rdnDataset,type:'line'},\r\n              {data:rdnDataset} ]\r\n          },\r\n          \"lastModified\":new Date().getTime(),\r\n          /*\"sectionsList\":[\r\n            \r\n          ],*/\r\n          \"sectionsList\":Array.from({length:24},(v,i)=>({\"mode\":1,\r\n            \"time\":'',\r\n            \"time_num\":[i,0],  // [ HOUR , MIN ]\r\n            \"multiple\":0})\r\n          ),\r\n          \"checks\": Array.from({length:12},v=>false),\r\n\r\n          \"dateRange\":[0,23]\r\n        });\r\n        console.log(arr);\r\n        let tempSetOb = Observable.fromPromise(this.storage.setItem(_STORAGE_SCHEDULE_NAME,arr));\r\n        tempSetOb.subscribe(\r\n          scc => { this._list.next(Object.assign({}, this.dataStore).scheduleList); },\r\n          err => { alert('錯誤!'); }\r\n        );\r\n      }\r\n    );\r\n  }\r\n\r\n  /* */\r\n  gChartColorsSet(backgroundColor:Array<string>){\r\n    return [{},{\"backgroundColor\":backgroundColor}];\r\n  }\r\n  dateRangeToString(dateRange:Array<number>){\r\n    if(dateRange[0] <0 || dateRange[1]<0) return '空';\r\n    else return this.dateHourNumberToString(dateRange[0]) + \r\n      '~' + \r\n      this.dateHourNumberToString(dateRange[1])\r\n  }\r\n  dateRangeToStringObj(range:Array<number>){\r\n    return {\r\n      start: this.dateHourNumberToString(range[0]),\r\n      end: this.dateHourNumberToString(range[1]),\r\n    }\r\n  }\r\n  dateHourNumberToString(hour:number){\r\n    return ((hour<0||hour>23||(!hour&&hour!==0))? '' : (((hour<10&&hour>=0)?('0'+hour):hour)+':00'));\r\n  }\r\n\r\n  getRandomDatasetArr(){\r\n    return {\r\n      \"data\": Array.from( new Array(24), ()=>(this.getRandomInt(0,100)) ),\r\n    }\r\n  }\r\n\r\n  getRandomDatasetZero(){\r\n    return {\r\n      \"data\": Array.from( new Array(24), ()=>(0) )\r\n    }\r\n  }\r\n  getRandomColorsArr(){\r\n    return {\r\n      \"backgroundColor\":\r\n        Array.from(new Array(24) , (val,idx) => (this.lightsColor[this.getRandomInt(0,5)]) )\r\n    }\r\n  }\r\n  getRandomInt(min, max) {\r\n    return Math.floor(Math.random() * (max - min + 1)) + min;\r\n  }\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/providers/schedule-data/schedule-data.ts","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { IonicPageModule } from 'ionic-angular';\r\nimport { CollectionsDataProvider,collectionNamePipe } from './collections-data';\r\n\r\n@NgModule({\r\n  declarations: [\r\n    collectionNamePipe,\r\n  ],\r\n  exports: [\r\n    collectionNamePipe,\r\n  ],\r\n    imports: [CommonModule],\r\n  providers: [\r\n    CollectionsDataProvider\r\n  ],\r\n})\r\nexport class CollectionsModule {\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/providers/collections-data/collections-data.module.ts","import { NgZone, ViewChild, Component } from '@angular/core';\nimport { Toggle, AlertController, Content, Refresher,NavController, Platform, IonicPage, NavParams,ViewController } from 'ionic-angular';\n//import { BLE } from '@ionic-native/ble';\nimport 'rxjs/add/operator/map';\nimport 'rxjs/add/operator/take';\nimport 'rxjs/add/operator/withLatestFrom';\nimport 'rxjs/add/observable/fromPromise';\nimport { Observable } from 'rxjs/Observable';\nimport { DevicesDataProvider,lightDeviceType } from '../../providers/devices-data/devices-data';\nimport { nowStatus,BleCtrlProvider } from '../../providers/ble-ctrl/ble-ctrl';\nimport { BleCommandProvider } from '../../providers/ble-command/ble-command';\nimport { EyeCheckControl } from '../eye-check/eye-check.control';\nimport { ToastCtrlProvider } from  '../../providers/toast-ctrl/toast-ctrl';\n\n@IonicPage()\n@Component({\n  selector: 'page-ble-operator',\n  templateUrl: 'ble-operator.html',\n})\nexport class BleOperatorPage {\n  @ViewChild(Refresher) refresher: Refresher;\n  @ViewChild(Content) content: Content;\n  @ViewChild('toggleble') ionToggle: Toggle;\n  blueInfo :{\n    \"details\":Observable<nowStatus>,\n    \"nowStatus\":{\n      \"hadConnected\":boolean,\n      \"id\":string,\n      \"name\":string,\n      \"o_name\":string,\n      \"group\":number,\n      \"collection\":number,\n      device: any,\n    },\n    \"devices\":{\n      \"list\": Array<object>\n    }\n    //\"details\":nowStatus\n  } = {\n    \"details\":this.bleCtrl.nowStatus,\n    \"nowStatus\":{\n      \"hadConnected\":false,\n      \"id\":null,\n      \"name\":null,\n      \"o_name\":null,\n      \"group\":null,\n      \"collection\":null,\n      device: {},\n    },\n    \"devices\":this.bleCtrl.scanedDevices\n  };\n  bleToggle :{\n    \"checked\" :boolean\n  }\n  devices_list:Observable<lightDeviceType[]>;\n  constructor(\n    private toastCtrl: ToastCtrlProvider,\n    private eye: EyeCheckControl,\n    public platform: Platform,\n    private ngZone: NgZone,\n    private bleCmd: BleCommandProvider,\n    private alertCtrl:AlertController,\n    private devicesProv:DevicesDataProvider,\n    private bleCtrl:BleCtrlProvider,\n    public viewCtrl: ViewController,\n    public navCtrl: NavController,\n    public navParams: NavParams,) {\n      console.log('>>>>>>>>>>>>>>>>>>>>>>BleOperatorPage');\n      /*\n      this.bleCtrl.nowStatus.subscribe(\n        data => {\n          this.blueInfo= {\n            \"details\":this.bleCtrl.dataStore\n          };\n        }\n      );*/\n      this.devices_list = this.devicesProv.list;\n      this.bleToggle = {\n        \"checked\": false\n      };\n      this.platform.ready().then(ready=>{\n        //this.blueInfo = this.bleCtrl.dataStore;\n        this.blueInfo.details.take(1).subscribe(\n          obj => {\n            if(obj[\"isEnabled\"]){\n\n            }else{\n              alert('請開啟藍芽才能正常運作唷～');\n            }\n          }\n        );\n\n      });\n      this.blueInfo.details.subscribe(\n        obj=>{\n          this.blueInfo.nowStatus.hadConnected = obj.hadConnected;\n          this.blueInfo.nowStatus.device = obj.device;\n\n          this.bleToggle.checked =obj.isEnabled;\n          if(this.bleToggle.checked) this.ionToggle.checked = true;\n          else this.ionToggle.checked = false;\n        }\n      );\n  }\n  ionViewDidEnter(){\n    console.log('>>>>>>>>>>>>>>>>>>>>>>BleOperatorPage ionViewDidEnter');\n  }\n  doRefresh(e) {\n\n    this.refresher._top = this.content.contentTop + 'px';\n    this.refresher.state = 'ready';\n    this.refresher._onEnd();\n    this.bleCtrl.scan(12,false).subscribe(\n      ()=>{\n      this.refresher.complete();\n      }\n    );\n  }\n  connectDevice(deviceId){\n    this.eye.pConnectDevice(deviceId);\n    /*\n    this.bleCtrl.connectDevice(deviceId,(p)=>{\n      this.navCtrl.pop();\n    });*/\n\n  }\n  //\n  setBleInfo(s:boolean){\n  }\n  enableBle() {\n    if(this.bleToggle.checked==true){\n      //console.log(JSON.stringify(this.blueInfo));\n      this.bleCtrl.enableBle().subscribe(\n        ()=>{\n          this.bleToggle.checked = true;\n          this.ionToggle.checked = true;\n        },\n        ()=>{\n          console.log('>>> BleOperatorPage.enableBle() FAILED!');\n          this.ngZone.run(() => {\n            this.bleToggle.checked = false;\n            this.ionToggle.checked = false;\n          });\n        }\n      );\n      //console.log(this.bleToggle.checked);\n      //setTimeout(()=>{console.log(this.bleToggle.checked)},2500);\n      //this.bleToggle = false;\n    }else{\n      this.bleCtrl.disableBle();\n      //this.bleToggle.checked = this.blueInfo.details.isEnabled;\n    }\n\n  }\n  openBleListNav(item){\n    this.navCtrl.push(bleListPage, { item: item });\n  }\n  ionViewDidLoad() {\n    console.log('ionViewDidLoad BleOperatorPage');\n  }\n  dismiss() {\n    this.viewCtrl.dismiss();\n  }\n  connectRecentDevice(deviceId){\n    this.bleCtrl.scanAndConnect(deviceId);\n    /*this.bleCtrl.scan();\n    this.bleCtrl.connectDevice(deviceId,this.navCtrl.pop);*/\n  }\n  disconnectDevice(){\n    this.bleCtrl.disconnectCurrent().subscribe();\n  }\n  modifyDeviceGroup(){\n    if(this.blueInfo.nowStatus.hadConnected){\n      let confirm = this.alertCtrl.create({\n        title: '調整群組 1~255',\n        message: '數值\"0\"為無群組，修改時只會更改目前連結中的裝置',\n        inputs: [\n          {\n            name: 'gid',\n            type: 'number',\n            placeholder: '數值'\n          },\n        ],\n        buttons: [\n          {\n            text: '取消',\n            handler: () => {\n              console.log('取消 clicked');\n            }\n          },\n          {\n            text: '修改',\n            handler: data => {\n              let gid = parseInt(data.gid);\n              this.bleCmd.goSetGroup(gid);\n              //console.log('傳送');\n            }\n          }\n        ]\n      });\n      confirm.present();\n    }else{\n      alert('尚未連接');\n    }\n  }\n}\n@Component({\n  templateUrl: 'ble-list.html',\n})\nexport class bleListPage {\n  item;\n  devices: any;\n  statusMessage: string;\n  peripheral: any;\n  blueInfo : object;\n  @ViewChild(Content) content: Content;\n  @ViewChild(Refresher) refresher: Refresher;\n\n  constructor(\n    private eye: EyeCheckControl,\n    public navCtrl: NavController,\n    private bleCtrl:BleCtrlProvider,\n    //private ble: BLE,\n    public platform: Platform,\n    private params: NavParams) {\n    this.item = this.params.data.item;\n    this.platform.ready().then(ready=>{\n      this.blueInfo = this.bleCtrl.dataStore;\n      this.devices = this.bleCtrl.scanedDevices;\n      if(this.blueInfo[\"isEnabled\"]){ //TODO\n        //this.doRefresh();\n        /* HACK refresher EVENT */\n        /*this.refresher._top = this.content.contentTop + 'px';\n        this.refresher.state = 'ready';\n        this.refresher._onEnd();*/\n      }else{\n        alert('請開啟藍芽才能正常運作唷～');\n      }\n    });\n\n  }\n  ionViewDidEnter() {\n  }\n\n  connectDevice(deviceId){\n    //this.bleCtrl.connectDevice(deviceId,()=>{this.navCtrl.pop});\n    this.eye.pConnectDevice(deviceId);\n  }\n\n  scan(){\n    //console.log(JSON.stringify(this.blueInfo));\n    //console.log(JSON.stringify(this.devices.list));\n    this.bleCtrl.scan(8, false).subscribe(done => {\n      console.log('Async operation has ended');\n      this.refresher.complete();\n    });\n  }\n\n  doRefresh() {\n    this.scan();\n    /*\n    setTimeout(() => {\n      console.log('Async operation has ended');\n      refresher.complete();\n    }, 2000);*/\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/ble-operator/ble-operator.ts"],"sourceRoot":""}