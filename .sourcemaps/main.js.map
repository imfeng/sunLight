{"version":3,"sources":["../../node_modules/@angular/core/@angular lazy","../../src lazy","../../src/pages/ble-operator/ble-operator.module.ts","../../src/pages/mode-manual/mode-manual.module.ts","../../src/pages/mode-manual/mode-manual.ts","../../src/pages/mode-devices/mode-devices.module.ts","../../src/pages/mode-devices/mode-devices.ts","../../src/pages/sync/sync.ts","../../src/pages/mode-schedule/mode-schedule.module.ts","../../src/pages/mode-schedule/mode-schedule.ts","../../src/pages/mode-schedule/edit-schedule.ts","../../src/pages/mode-schedule/nav-main.ts","../../src/pages/collections/collections.module.ts","../../src/pages/collections/collections.ts","../../src/pages/start/start.module.ts","../../src/pages/start/start.ts","../../src/pages/tabs/tabs.ts","../../src/pages/dev-mode/dev-mode.ts","../../src/providers/ble-command/ble-command.ts","../../src/app/main.ts","../../src/providers/devices-data/devices-data.ts","../../src/app/app.module.ts","../../src/providers/lights-info/lights-info.ts","../../src/pages/sync/sync.module.ts","../../node_modules/moment/locale ^/.*$","../../src/pages/mode-schedule/nav-main.module.ts","../../src/components/lights-chart/lights-chart.ts","../../src/app/app.component.ts","../../src/pages/tabs/tabs.module.ts","../../src/pages/dev-mode/dev-mode.module.ts","../../src/components/number-picker/number-picker.ts","../../src/providers/sections-data/sections-data.ts","../../src/pages/ble-operator/ble-operator.ts","../../src/providers/schedule-data/schedule-data.ts","../../src/providers/collections-data/collections-data.ts","../../src/providers/ble-ctrl/ble-ctrl.ts","../../src/providers/lights-goups/lights-goups.ts","../../src/providers/collections-data/collections-data.module.ts","../../src/providers/patterns-data/patterns-data.ts","../../src/providers/lights-info/lights-info.module.ts","../../src/providers/toast-ctrl/toast-ctrl.ts"],"names":[],"mappings":"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EAAE,KAAK;KACZ,CAAC;;GACW,eAAe,CAO3B;AAP2B;;;;;;;;;;;;;;;;;;;ACxEa;AACO;AACK;AAerD,IAAa,cAAc;IAA3B;IAA6B,CAAC;IAAD,qBAAC;AAAD,CAAC;AAAjB,cAAc;IAb1B,+DAAQ,CAAC;QACR,YAAY,EAAE;YACZ,uDAAQ;YACR,iEAAkB;SACnB;QACD,OAAO,EAAE;YACP,sEAAe,CAAC,QAAQ,CAAC,uDAAQ,CAAC;SACnC;QACD,eAAe,EAAE;YACf,iEAAkB;SAEnB;KACF,CAAC;GACW,cAAc,CAAG;AAAH;;;;;;;;ACjB3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AA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","file":"main.js","sourcesContent":["function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncatched exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tthrow new Error(\"Cannot find module '\" + req + \"'.\");\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = 127;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/@angular/core/@angular lazy\n// module id = 127\n// module chunks = 0","var map = {\n\t\"../pages/ble-operator/ble-operator.module\": [\n\t\t171\n\t],\n\t\"../pages/collections/collections.module\": [\n\t\t303\n\t],\n\t\"../pages/mode-devices/mode-devices.module\": [\n\t\t177\n\t],\n\t\"../pages/mode-manual/mode-manual.module\": [\n\t\t175\n\t],\n\t\"../pages/mode-schedule/mode-schedule.module\": [\n\t\t180\n\t],\n\t\"../pages/start/start.module\": [\n\t\t305\n\t]\n};\nfunction webpackAsyncContext(req) {\n\tvar ids = map[req];\n\tif(!ids)\n\t\treturn Promise.reject(new Error(\"Cannot find module '\" + req + \"'.\"));\n\treturn Promise.all(ids.slice(1).map(__webpack_require__.e)).then(function() {\n\t\treturn __webpack_require__(ids[0]);\n\t});\n};\nwebpackAsyncContext.keys = function webpackAsyncContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackAsyncContext.id = 170;\nmodule.exports = webpackAsyncContext;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src lazy\n// module id = 170\n// module chunks = 0","import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { BleOperatorPage,bleListPage } from './ble-operator';\n\n@NgModule({\n  declarations: [\n    BleOperatorPage,\n    bleListPage\n  ],\n  imports: [\n    IonicPageModule.forChild(BleOperatorPage),\n  ],\n  entryComponents: [\n    BleOperatorPage,\n    bleListPage\n  ] \n})\nexport class BleOperatorPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/ble-operator/ble-operator.module.ts","import { NgModule } from '@angular/core';\r\nimport { IonicPageModule } from 'ionic-angular';\r\nimport { ModeManual } from './mode-manual';\r\n\r\nimport { BleOperatorPageModule } from '../ble-operator/ble-operator.module';\r\nimport { LightsInfoModule } from '../../providers/lights-info/lights-info.module';\r\n\r\n@NgModule({\r\n  declarations: [\r\n    ModeManual,\r\n  ],\r\n  imports: [\r\n    LightsInfoModule.forRoot(),\r\n    BleOperatorPageModule,\r\n    IonicPageModule.forChild(ModeManual),\r\n  ],\r\n})\r\nexport class ModeManualModule {}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/mode-manual/mode-manual.module.ts","import { Component } from '@angular/core';\r\nimport { ModalController, NavController,NavParams } from 'ionic-angular';\r\nimport { ToastController } from 'ionic-angular';\r\nimport { IonicPage } from 'ionic-angular';  // LazyLoading\r\nimport { BleOperatorPage } from '../ble-operator/ble-operator';\r\nimport { BleCommandProvider } from  '../../providers/ble-command/ble-command'\r\nimport { LightsGoupsProvider } from '../../providers/lights-goups/lights-goups'\r\nimport { Observable } from 'rxjs/Observable';\r\n\r\nimport { ScheduleDataProvider,scheduleType } from '../../providers/schedule-data/schedule-data'\r\nimport { LightsInfoProvider,lightsTypesPipe } from  '../../providers/lights-info/lights-info'\r\nimport { CollectionsDataProvider,collectionType } from '../../providers/collections-data/collections-data';\r\n\r\n\r\n@IonicPage()\r\n@Component({\r\n  selector: 'page-mode-manual',\r\n  templateUrl: 'mode-manual.html',\r\n  providers:[lightsTypesPipe]\r\n})\r\nexport class ModeManual {\r\n  curType:number = -1;\r\n  collectionsList:Observable<collectionType[]>;\r\n  collectionsChecks:Array<boolean> = [false,false,false,false,false,false];\r\n  deviceMeta :  {\r\n    \"groups\" : Array<number>,\r\n    \"curType\" : number,\r\n    \"curMultiple\": number, \r\n    \"groupsList\": Array<object>,\r\n\r\n    \"multipleList\": Array<number>\r\n  };\r\n  lightsType : Array<object>;\r\n  lightsGroupsList : Array<object>;\r\n  constructor(\r\n    private ScheduleProv: ScheduleDataProvider,\r\n    private clProv : CollectionsDataProvider,\r\n    //private blePage: BleOperatorPage,\r\n    private lightsGroups:LightsGoupsProvider,\r\n    private bleCmd: BleCommandProvider,\r\n    public modalCtrl: ModalController,\r\n    private lightsInfo: LightsInfoProvider,\r\n    public navCtrl: NavController,\r\n    public navParams: NavParams,\r\n    public toastCtrl:ToastController) {\r\n      this.collectionsList = this.clProv.list;\r\n      \r\n      this.deviceMeta = {\r\n        \"groups\" : [0],\r\n        \"curType\" : 1,\r\n        \"curMultiple\":0, \r\n        \"groupsList\": [],\r\n\r\n        \"multipleList\": [0,0,0,0,0,0]\r\n      };\r\n      //this.deviceMeta.groupsList.push({'id':0,'name':'廣播'});\r\n      //this.deviceMeta.groupsList.push({'id':1,'name':'測試1'});\r\n      \r\n    \r\n  // \r\n  }\r\n  ionViewDidEnter(){\r\n    this.lightsGroups.getGroups().subscribe(\r\n      list => {\r\n        this.deviceMeta.groupsList = list;\r\n      }\r\n    );\r\n  }\r\n  ngOnInit() {\r\n    this.lightsType = this.lightsInfo.getTypes();\r\n  }\r\n  disableManual(){\r\n    /*this.ScheduleProv.getSyncSchedule().subscribe(\r\n      syncSche => {\r\n\r\n      }\r\n    );*/\r\n    this.bleCmd.goSyncSchedule();\r\n    this.curType = 0;\r\n  }\r\n  trigger(event,type:number){\r\n/*\r\n    for(let i=0;idx<this.deviceMeta.multipleList.length;i++){\r\n      if(i != idx){\r\n          this.deviceMeta.multipleList[i]=0;\r\n      }\r\n    }*/\r\n    //this.sendManual(true);\r\n    this.curType = (type);\r\n    this.sendManual(true,type,this.deviceMeta.multipleList[type-1]);\r\n    /*for(let i=0;i<6;i++){\r\n      if(i != idx){\r\n       this.deviceMeta.multipleList[i]=0;\r\n      }else{\r\n        this.sendManual(true,idx,this.deviceMeta.multipleList[i]);\r\n      }\r\n    }*/\r\n \r\n  }\r\n  sendManual(power:boolean,type=0,multi=0){\r\n    console.log(this.collectionsChecks);\r\n    //let type=this.deviceMeta.curType;\r\n    //let multi=this.deviceMeta.curMultiple;\r\n    let sendList = [];\r\n\r\n    \r\n\r\n    if(power){\r\n      this.bleCmd.collectionsToDeviceGid(this.collectionsChecks).subscribe(\r\n        allDevices => {\r\n          allDevices.forEach((group,idx) => {\r\n            setTimeout(()=>{\r\n              this.bleCmd.goManualMode(\r\n                multi,\r\n                type,\r\n                group,\r\n              );\r\n             }, 400*idx);\r\n          });\r\n        }\r\n      );\r\n\r\n    }else{\r\n      this.bleCmd.collectionsToDeviceGid(this.collectionsChecks).subscribe(\r\n        allDevices => {\r\n          allDevices.forEach((group,idx) => {\r\n            setTimeout(()=>{\r\n              this.bleCmd.goManualMode(\r\n                0,\r\n                0,\r\n                group,\r\n              );\r\n             }, 400*idx);\r\n          });\r\n        }\r\n      );\r\n      \r\n    }\r\n  }\r\n  openBleModal(){\r\n    this.navCtrl.push(BleOperatorPage);\r\n    /*let modal = this.modalCtrl.create(BleOperatorPage);\r\n    modal.present();*/\r\n  }\r\n  ionViewDidLoad() {\r\n    console.log('ionViewDidLoad ModeManual');\r\n  }\r\n  test(){\r\n    console.log(this.deviceMeta);\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/mode-manual/mode-manual.ts","import { NgModule } from '@angular/core';\r\nimport { IonicPageModule } from 'ionic-angular';\r\nimport { ModeDevicesPage,editDevicePage } from './mode-devices';\r\nimport { SyncPageModule } from '../sync/sync.module';\r\nimport { CollectionsModule } from '../../providers/collections-data/collections-data.module';\r\n@NgModule({\r\n  declarations: [\r\n    ModeDevicesPage,\r\n    editDevicePage,\r\n  ],\r\n  imports: [\r\n    CollectionsModule,\r\n    IonicPageModule.forChild(ModeDevicesPage),\r\n    SyncPageModule\r\n  ],\r\n  entryComponents:[\r\n    editDevicePage\r\n  ],\r\n})\r\nexport class ModeDevicesPageModule {}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/mode-devices/mode-devices.module.ts","import { Component } from '@angular/core';\r\nimport { AlertController,ModalController,IonicPage, NavController, NavParams } from 'ionic-angular';\r\nimport { BleOperatorPage } from '../ble-operator/ble-operator';\r\nimport { SyncPage } from '../sync/sync';\r\nimport { DevicesDataProvider,lightDeviceType } from '../../providers/devices-data/devices-data';\r\nimport 'rxjs/add/operator/map';\r\nimport 'rxjs/add/operator/take';\r\nimport { Observable } from 'rxjs/Observable';\r\nimport { BleCtrlProvider } from '../../providers/ble-ctrl/ble-ctrl';\r\nimport { BleCommandProvider } from '../../providers/ble-command/ble-command';\r\n\r\n@IonicPage()\r\n@Component({\r\n  selector: 'page-mode-devices',\r\n  templateUrl: 'mode-devices.html',\r\n})\r\nexport class ModeDevicesPage {\r\n  fanCtrl = {\r\n    isFanCheckbox: false,\r\n    currentFanSpeed: 60,\r\n    checks:[]\r\n  }\r\n  \r\n\r\n  devices_list:Observable<lightDeviceType[]>;\r\n  wtfDevices:{\r\n    \"list\":Array<lightDeviceType>\r\n  }\r\n  constructor(\r\n    private bleCmd: BleCommandProvider,\r\n    private devicesProv:DevicesDataProvider,    \r\n    public modalCtrl: ModalController,\r\n    public navCtrl: NavController,\r\n    public navParams: NavParams) {\r\n      this.devices_list = this.devicesProv.list;\r\n      this.wtfDevices = {\r\n        \"list\":[]\r\n      };\r\n      this.devices_list.subscribe(\r\n        list => {\r\n          this.fanCtrl.checks = Array.from(new Array(list.length), ()=>false);\r\n          let tmp:Array<lightDeviceType> = Array.from({length: (list.length<=6)?(6-list.length):0}, \r\n            (v, i) => ({\r\n              \"name\":'bulb'+(list.length+i+1),\r\n              \"o_name\" :'bulb'+(list.length+i+1),\r\n              \"id\": '空',\r\n              \"group\":0,\r\n              //\"isGroupSync\":boolean\r\n              \"last_sended\": null,\r\n              \"hadGroupSync\":null,\r\n              \"collection\": [],\r\n              })\r\n          );\r\n          console.log(tmp);\r\n          this.wtfDevices.list = tmp;\r\n        }\r\n      );\r\n\r\n  }\r\n  triggerFan(){\r\n    console.log('triggerFan');\r\n    console.log(this.fanCtrl.checks);\r\n    this.devices_list.take(1).subscribe(\r\n      list => {\r\n        let gids = list.filter( (v,idx)=>this.fanCtrl.checks[idx] ).map( (v)=>v.group );\r\n        this.bleCmd.goFanMultiple(gids,this.fanCtrl.currentFanSpeed);\r\n      }\r\n    );\r\n  }\r\n  toggleFanCheckbox(){\r\n    this.fanCtrl.isFanCheckbox = !this.fanCtrl.isFanCheckbox;\r\n  }\r\n  editDevice(id:string){\r\n    this.navCtrl.push(editDevicePage, { \"id\":id });\r\n  }\r\n  openBleModal(){\r\n    this.navCtrl.push(BleOperatorPage);\r\n   /* let modal = this.modalCtrl.create(BleOperatorPage);\r\n    modal.present();*/\r\n  }\r\n  openSyncPage(){\r\n    this.navCtrl.push(SyncPage);\r\n   /* let modal = this.modalCtrl.create(BleOperatorPage);\r\n    modal.present();*/\r\n  }\r\n  ionViewDidLoad() {\r\n    console.log('ionViewDidLoad ModeDevicesPage');\r\n  }\r\n}\r\n\r\n@Component({\r\n  templateUrl: 'edit-device.html'\r\n})\r\nexport class editDevicePage {\r\n\r\n  deviceInfo :{\"data\":lightDeviceType}={\r\n    \"data\":{\r\n      \"name\":'',\r\n      \"o_name\" :'',\r\n      \"id\": '',\r\n      \"group\":0,\r\n      \"last_sended\": 0,\r\n\r\n      \"hadGroupSync\":false,\r\n      \"collection\":[],\r\n    }\r\n  };\r\n  constructor(\r\n    private bleCmd: BleCommandProvider,\r\n    private devicesProv:DevicesDataProvider,  \r\n    private alertCtrl: AlertController,\r\n    public navCtrl: NavController,\r\n    public navParams: NavParams,\r\n  ){\r\n    console.log(navParams);\r\n    devicesProv.get(navParams.data[\"id\"]).subscribe(\r\n      (obj) => {\r\n        this.deviceInfo.data = obj;\r\n      },\r\n      () => {\r\n        alert('無此Device ID！');\r\n      }\r\n    );\r\n    \r\n  }\r\n  delDevice(){\r\n    this.devicesProv.del(this.deviceInfo.data.id).subscribe(\r\n      isOk => {\r\n        if(isOk) this.navCtrl.pop();\r\n      }\r\n    );\r\n  }\r\n  \r\n  editName(){\r\n    let alert = this.alertCtrl.create({\r\n      title: '更改名稱',\r\n      inputs: [\r\n        {\r\n          name: 'd_name',\r\n          placeholder: '請輸入裝置名稱...'\r\n        }\r\n      ],\r\n      buttons: [\r\n        {\r\n          text: '取消',\r\n          role: 'cancel',\r\n          handler: data => {\r\n            console.log('Cancel clicked');\r\n          }\r\n        },\r\n        {\r\n          text: '確定',\r\n          handler: data => {\r\n            this.deviceInfo.data.name = data.d_name;\r\n            this.changeName();\r\n          }\r\n        }\r\n      ]\r\n    });\r\n    alert.present();\r\n  }\r\n  editGroup(deviceId){\r\n    let alert = this.alertCtrl.create({\r\n      title: '調整編號',\r\n      message: '數值\"0\"為無編號，如果裝置不在附近時，將無法正確地更改，但在此APP中會仍會顯示您更改的編號，建議使用右上角的「藍芽連結頁面」修改！',\r\n      inputs: [\r\n        {\r\n          name: 'gid',\r\n          type: 'number',\r\n          placeholder: '請輸入編號1~255'\r\n        }\r\n      ],\r\n      buttons: [\r\n        {\r\n          text: '取消',\r\n          role: 'cancel',\r\n          handler: data => {\r\n            console.log('Cancel clicked');\r\n          }\r\n        },\r\n        {\r\n          text: '修改',\r\n          handler: data => {\r\n            let gid = parseInt(data.gid);\r\n            this.bleCmd.goSetGroupOther(gid,this.deviceInfo.data.id);\r\n\r\n            console.log('傳送');\r\n          }\r\n        }\r\n      ]\r\n    });\r\n    alert.present();\r\n  }\r\n  changeName(){\r\n    console.log('changeName');\r\n    this.devicesProv.modify(this.deviceInfo.data.id,this.deviceInfo.data.name,null).subscribe(\r\n      ()=>alert('成功！'),\r\n      (err,message)=>alert('錯誤 : '+message)\r\n    );\r\n  }\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/mode-devices/mode-devices.ts","import { Component } from '@angular/core';\r\nimport { ModalController, AlertController, IonicPage, NavController, NavParams } from 'ionic-angular';\r\n\r\nimport { DevicesDataProvider,lightDeviceType } from '../../providers/devices-data/devices-data';\r\nimport { nowStatus,BleCtrlProvider } from '../../providers/ble-ctrl/ble-ctrl';\r\nimport { BleCommandProvider } from '../../providers/ble-command/ble-command';\r\n\r\n@Component({\r\n  selector: 'page-sync',\r\n  templateUrl: 'sync.html',\r\n})\r\nexport class SyncPage {\r\n  scanToggle = {\r\n    \"btn\" : false\r\n  }\r\n  blueInfo : {\r\n    \"nowStatus\":nowStatus,\r\n    \"fanSpeed\":number\r\n  }={\r\n    \"nowStatus\":null,\r\n    \"fanSpeed\":null\r\n  }\r\n  devices : {\r\n    \"list\":lightDeviceType[]\r\n  }= {\r\n    \"list\":[\r\n      {\"name\":'測試1',\r\n      \"o_name\" :'測試1o',\r\n      \"id\": '00:11:22:33:4:55:66',\r\n      \"group\":null,\r\n      \"last_sended\": null,\r\n      \"hadGroupSync\":false,\r\n      \"collection\":null,\r\n    },\r\n      {\"name\":'測試2',\r\n      \"o_name\" :'測試2o',\r\n      \"id\": '22:11:22:33:4:55:66',\r\n      \"group\":2,\r\n      \"last_sended\": null,\r\n      \"hadGroupSync\":false,\r\n      \"collection\":null,}\r\n    ]\r\n  }\r\n  constructor(\r\n    public bleCtrl: BleCtrlProvider,\r\n    private alertCtrl: AlertController,\r\n    private modalCtrl: ModalController,\r\n    public navCtrl: NavController, public navParams: NavParams) {\r\n      this.blueInfo.nowStatus = this.bleCtrl.dataStore;\r\n      this.bleCtrl.nowStatus.subscribe(\r\n        nowStatus => {\r\n          this.blueInfo.nowStatus = nowStatus;\r\n        }\r\n      );\r\n      this.devices = this.bleCtrl.scanListStore;\r\n  }\r\n\r\n  ionViewDidLoad() {\r\n    console.log('ionViewDidLoad SyncPage');\r\n  }\r\n  editSpeed(){\r\n    let confirm = this.alertCtrl.create({\r\n      title: '風速調整 0~100',\r\n      inputs: [\r\n        {\r\n          name: 'speed',\r\n          type: 'number',\r\n          placeholder: '數值'\r\n        },\r\n      ],\r\n      buttons: [\r\n        {\r\n          text: '取消',\r\n          handler: () => {\r\n            console.log('取消 clicked');\r\n          }\r\n        },\r\n        {\r\n          text: '傳送',\r\n          handler: data => {\r\n            this.blueInfo.fanSpeed = data.speed;\r\n          }\r\n        }\r\n      ]\r\n    });\r\n    confirm.present();\r\n  }\r\n  scanOnchange(){\r\n    console.log(this.scanToggle.btn);\r\n    if(this.scanToggle.btn){\r\n      this.bleCtrl.startScan();\r\n    }else{\r\n      this.bleCtrl.stopScan();\r\n    }\r\n  }\r\n  syncDevices(){\r\n    this.bleCtrl.syncSunlights(this.devices.list,this.blueInfo.fanSpeed).subscribe(\r\n      isScc=>{\r\n        alert('結束！'+isScc);\r\n      }\r\n    );\r\n  }\r\n  editDevice(idx){\r\n    //this.navCtrl.push(editDeviceSyncPage, { \"id\":deviceId });\r\n    console.log(this.devices.list[idx]);\r\n    let alert = this.alertCtrl.create({\r\n      title: '調整',\r\n      message: '',\r\n      inputs: [\r\n        {\r\n          name: 'name',\r\n          type: 'string',\r\n          placeholder: '請輸入更改名稱(僅此手機看的到)',\r\n          value: this.devices.list[idx].name\r\n        },\r\n        {\r\n          name: 'gid',\r\n          type: 'number',\r\n          placeholder: '請輸入群組0~255'\r\n        }\r\n      ],\r\n      buttons: [\r\n        {\r\n          text: '取消',\r\n          role: 'cancel',\r\n          handler: data => {\r\n            console.log('Cancel clicked');\r\n          }\r\n        },\r\n        {\r\n          text: '修改',\r\n          handler: data => {\r\n            this.devices.list[idx].name = data.name;\r\n            this.devices.list[idx].group = parseInt(data.gid);\r\n            console.log('修改');\r\n          }\r\n        }\r\n      ]\r\n    });\r\n    alert.present();\r\n  }\r\n\r\n}\r\n@Component({\r\n  templateUrl: 'edit-device.html'\r\n})\r\nexport class editDeviceSyncPage {\r\n  \r\n    deviceInfo :{\"data\":lightDeviceType}={\r\n      \"data\":{\r\n        \"name\":'讀取中...',\r\n        \"o_name\" :'',\r\n        \"id\": '',\r\n        \"group\":0,\r\n        \"last_sended\": 0,\r\n        \"hadGroupSync\": false,\r\n        \"collection\":null,\r\n      }\r\n    };\r\n    constructor(\r\n      private bleCmd: BleCommandProvider,\r\n      private devicesProv:DevicesDataProvider,  \r\n      private alertCtrl: AlertController,\r\n      private navCtrl: NavParams,\r\n    ){\r\n      console.log(navCtrl);\r\n      devicesProv.get(navCtrl.data[\"id\"]).subscribe(\r\n        (obj) => {\r\n          this.deviceInfo.data = obj;\r\n        },\r\n        () => {\r\n          alert('錯誤');\r\n        }\r\n      );\r\n      \r\n    }\r\n    /*\r\n    editName(){\r\n      let alert = this.alertCtrl.create({\r\n        title: '更改名稱',\r\n        inputs: [\r\n          {\r\n            name: 'd_name',\r\n            placeholder: '請輸入裝置名稱...'\r\n          }\r\n        ],\r\n        buttons: [\r\n          {\r\n            text: '取消',\r\n            role: 'cancel',\r\n            handler: data => {\r\n              console.log('Cancel clicked');\r\n            }\r\n          },\r\n          {\r\n            text: '確定',\r\n            handler: data => {\r\n              this.deviceInfo.data.name = data.d_name;\r\n              this.change(data.d_name,null);\r\n            }\r\n          }\r\n        ]\r\n      });\r\n      alert.present();\r\n    }\r\n    editGroup(deviceId){\r\n      let alert = this.alertCtrl.create({\r\n        title: '調整群組',\r\n        message: '',\r\n        inputs: [\r\n          {\r\n            name: 'gid',\r\n            type: 'number',\r\n            placeholder: '請輸入群組0~255'\r\n          }\r\n        ],\r\n        buttons: [\r\n          {\r\n            text: '取消',\r\n            role: 'cancel',\r\n            handler: data => {\r\n              console.log('Cancel clicked');\r\n            }\r\n          },\r\n          {\r\n            text: '修改',\r\n            handler: data => {\r\n              let gid = parseInt(data.gid);\r\n              this.change(null,gid);\r\n              console.log('傳送');\r\n            }\r\n          }\r\n        ]\r\n      });\r\n      alert.present();\r\n    }\r\n    change(name,gid){\r\n      console.log('change');\r\n      this.devicesProv.modify(this.deviceInfo.data.id, name, gid).subscribe(\r\n        ()=>alert('成功！'),\r\n        (err,message)=>alert('錯誤 : '+message)\r\n      );\r\n    }\r\n    add(){\r\n      this.settings[\"time_num\"] = \r\n        this.settings[\"time\"].split(':').map( (val,idx)=>{ if(idx<2){return parseInt(val,10);} } )\r\n      this.viewCtrl.dismiss(this.settings);\r\n    }\r\n    dismiss() {\r\n      this.viewCtrl.dismiss(false);\r\n    }*/\r\n  }\r\n  \n\n\n// WEBPACK FOOTER //\n// ./src/pages/sync/sync.ts","import { NgModule } from '@angular/core';\r\nimport { IonicPageModule } from 'ionic-angular';\r\nimport { ModeSchedulePage } from './mode-schedule';\r\nimport { ChartsModule } from 'ng2-charts';\r\nimport { editSchedulePage,modalSectionEdit } from './edit-schedule';\r\nimport { NavMainModule} from './nav-main.module'\r\nimport { LightsChartComponent } from '../../components/lights-chart/lights-chart';\r\nimport { LightsInfoModule } from '../../providers/lights-info/lights-info.module';\r\nimport { CollectionsModule } from '../../providers/collections-data/collections-data.module';\r\n@NgModule({\r\n  declarations: [\r\n    ModeSchedulePage,\r\n    LightsChartComponent,\r\n    editSchedulePage,\r\n    modalSectionEdit\r\n  ],\r\n  imports: [\r\n    CollectionsModule,\r\n    LightsInfoModule.forRoot(),\r\n    IonicPageModule.forChild(ModeSchedulePage),\r\n    NavMainModule,\r\n    ChartsModule,\r\n\r\n  ],\r\n  exports:[\r\n    LightsChartComponent,    \r\n  ],\r\n  entryComponents:[\r\n    editSchedulePage,\r\n    modalSectionEdit\r\n  ],\r\n})\r\nexport class ModeSchedulePageModule {}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/mode-schedule/mode-schedule.module.ts","import { OnInit, Component } from '@angular/core';\r\nimport { IonicPage, NavController, NavParams } from 'ionic-angular';\r\nimport { LightsInfoProvider } from '../../providers/lights-info/lights-info'\r\nimport { LightsGoupsProvider,lightsGroupsData } from '../../providers/lights-goups/lights-goups'\r\nimport { ScheduleDataProvider,scheduleType } from '../../providers/schedule-data/schedule-data'\r\nimport { BleCommandProvider } from '../../providers/ble-command/ble-command';\r\nimport { editSchedulePage } from './edit-schedule';\r\n\r\nimport * as subMain from './nav-main'\r\n\r\nimport { Observable } from 'rxjs/Observable';\r\n/**\r\n * Generated class for the ModeSchedulePage page.\r\n *\r\n * See http://ionicframework.com/docs/components/#navigation for more info\r\n * on Ionic pages and navigation.\r\n */\r\n\r\n@IonicPage()\r\n@Component({\r\n  selector: 'page-mode-schedule',\r\n  templateUrl: 'mode-schedule.html',\r\n})\r\nexport class ModeSchedulePage implements OnInit{\r\n  lightsColor : any = this.lightsInfo.getTypes('color');\r\n\r\n  /** IONIC lifeCycle*/\r\n  testGroups:Observable<lightsGroupsData[]>;\r\n\r\n  scheduleList:Observable<scheduleType[]>;\r\n\r\n  constructor(\r\n    private bleCmd: BleCommandProvider,\r\n    private scheduleProv:ScheduleDataProvider,\r\n    private lightsGroups:LightsGoupsProvider,\r\n    private lightsInfo:LightsInfoProvider,\r\n    public navCtrl: NavController,\r\n    public navParams: NavParams) {\r\n      this.testGroups = this.lightsGroups.infos;\r\n      this.scheduleList = this.scheduleProv.list;\r\n      //this.lightsGroups.loadAll();\r\n  }\r\n  ngOnInit(){\r\n    //this.lightsGroups.loadAll();\r\n    //this.lightsGroups.set(this.groupsInfo,(isScc)=>{if(isScc)console.log('lightsGroups.set OK!!!!!!!!!!!!!!')});\r\n    \r\n    \r\n  }\r\n  onChartClick(event) {\r\n    console.log(event);\r\n  }\r\n  ionViewDidLoad() {\r\n\r\n  }\r\n  ionViewDidEnter(){\r\n    console.log('ionViewDidEnter \"Schedule tab\"');\r\n  }\r\n  /** */\r\n  syncSchedule(){\r\n    this.bleCmd.goSyncSchedule();\r\n  }\r\n  goSchedule(idx:number){\r\n    this.navCtrl.push(editSchedulePage, { \"idx\": idx});\r\n  }\r\n  addSchedule(){\r\n    this.scheduleProv.addNew();\r\n  }\r\n  rmSchedule(idx){\r\n    this.scheduleProv.remove(idx);\r\n  }\r\n  /** */\r\n  goPatterns(goGid:number,goName:string){   // lightsGroupsData .getGid(gid)\r\n    this.navCtrl.push(subMain.pr1patternsNav, { \"gid\": goGid,\"name\": goName});\r\n  }\r\n  goDevices(goGid:number){  //TODO\r\n    this.navCtrl.push(subMain.pr1patternsNav, { \"gid\": goGid });\r\n  }\r\n  rmLightsGroup(gid:number){\r\n    this.lightsGroups.remove(gid);\r\n  }\r\n\r\n  /** */\r\n\r\n  getRandomDatasetArr(){\r\n    return {\r\n      \"data\": Array.from( new Array(16), ()=>(this.getRandomInt(0,100)) )\r\n    }\r\n  }\r\n  getRandomColorsArr(){\r\n    return {\r\n      \"backgroundColor\":\r\n        Array.from(new Array(16) , (val,idx) => (this.lightsColor[this.getRandomInt(0,5)]) )\r\n    }\r\n  }\r\n  getRandomInt(min, max) {\r\n    return Math.floor(Math.random() * (max - min + 1)) + min;\r\n  }\r\n\r\n\r\n \r\n\r\n  /* CHART SETTINGS */\r\n  chartLabels = [\r\n    \"00:00\",\"\",\"02:00\",\"\",\"04:00\",\"\",\r\n    \"06:00\",\"\",\"08:00\",\"\",\"10:00\",\"\",\r\n    \"12:00\",\"\",\"14:00\",\"\",\"16:00\",\"\",\r\n    \"18:00\",\"\",\"20:00\",\"\",\"22:00\",\"\",\"24:00\"\r\n  ];\r\n  chartOptions = {\r\n    padding:0,\r\n    scaleShowLabels: false,\r\n    scales: {\r\n      xAxes: [{\r\n        gridLines: {\r\n          offsetGridLines : true\r\n        },\r\n        pointDotRadius:50,\r\n        barPercentage:1.0,\r\n        categoryPercentage:1.0,\r\n        ticks:{\r\n          padding:0,\r\n          backdropPaddingX: 0,\r\n        }\r\n      }],\r\n      yAxes: [{\r\n        ticks: {\r\n          max: 31,\r\n          min: -1,\r\n          display:false,\r\n          beginAtZero: true,\r\n          padding: 0,\r\n        }\r\n      }]\r\n    },\r\n    responsive: true\r\n  };\r\n\r\n}\r\n\r\n\r\n\r\n\r\n  /* DATA EXAMPLES\r\n\r\n  chartData = [{\r\n    data:[\r\n      0,   0,   5, 15, 30, 45,\r\n    70, 90,100, 80, 55, 35,\r\n      5,  0,  0,  0\r\n    ];\r\n\r\n  colors = [\r\n    {\r\n      backgroundColor:[\r\n        this.lightsColor[0],\r\n        this.lightsColor[0],\r\n        this.lightsColor[2],\r\n        this.lightsColor[2],\r\n        this.lightsColor[2],\r\n        this.lightsColor[2],\r\n        this.lightsColor[3],\r\n        this.lightsColor[3],\r\n        this.lightsColor[3],\r\n        this.lightsColor[4],\r\n        this.lightsColor[4],\r\n        this.lightsColor[5],\r\n        this.lightsColor[4],\r\n        this.lightsColor[4],\r\n        this.lightsColor[4],\r\n        this.lightsColor[4],\r\n      ]\r\n    }\r\n  ];\r\n  }];*/\n\n\n// WEBPACK FOOTER //\n// ./src/pages/mode-schedule/mode-schedule.ts","import { Component } from '@angular/core';\r\nimport { AlertController ,ViewController, ModalController, NavController, NavParams } from 'ionic-angular';\r\nimport {  ScheduleDataProvider,scheduleType,sectionDataType } from '../../providers/schedule-data/schedule-data'\r\nimport { ToastCtrlProvider } from  '../../providers/toast-ctrl/toast-ctrl'\r\nimport { LightsInfoProvider,lightsTypesPipe } from  '../../providers/lights-info/lights-info'\r\nimport { CollectionsDataProvider,collectionType } from '../../providers/collections-data/collections-data';\r\nimport { Observable } from 'rxjs/Observable';\r\nimport { ChartsModule } from 'ng2-charts';\r\n@Component({\r\n  templateUrl: './edit-schedule.html',\r\n})\r\nexport class editSchedulePage {\r\n  collectionsList:Observable<collectionType[]>;\r\n  temp = {\r\n    \"data\":Array.from( new Array(6), ()=>(10) ),\r\n    \"backgroundColor\":Array.from( new Array(24), ()=>('#fff') )\r\n  }\r\n  chartDatas:{\r\n    \"type\":string,\r\n    \"datasets\":Array<any>,\r\n    \"labels\": Array<string>,\r\n    \"options\":{},\r\n    \"colors\":{}\r\n  } = {\r\n    \"type\":'bar',\r\n\r\n    \"datasets\": [\r\n      this.gChartLineSet(this.temp.data),\r\n      {\"data\":this.temp.data}\r\n      //{\"data\":this.temp.data,\"type\":'line',\"borderColor\": 'rgba(72,138,255,0.8)',}\r\n    ],\r\n    \"colors\":[{\"backgroundColor\":'transparent'},{\"backgroundColor\":[]}],\r\n\r\n    \"labels\": [\r\n      \"00:00\",\"\",\"02:00\",\"\",\"04:00\",\"\",\r\n      \r\n    ],\r\n    \"options\":{\r\n      padding:0,scaleShowLabels:!1,scales:{xAxes:[{gridLines:{offsetGridLines:!0},\r\n        pointDotRadius:10,\r\n        barPercentage:0.4,categoryPercentage:0.9,ticks:{padding:10,backdropPaddingX:20}}],yAxes:[{ticks:{max:30,min:0,display:true,beginAtZero:!0,padding:0}}]},responsive:!0},\r\n  }\r\n  datePicker :{\r\n    start:string,\r\n    end:string,\r\n    range:Array<number>\r\n  }\r\n  data:{\r\n    sections:Array < sectionDataType >,\r\n    checks:Array<boolean>\r\n  }= {\r\n    sections:[],\r\n    checks:[]\r\n  }\r\n  thisIdx: number;\r\n  constructor(\r\n    private clProv : CollectionsDataProvider,\r\n    private scheduleProv: ScheduleDataProvider,\r\n    private toastCtrl:ToastCtrlProvider,\r\n    private modalCtrl: ModalController,\r\n    public navCtrl: NavController,\r\n    public navParams: NavParams\r\n  ) {\r\n    this.datePicker = {\r\n      start:'',\r\n      end:'',\r\n      range:[null,null]\r\n    }\r\n    this.collectionsList = this.clProv.list;\r\n\r\n    this.thisIdx = this.navParams.get(\"idx\");\r\n    \r\n    console.log('editSchedulePage: ' + this.thisIdx);\r\n  }\r\n  ionViewDidLoad() {\r\n    this.scheduleProv.getSchedule(this.navParams.get(\"idx\")).subscribe(\r\n        arr => {\r\n            this.data.sections = arr.sectionsList;\r\n            this.data.checks = arr.checks;\r\n            this.datePicker.range = arr.dateRange;\r\n            console.log('this.scheduleProv.dateRangeToStringObj(arr.dateRange)')\r\n            console.log(this.scheduleProv.dateRangeToStringObj(arr.dateRange))\r\n            let dateTmp = this.scheduleProv.dateRangeToStringObj(arr.dateRange);\r\n            this.datePicker.start = dateTmp.start;\r\n            this.datePicker.end = dateTmp.end;\r\n\r\n            this.changeSectionsEvent();\r\n            \r\n        }\r\n    );\r\n  }\r\n  gChartLineSet(data){\r\n    return {\r\n      \"type\":'line',\r\n      \"data\":data,\r\n      borderWidth: 3,\r\n      borderColor: 'rgba(0,0,255,0.2)',\r\n      pointRadius:10 ,\r\n      pointHoverRadius: 25,\r\n      pointHoverBorderColor: 'rgba(0, 0, 255,0.8)',\r\n      pointDotWidth: 5,\r\n      pointBorderColor: 'rgba(0, 0, 255,0.5)',\r\n      pointBackgroundColor: 'rgba(0,0,255,.1)',\r\n      backgroundColor: 'rgba(0,0,0,0)',\r\n    }\r\n  }\r\n  dateChange(event){\r\n    //console.log(this.datePicker);\r\n    \r\n    if(this.datePicker.end === null){\r\n      this.datePicker.end = '';\r\n    }else if(this.datePicker.start === null){\r\n      this.datePicker.start = '';\r\n    }else if(this.datePicker.start === '' || this.datePicker.end ===''){\r\n      return false;\r\n    }else{\r\n      if(this.datePicker.start > this.datePicker.end){\r\n        this.datePicker.start = [this.datePicker.end , this.datePicker.end=this.datePicker.start][0];\r\n      }else{}\r\n      let dateTmp = [ \r\n        parseInt(this.datePicker.start.split(':')[0]),\r\n        parseInt(this.datePicker.end.split(':')[0]),\r\n      ];\r\n      this.datePicker.range = dateTmp;\r\n      this.data.sections = [];\r\n  \r\n      this.scheduleProv.detectDateRange(dateTmp,this.thisIdx).subscribe(\r\n        isRepeat => {\r\n          if(!isRepeat || this.datePicker.end=='00:00'){\r\n            for( let i=dateTmp[0];i<=dateTmp[1];i++  ){\r\n              this.data.sections.push({\r\n                \"mode\":1,\r\n                \"time\": ((i<10)?('0'+i):i)+':00',\r\n                \"time_num\":[i,0],  // [ HOUR , MIN ]\r\n                \"multiple\":0,\r\n              });\r\n            }\r\n            this.changeSectionsEvent();\r\n          }else{\r\n            setTimeout(\r\n              ()=>{\r\n                this.datePicker.range = [null,null];\r\n                this.data.sections = [];\r\n                this.datePicker.start = '';\r\n                this.datePicker.end = '';\r\n              },500\r\n            );\r\n            alert('時間重疊到其他排程！('+isRepeat.dateRange[0]+':00~'+isRepeat.dateRange[1]+':00)');\r\n            \r\n          }\r\n        }\r\n      );\r\n    }\r\n    \r\n    \r\n    //this.data.sections\r\n  }\r\n  changeSectionsEvent(){\r\n    let chart = this.scheduleProv.sectionsToCharts(this.data.sections,this.datePicker.range,true);\r\n    //this.temp.data.splice(0,this.temp.data.length).push.apply(this.temp.data,chart.data);\r\n    console.log(chart);\r\n    this.chartDatas.datasets = [\r\n      this.gChartLineSet(chart.data),\r\n      {data:chart.data}\r\n    ],\r\n    this.chartDatas.colors = [\r\n      {},\r\n      {\"backgroundColor\": chart.backgroundColor}];\r\n    this.chartDatas.labels = chart.labels;\r\n    //this.temp.backgroundColor.splice(0,this.temp.backgroundColor.length).push.apply(this.temp.backgroundColor,chart.backgroundColor);\r\n\r\n    console.log('chart');\r\n    console.log(this.chartDatas);\r\n    //console.log(this.temp);\r\n\r\n    /*this.chartDatas.datasets =\r\n      [\r\n        {data:chart.data},\r\n        {data:chart.data,type:'line',borderColor: 'rgba(72,138,255,0.8)',},\r\n      ];\r\n      \r\n    this.chartDatas.colors = [\r\n      { \"backgroundColor\":chart.backgroundColor }\r\n    ]*/\r\n    \r\n  }\r\n  saveSections(isSended=false){\r\n    this.scheduleProv.modifySchedule(this.thisIdx,this.data.sections,this.data.checks,this.datePicker.range).subscribe(\r\n        res => {\r\n            this.toastCtrl.showToast('儲存成功！');\r\n        }\r\n    );\r\n    //this.infos['lastModified'] = new Date().getTime();\r\n    //console.log(this.infos['lastModified']);\r\n  }\r\n  delSection(idx) {\r\n    this.data.sections.splice(idx, 1);\r\n  }\r\n  editSection(idx) {\r\n    let modal = this.modalCtrl.create(modalSectionEdit, {\r\n      \"mode\": this.data.sections[idx].mode,\r\n      \"time\": this.data.sections[idx].time,\r\n      \"multiple\": this.data.sections[idx].multiple\r\n    }, {\r\n      cssClass: 'modal-section'\r\n    });\r\n    modal.onDidDismiss(data => {\r\n      let repeated = this.detectRepeat(data)\r\n      if (data && !repeated) {\r\n        //this.data.sections.push(data);\r\n        this.data.sections[idx].mode = data.mode;\r\n        this.data.sections[idx].time = data.time;\r\n        this.data.sections[idx].multiple = data.multiple;\r\n        this.data.sections.sort(\r\n          (a, b) =>\r\n          ((a.time_num[0] == b.time_num[0]) ? (a.time_num[1] - b.time_num[1]) : (a.time_num[0] - b.time_num[0]))\r\n        );\r\n        this.changeSectionsEvent();\r\n      } else if (repeated) {\r\n        this.toastCtrl.showToast('「開始時間」重複，請試試別的時間唷');\r\n      } else {\r\n\r\n      }\r\n      //console.log(this.data.sections);\r\n    });\r\n    modal.present();\r\n  }\r\n  addSection() {\r\n      console.log(this.data.sections);\r\n    if (this.data.sections.length >= 30) {\r\n      alert('排程數量已經額滿(上限為30組)');\r\n    } else {\r\n      let modal = this.modalCtrl.create(modalSectionEdit, {\r\n        \"time\": \"00:00\",\r\n        \"multiple\": 0\r\n      }, {\r\n        cssClass: 'modal-section'\r\n      });\r\n      modal.onDidDismiss(data => {\r\n        let repeated = this.detectRepeat(data)\r\n        if (data && !repeated) {\r\n          this.data.sections.push(data);\r\n          this.data.sections.sort(\r\n            (a, b) =>\r\n            ((a.time_num[0] == b.time_num[0]) ? (a.time_num[1] - b.time_num[1]) : (a.time_num[0] - b.time_num[0]))\r\n          );\r\n          \r\n        } else if (repeated) {\r\n          this.toastCtrl.showToast('「開始時間」重複，請試試別的時間唷');\r\n        } else {\r\n\r\n        }\r\n        //console.log(this.data.sections);\r\n      });\r\n      modal.present();\r\n    }\r\n\r\n  }\r\n  detectRepeat(data) {\r\n    /*if (this.data.sections.find((val, idx) => (val.time == data.time) ? true : false)) {\r\n      return true;\r\n    }else{\r\n      return false;\r\n    }*/\r\n    return false;\r\n  }\r\n}\r\n@Component({\r\n    templateUrl:'./nav-main/modal-section-edit.html',\r\n    providers:[lightsTypesPipe]\r\n})\r\nexport class modalSectionEdit{\r\n    //param : object;\r\n    settings:sectionDataType ;\r\n    lightsTypes:Array<string>;\r\n    constructor(\r\n      \r\n      private lightsType: LightsInfoProvider,\r\n      public viewCtrl: ViewController,\r\n      public navParams: NavParams) {\r\n        this.lightsTypes = this.lightsType.getTypes();\r\n        this.settings= {\r\n          \"mode\":this.navParams.data[\"mode\"],\r\n          \"time\":this.navParams.data[\"time\"],\r\n          \"time_num\":[],\r\n          \"multiple\":this.navParams.data[\"multiple\"]\r\n        }\r\n      }\r\n    add(){\r\n      //this.settings[\"mode\"] = parseInt(this.settings[\"mode\"]);\r\n      this.settings[\"time_num\"] = \r\n        this.settings[\"time\"].split(':').map( (val,idx)=>{ if(idx<2){return parseInt(val,10);} } )\r\n      this.viewCtrl.dismiss(this.settings);\r\n    }\r\n    dismiss() {\r\n      this.viewCtrl.dismiss(false);\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/pages/mode-schedule/edit-schedule.ts","import { Component } from '@angular/core';\r\nimport { AlertController ,ViewController, ModalController, NavController, NavParams } from 'ionic-angular';\r\n\r\nimport { ToastCtrlProvider } from  '../../providers/toast-ctrl/toast-ctrl'\r\nimport { LightsInfoProvider,lightsTypesPipe } from  '../../providers/lights-info/lights-info'\r\n\r\nimport { PatternsDataProvider,PatternDataType,SectionDataType } from '../../providers/patterns-data/patterns-data';\r\nimport 'rxjs/add/operator/map';\r\n\r\nimport { BleOperatorPage } from '../ble-operator/ble-operator';\r\nimport { BleCommandProvider } from '../../providers/ble-command/ble-command';\r\n//Math.floor(new Date().getTime()%(86400000)/60000)*60000;\r\n\r\n/**\r\n * Note :\r\n * NoSql tables:\r\n *   \"lightsGroupsDataArr\"\r\n *   \"patternsArr-_GID_\" ...\r\n *   \"sectionsArr-GID-PID\" ...\r\n * \r\n * TODOS:\r\n *   lightsGroupsData => 'lightsGroupsDataArr' provider OK\r\n *   patternData  => 'patternsArr-_GID_' \r\n *   sectioData  => None\r\n * \r\n *   \"lightsGroupsDataArr\":[\r\n *     { ((lightsGroupsDataType))\r\n *       \"gid\": _GID_,\r\n *       \"patternsArr\":[\r\n *         { ((PatternDataType))\r\n *           \"gid\":_GID_,\r\n *           \"pid\":_PID_,\r\n *           \"sectionsArr\":[\r\n *             {  ((sectioData))\r\n *               ...\r\n *             }\r\n *           ]\r\n *         }\r\n *       ]\r\n *     }\r\n *   ]\r\n * \r\n * // Structures\r\n * groups[\r\n *   { **lightsGroupsData from 'provider/light-groups'**\r\n *     ...\r\n *     patterns: [\r\n *       {  **patternData from 'page/nav.main'**\r\n *         sections:[ { **sectioData from 'page/nav.main' **...},{...},...]\r\n *       },{\r\n *       }\r\n *     ]\r\n *   },{\r\n *     ...\r\n *   }\r\n * \r\n * ]\r\n */\r\n// Partent : \"lightsGroupsData\" from 'providers/lights-groups'\r\n\r\nexport interface patternData {\r\n  \"gid\" : number,\r\n  \"pid\" : number,\r\n  \"patternSlug\" : string,\r\n  \"name\" : string,\r\n  \"lastSended\" : boolean,\r\n  \"sections\" : Array<any>\r\n}\r\n\r\n@Component({\r\n    templateUrl: './nav-main/pr1-patterns.html',\r\n    \r\n})\r\nexport class pr1patternsNav {\r\n  parentParam : object;\r\n  groupInfo: {\r\n    \"gid\":number,\r\n    \"name\":string\r\n  }\r\n  patternsStore :any={\r\n    \"list\" :{},\r\n    \"list_o\": {},\r\n    \"latestPattern\":{},\r\n    \"latestPattern_pidx\":null,\r\n\r\n  };\r\n  /*rows = Array.from(\r\n    Array(Math.ceil(this.patternsStore.list.length/_colNumver)).keys()\r\n    // *ngFor=\"let row of rows\"\r\n    //    *ngFor=\"let item of this.patternsStore.list | slice: (row*_colNumver):(row+1)*_colNumver\"\r\n  );*/\r\n  constructor(\r\n    private toastCtrl:ToastCtrlProvider,\r\n    private pattersProvider :PatternsDataProvider,\r\n    //private lightInfos: LightsInfoProvider,\r\n    public navCtrl: NavController,\r\n    public navParams: NavParams) {\r\n      if(!this.navParams.data[\"gid\"]) this.navParams.data[\"gid\"]=0;\r\n      this.groupInfo = {\r\n        \"gid\":this.navParams.data[\"gid\"],\r\n        \"name\":this.navParams.data[\"name\"]\r\n      }\r\n      this.patternsStore.list_o = this.pattersProvider.infos;\r\n\r\n      let loader = this.toastCtrl.showLoading('讀取中...');\r\n      console.log('=== ENTER \"pr1patternsNav\" gid: '+this.navParams.data[\"gid\"]+' ===');\r\n      console.log(this.patternsStore);\r\n      this.pattersProvider.loadAll(this.navParams.data[\"gid\"]).take(1).subscribe( scc=>{\r\n        loader.dismiss();\r\n      });\r\n    }\r\n\r\n  ionViewDidEnter(){\r\n    this.checkLatestPattern();\r\n  }\r\n  checkLatestPattern(){\r\n    let temp = {\r\n      \"latest\":{\"lastSendedTime\":0},\r\n      \"latest_pidx\":0\r\n    }\r\n    this.patternsStore.list_o.subscribe(\r\n      list => {\r\n        list.forEach((val,idx) => {\r\n          if(val.lastSendedTime!=0&&val.lastSendedTime > temp.latest.lastSendedTime){\r\n            temp.latest = val;\r\n            temp.latest_pidx = idx;\r\n          }\r\n        });\r\n        if(temp.latest.lastSendedTime!=0){\r\n          this.patternsStore.latestPattern = temp.latest;\r\n          this.patternsStore.latestPattern_pidx= temp.latest_pidx;\r\n        }\r\n        else {\r\n          this.patternsStore.latestPattern = {\r\n            \"lastSendedTime\":null,\r\n            \"lastModified\":null\r\n          };\r\n          this.patternsStore.latestPattern_pidx= null;\r\n        }\r\n      }\r\n    );\r\n    \r\n  }\r\n  /** */\r\n  goNavModes(goGid,goPidx){\r\n    console.log('Go : '+ goGid + ' , ' +goPidx);\r\n    this.pattersProvider.infos.take(1).subscribe(\r\n      arr => {\r\n        let tmpArr = arr.filter((obj,idx) => (obj.gid==goGid)&&(idx==goPidx));\r\n        this.navCtrl.push(pr2ModesNav, {\r\n          \"gid\": this.navParams.data[\"gid\"],\r\n          \"pidx\": goPidx,\r\n          \"pattern\": tmpArr[0]\r\n        });\r\n      }\r\n    );\r\n\r\n  }\r\n  addPattern(){\r\n    this.pattersProvider.addNewPattern(this.navParams.data[\"gid\"]).subscribe(\r\n      (scc,err) => {\r\n        if(!scc){\r\n          this.toastCtrl.showToast('未知的錯誤！ '+ err);\r\n        }else{\r\n          console.log('addPattern SCC!');\r\n        }\r\n      }\r\n    );\r\n    \r\n  }\r\n\r\n}\r\n/* TEST DATA */\r\n/*\r\nlet cursor = 0;\r\n    let cusArr = [\r\n      {\r\n        \"gid\" : this.parentParam['gid'],\r\n        \r\n        \"pid\" : cursor++,\r\n          \"patternSlug\" : 'cus1',\r\n          \"name\" : '自定排程１',\r\n          \"lastSended\" : false,\r\n          \"sections\" : []\r\n      },{\r\n        \"gid\" : this.parentParam['gid'],\r\n        \r\n        \"pid\" : cursor++,\r\n          \"patternSlug\" : 'cus2',\r\n          \"name\" : '自訂排程２',\r\n          \"lastSended\" : false,\r\n          \"sections\" : []\r\n      }\r\n    ]\r\n    let tempArr = this.lightInfos.getTypes().map(obj =>(\r\n      {\r\n        \"gid\" : this.parentParam['gid'],\r\n        \r\n        \"pid\" : cursor++,\r\n          \"patternSlug\" : obj.slug,\r\n          \"name\" : obj.name,\r\n          \"lastSended\" : false,\r\n          \"sections\" : []\r\n      }\r\n    ));\r\n    this.patternsStore.list.push(...cusArr,...tempArr);\r\n*/\r\n\r\n\r\n\r\n@Component({\r\n    templateUrl: './nav-main/pr2-sections.html',\r\n})\r\nexport class pr2ModesNav {\r\n    infos: {\r\n      \"gid\" : number,\r\n      \"pidx\" : number,\r\n      \"pattern\" : PatternDataType\r\n    };\r\n    sections: Array<SectionDataType> = [];\r\n    isShowDel : boolean;\r\n    constructor(\r\n      private bleCmd: BleCommandProvider,\r\n      private pattersProvider :PatternsDataProvider,\r\n      private toastCtrl: ToastCtrlProvider,\r\n      private modalCtrl: ModalController,\r\n      private alertCtrl: AlertController,\r\n      public navCtrl: NavController,\r\n      public navParams: NavParams){\r\n        this.isShowDel = false;    \r\n        this.infos = {\r\n          \"gid\": this.navParams.data[\"gid\"],\r\n          \"pidx\" : this.navParams.data[\"pidx\"],\r\n          \"pattern\" : this.navParams.data[\"pattern\"]\r\n        }\r\n        this.sections = this.infos[\"pattern\"].sections;\r\n        console.log('=== *pr2ModesNav* ===');\r\n        console.log(this.navParams);\r\n        console.log(this.infos);\r\n      }\r\n    ionViewDidEnter() {\r\n\r\n    }\r\n    openBleModal(){\r\n      this.navCtrl.push(BleOperatorPage);\r\n      /*let modal = this.modalCtrl.create(BleOperatorPage);\r\n      modal.present();*/\r\n    }\r\n    saveSections(isSended=false){\r\n      this.pattersProvider.updatePattern(\r\n        this.infos['pattern'],\r\n        this.infos['pidx'],isSended).subscribe(\r\n          (scc,res) => {if(!scc){this.toastCtrl.showToast('儲存失敗');console.log(scc);}else this.toastCtrl.showToast('儲存成功！');}\r\n        );\r\n      //this.infos['lastModified'] = new Date().getTime();\r\n      //console.log(this.infos['lastModified']);\r\n    }\r\n    sendSections(){\r\n      // 沒有儲存就傳送有問題！\r\n      this.bleCmd.goSchedule(this.sections,this.infos.gid).subscribe(\r\n        (isOkList)=>{\r\n          console.log('>>>>>>>>>>>>> CMD WRITE LIST STATUS <<<<<<<<<<<<<<<<');\r\n          console.log(JSON.stringify(isOkList));\r\n          console.log('>>>>>>>>>>>>> <<<<<<<<<<<<<<<<');\r\n          if(isOkList.find( val=>val==false )){\r\n            alert('傳送排程過程中發生問題，請重新傳送QQ');\r\n          }else{}\r\n          this.saveSections(true);\r\n        }\r\n      );\r\n      \r\n    }\r\n    isShowDelBtn(){\r\n      this.isShowDel = !this.isShowDel;\r\n    }\r\n    delSection(idx){\r\n      this.sections.splice(idx,1);\r\n    }\r\n    editSection(idx){\r\n      let modal = this.modalCtrl.create(modalSectionEdit,{ \"time\":this.sections[idx].time,\"multiple\":this.sections[idx].multiple },{cssClass:'modal-section'});\r\n      modal.onDidDismiss(data => {\r\n        let repeated =this.detectRepeat(data)\r\n        if(data && !repeated){\r\n          //this.sections.push(data);\r\n          this.sections[idx].time = data.time;\r\n          this.sections[idx].multiple = data.multiple;\r\n          this.sections.sort( \r\n            (a,b) => \r\n            ( (a.time_num[0]==b.time_num[0])?(a.time_num[1]-b.time_num[1]):(a.time_num[0]-b.time_num[0])  ) \r\n          );\r\n        }else if(repeated){\r\n          this.toastCtrl.showToast('「開始時間」重複，請試試別的時間唷');\r\n        }else{\r\n\r\n        }\r\n        //console.log(this.sections);\r\n      });\r\n      modal.present();\r\n    }\r\n    addSection() {\r\n      if(this.sections.length>=30){\r\n        alert('排程數量已經額滿(上限為30組)');\r\n      }else{\r\n        let modal = this.modalCtrl.create(modalSectionEdit,{ \"time\":\"00:00\",\"multiple\":0 },{cssClass:'modal-section'});\r\n        modal.onDidDismiss(data => {\r\n          let repeated =this.detectRepeat(data)\r\n          if(data && !repeated){\r\n            this.sections.push(data);\r\n            this.sections.sort( \r\n              (a,b) => \r\n              ( (a.time_num[0]==b.time_num[0])?(a.time_num[1]-b.time_num[1]):(a.time_num[0]-b.time_num[0])  ) \r\n            );\r\n          }else if(repeated){\r\n            this.toastCtrl.showToast('「開始時間」重複，請試試別的時間唷');\r\n          }else{\r\n  \r\n          }\r\n          //console.log(this.sections);\r\n        });\r\n        modal.present();\r\n      }\r\n\r\n    }\r\n    detectRepeat(data){\r\n      if(this.sections.find( (val,idx) => (val.time==data.time)?true:false )){\r\n        return true;\r\n      }\r\n    }\r\n    editName(){\r\n      let alert = this.alertCtrl.create({\r\n        title: '更改名稱',\r\n        inputs: [\r\n          {\r\n            name: 'p_name',\r\n            placeholder: '請輸入排程名稱...'\r\n          }\r\n        ],\r\n        buttons: [\r\n          {\r\n            text: '取消',\r\n            role: 'cancel',\r\n            handler: data => {\r\n              console.log('Cancel clicked');\r\n            }\r\n          },\r\n          {\r\n            text: '確定',\r\n            handler: data => {\r\n              this.infos[\"pattern\"].p_name =data[\"p_name\"];\r\n            }\r\n          }\r\n        ]\r\n      });\r\n      alert.present();\r\n    }\r\n\r\n  }\r\n\r\n@Component({\r\n  templateUrl:'./nav-main/modal-section-edit.html',\r\n  providers:[lightsTypesPipe]\r\n})\r\nexport class modalSectionEdit{\r\n  //param : object;\r\n  settings:SectionDataType ;\r\n  lightsTypes:Array<string>;\r\n  constructor(\r\n    \r\n    private lightsType: LightsInfoProvider,\r\n    public viewCtrl: ViewController,\r\n    public navParams: NavParams) {\r\n      this.lightsTypes = this.lightsType.getTypes();\r\n      this.settings= {\r\n        \"mode\":1,\r\n        \"time\":this.navParams.data[\"time\"],\r\n        \"time_num\":[],\r\n        \"multiple\":this.navParams.data[\"multiple\"]\r\n      }\r\n    }\r\n  add(){\r\n    this.settings[\"time_num\"] = \r\n      this.settings[\"time\"].split(':').map( (val,idx)=>{ if(idx<2){return parseInt(val,10);} } )\r\n    this.viewCtrl.dismiss(this.settings);\r\n  }\r\n  dismiss() {\r\n    this.viewCtrl.dismiss(false);\r\n  }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/pages/mode-schedule/nav-main.ts","import { NgModule } from '@angular/core';\r\nimport { IonicPageModule } from 'ionic-angular';\r\nimport { cListPage,CollectionsPage } from './collections';\r\nimport { CollectionsModule } from '../../providers/collections-data/collections-data.module';\r\n@NgModule({\r\n  declarations: [\r\n    CollectionsPage,\r\n    cListPage\r\n  ],\r\n  imports: [\r\n    CollectionsModule,\r\n    IonicPageModule.forChild(CollectionsPage),\r\n  ],\r\n  entryComponents: [\r\n    cListPage,\r\n  ] \r\n})\r\nexport class CollectionsPageModule {}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/collections/collections.module.ts","import { Component } from '@angular/core';\r\nimport { IonicPage, NavController, NavParams } from 'ionic-angular';\r\nimport 'rxjs/add/operator/map';\r\nimport { Observable } from 'rxjs/Observable';\r\n\r\nimport { DevicesDataProvider,lightDeviceType } from '../../providers/devices-data/devices-data';\r\nimport { CollectionsDataProvider,collectionType } from '../../providers/collections-data/collections-data';\r\n\r\n@IonicPage()\r\n@Component({\r\n  selector: 'page-collections',\r\n  templateUrl: 'collections.html',\r\n})\r\nexport class CollectionsPage {\r\n  \r\n  collectionsList : Observable<collectionType[]>;\r\n\r\n  constructor(\r\n    private clProv : CollectionsDataProvider,\r\n    public navCtrl: NavController,\r\n    public navParams: NavParams\r\n  ) {\r\n\r\n    this.collectionsList = this.clProv.list;\r\n\r\n  }\r\n\r\n  ionViewDidLoad() {\r\n    console.log('ionViewDidLoad CollectionPage');\r\n  }\r\n  edit(cid:number){\r\n    this.navCtrl.push(cListPage,{\"cid\":cid});\r\n  }\r\n\r\n}\r\n@Component({\r\n  templateUrl: 'edit.html',\r\n})\r\nexport class cListPage{\r\n  devices_list:{\r\n    \"data\":Array<any>;\r\n  };\r\n  thisCid:number;\r\n\r\n  devicesCheckList:{\r\n    \"data\":Array<any>\r\n  };\r\n  constructor(\r\n    private clProv : CollectionsDataProvider,\r\n    private devicesProv:DevicesDataProvider,\r\n    public navCtrl: NavController,\r\n    public navParams: NavParams\r\n  ) {\r\n\r\n    this.devices_list={\r\n      \"data\":[]\r\n    }\r\n    this.thisCid = navParams.get(\"cid\");\r\n    this.devicesCheckList = {\r\n      \"data\":[]\r\n    }\r\n    this.load();\r\n    \r\n  }\r\n  load(){\r\n    this.devicesProv.list.take(1).subscribe(\r\n      arr => {\r\n        console.log(arr);\r\n        this.devices_list.data = arr.map(\r\n          (v,idx)=>{\r\n            return {\r\n              \"name\":v.o_name,\r\n              \"collection\": v.collection,\r\n              \"group\":v.group,\r\n              \"id\":v.id,\r\n              \"isDisabled\": false, // 1 Device to N Collections\r\n              /*\"isDisabled\":(    // 1 Device to 1 Collection\r\n                (v.collection && v.collection!=0)?\r\n                  ((v.collection==this.thisCid)?false:true)\r\n                  :false),*/\r\n              \"isCheck\": ((v.collection.find(v => v==this.thisCid))?true:false)\r\n              //((v.collection==this.thisCid)?true:false)\r\n            }\r\n          }\r\n        );\r\n        //console.log(this.devices_list.data);\r\n      }\r\n    );\r\n  }\r\n  save(){\r\n    let devices = [];\r\n    //console.log(this.devices_list.data);\r\n    this.devices_list.data\r\n      .map(\r\n        v => {\r\n          let cidFinded = (v.collection.find(v => v==this.thisCid));\r\n          if(( (v.isCheck==false) && cidFinded )){\r\n            this.devicesProv.modify(v.id,null,null,true, v.collection.filter(v=>v!==this.thisCid) ).take(1).subscribe();\r\n\r\n\r\n          }else if( v.isCheck && !cidFinded ){\r\n            v.collection.push(this.thisCid);\r\n            this.devicesProv.modify(v.id,null,null,true, v.collection ).take(1).subscribe();\r\n            devices.push(v.group);\r\n          }else if(  v.isCheck && cidFinded ){\r\n            devices.push(v.group);\r\n          }else{\r\n          }\r\n        }\r\n      );\r\n  \r\n    this.clProv.modify(this.thisCid,devices).take(1).subscribe(\r\n      res => {\r\n        if(res){\r\n          alert('儲存成功！');\r\n          this.navCtrl.pop();\r\n        }\r\n      }\r\n    );\r\n  }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/pages/collections/collections.ts","import { NgModule } from '@angular/core';\r\nimport { IonicPageModule } from 'ionic-angular';\r\nimport { StartPage } from './start';\r\n\r\n@NgModule({\r\n  declarations: [\r\n    StartPage,\r\n  ],\r\n  imports: [\r\n    IonicPageModule.forChild(StartPage),\r\n  ],\r\n})\r\nexport class StartPageModule {}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/start/start.module.ts","import { Component } from '@angular/core';\r\nimport { IonicPage, NavController, NavParams } from 'ionic-angular';\r\nimport { TabsPage } from '../tabs/tabs';\r\n\r\n/**\r\n * Generated class for the StartPage page.\r\n *\r\n * See http://ionicframework.com/docs/components/#navigation for more info\r\n * on Ionic pages and navigation.\r\n */\r\n\r\n@IonicPage()\r\n@Component({\r\n  selector: 'page-start',\r\n  templateUrl: 'start.html',\r\n})\r\nexport class StartPage {\r\n\r\n  constructor(public navCtrl: NavController, public navParams: NavParams) {\r\n  }\r\n\r\n  ionViewDidLoad() {\r\n    console.log('ionViewDidLoad StartPage');\r\n  }\r\n\r\n  go(index){\r\n    this.navCtrl.setRoot(TabsPage,{\"index\":index});\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/start/start.ts","import { Component } from '@angular/core';\r\nimport { NavParams } from 'ionic-angular';\r\nimport { DevMode } from '../dev-mode/dev-mode';\r\nimport { ModeManual } from '../mode-manual/mode-manual';\r\nimport { ModeDevicesPage } from '../mode-devices/mode-devices';\r\nimport { ModeSchedulePage } from '../mode-schedule/mode-schedule';\r\nimport { CollectionsPage } from '../collections/collections';\r\n\r\n@Component({\r\n  templateUrl: 'tabs.html'\r\n})\r\nexport class TabsPage {\r\n  defaultIndex = 0;\r\n\r\n  tab1Root = ModeSchedulePage;\r\n  tab2Root = ModeManual;\r\n  tab3Root = ModeDevicesPage;\r\n  tab4Root = DevMode;\r\n\r\n  tab5Root = CollectionsPage;\r\n\r\n  constructor( private navParams: NavParams ) {\r\n    this.defaultIndex = navParams.get(\"index\") || 0;\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/tabs/tabs.ts","import { Component } from '@angular/core';\r\nimport { NavParams,AlertController,ModalController,NavController } from 'ionic-angular';\r\nimport { BleCommandProvider } from  '../../providers/ble-command/ble-command'\r\nimport { LightsGoupsProvider } from '../../providers/lights-goups/lights-goups'\r\nimport { BleOperatorPage } from '../ble-operator/ble-operator';\r\nimport { NativeStorage } from '@ionic-native/native-storage';\r\nimport 'rxjs/add/operator/map';\r\nimport 'rxjs/add/operator/take';\r\nimport 'rxjs/add/observable/fromPromise';\r\nimport { Observable } from 'rxjs/Observable';\r\nconst _DEV_SETTINGS_LIST = 'devValueList';\r\ninterface devSetting {\r\n  \"name\":string,\r\n  \"value\":Array<number>,\r\n  \"multiple\":number,\r\n  \"color\":string\r\n}\r\n@Component({\r\n  selector: 'page-dev-mode',\r\n  templateUrl: 'dev-mode.html',\r\n})\r\nexport class DevMode {\r\n  devDataStore:{\r\n    \"list\": Array<devSetting>\r\n  };\r\n\r\n  numTest: object = {'0':99};\r\n  ggg: object = {value:1};\r\n  testNumWheel : Function =function(){\r\n    console.log('testNumWheel!');\r\n  }\r\n /*lightLinesArrType : Array<{\r\n    \"value\":number\r\n  }>*/\r\n  \r\n  saveSettings : {\r\n    \"isEdit\":boolean,\r\n  }\r\n  lightsGroups : Array<any>;\r\n  deviceMeta = {\r\n    \"groups\" : [0],\r\n    \"curMultiple\":0, \r\n  };\r\n  constructor(\r\n    private lightsGroupsProv:LightsGoupsProvider,\r\n    private bleCmd: BleCommandProvider,\r\n    private storage:NativeStorage,\r\n    private alertCtrl:AlertController,\r\n    public modalCtrl: ModalController,\r\n    public navCtrl: NavController,\r\n    ) {\r\n    this.lightsGroups = [];\r\n    //this.lightLinesArr =    \r\n    this.saveSettings= {\r\n      \"isEdit\":false,\r\n    };\r\n    this.devDataStore = {\r\n      \"list\":[]\r\n    };\r\n  }\r\n  ionViewDidEnter(){\r\n    this.lightsGroupsProv.getGroups().subscribe(\r\n      list => {\r\n        this.lightsGroups = list;\r\n      }\r\n    );\r\n    Observable.fromPromise(this.storage.getItem(_DEV_SETTINGS_LIST)).subscribe(\r\n      value=>{\r\n        if(typeof value != 'object') value = JSON.parse(value);\r\n        this.devDataStore.list = value;\r\n      },\r\n      ()=>{\r\n        this.devDataStore.list = [\r\n            {\"name\":\"測試1\",\"value\":[1,2,3,4,5,6,7,8,9,10,11,12],\"multiple\":20,\"color\":\"blue\"},\r\n            {\"name\":\"測試2\",\"value\":[1,2,3,4,5,6,7,8,9,10,11,12],\"multiple\":20,\"color\":\"blue\"},\r\n            {\"name\":\"測試3\",\"value\":[1,2,3,4,5,6,7,8,9,10,11,12],\"multiple\":20,\"color\":\"blue\"},\r\n            {\"name\":\"測試3\",\"value\":[1,2,3,4,5,6,7,8,9,10,11,12],\"multiple\":20,\"color\":\"blue\"},\r\n          ];\r\n        this.storage.setItem(_DEV_SETTINGS_LIST,this.devDataStore.list).then(); \r\n      }\r\n    );\r\n  }\r\n  showEdit(){\r\n    this.saveSettings.isEdit = !this.saveSettings.isEdit;\r\n  }\r\n  triggerDevBtn(idx:number){\r\n    console.log('triggerDevBtn('+idx+')');\r\n    if(this.saveSettings.isEdit){\r\n      this.editDevSetting(idx);\r\n    }else{\r\n      this.sendDevSetting(idx);\r\n    }\r\n  }\r\n  addDevSetting(){\r\n    this.devDataStore.list.push({\"name\":\"按鈕\",\"value\":[0,0,0,0,0,0,0,0,0,0,0,0],\"multiple\":30,\"color\":\"blue\"});\r\n    this.saveSettingsToStorage();\r\n  }\r\n  saveSettingsToStorage(){\r\n    Observable.fromPromise(this.storage.setItem(_DEV_SETTINGS_LIST,this.devDataStore.list))\r\n      .take(1).subscribe(\r\n        () => {console.log('成功！');},\r\n        () => {alert('未知的錯誤！');}\r\n      );\r\n  }\r\n  editDevSetting(idx:number){\r\n    this.navCtrl.push(editDevSettingPage, { \"idx\":idx });\r\n  }\r\n  sendDevSetting(idx:number){\r\n    let tmp = this.devDataStore.list[idx];\r\n    this.bleCmd.goDev(\r\n      tmp.multiple,\r\n      this.deviceMeta.groups,\r\n      tmp.value\r\n    );\r\n  }\r\n/*\r\n  sendDev(){\r\n    let multi=this.deviceMeta.curMultiple;\r\n    this.deviceMeta.groups.forEach((group,idx) => {\r\n      setTimeout(()=>{\r\n        this.bleCmd.goDev(\r\n          multi,\r\n          group,\r\n          this.saveSettings.lightLinesArr.map(val=>val.value)\r\n        );\r\n       }, 1000*idx,group)\r\n    });\r\n  }*/\r\n  openBleModal(){\r\n    this.navCtrl.push(BleOperatorPage);\r\n    /*let modal = this.modalCtrl.create(BleOperatorPage);\r\n    modal.present();*/\r\n  }\r\n  openFanModal(){\r\n    let confirm = this.alertCtrl.create({\r\n      title: '風速調整 0~100',\r\n      inputs: [\r\n        {\r\n          name: 'speed',\r\n          type: 'number',\r\n          placeholder: '數值'\r\n        },\r\n      ],\r\n      buttons: [\r\n        {\r\n          text: '取消',\r\n          handler: () => {\r\n            console.log('取消 clicked');\r\n          }\r\n        },\r\n        {\r\n          text: '傳送',\r\n          handler: data => {\r\n            this.bleCmd.goFan(data.speed);\r\n            console.log('傳送');\r\n          }\r\n        }\r\n      ]\r\n    });\r\n    confirm.present();\r\n  }\r\n/*\r\n  devModeSetting(){\r\n    //console.log(this.saveSettings.devValueList[0]);\r\n    let tmplist = this.saveSettings.devValueList.map( (val,idx) =>({\r\n      \"name\":idx.toString(),\r\n      \"type\":'radio',\r\n      'label':val.name + '('+ val.value.toString()+')',\r\n      'value':val.value.toString()\r\n    }));\r\n    tmplist.push({\r\n      name: '0',\r\n      type: 'radio',\r\n      label: '測試 (10,20,50,100,90,10,50,10,10,60,10,20',\r\n      value: '10,20,50,100,90,10,50,10,10,60,10,20',\r\n    });\r\n    let alert = this.alertCtrl.create({\r\n      cssClass: 'devModeSetting',\r\n      title: '亮度管理',\r\n      message: '選擇需要的亮度階數 或 增加當前設定',\r\n      inputs: tmplist,\r\n      buttons: [\r\n        {\r\n          text: '使用',\r\n          handler: (data) => {\r\n            console.log('選擇 clicked');\r\n            console.log(data);\r\n            \r\n            this.saveSettings.lightLinesArr =data.split(',').map(val=>({\"value\":parseInt(val)}));\r\n            //data.value.\r\n          }\r\n        },\r\n        {\r\n          text: '增加當前的設定值',\r\n          handler: () => {\r\n            this.addSettings();\r\n            console.log('增加 clicked');\r\n          }\r\n        },\r\n        {\r\n          text: 'Cancel',\r\n          handler: () => {\r\n            console.log('Cancel clicked');\r\n          }\r\n        },\r\n\r\n      ]\r\n    });\r\n\r\n    alert.present();\r\n  }\r\n  addSettings(){\r\n    let confirm = this.alertCtrl.create({\r\n      title: '增加亮度階數設定',\r\n      inputs: [\r\n        {\r\n          name: 'name',\r\n          placeholder: '名稱'\r\n        },\r\n        {\r\n          name: 'value',\r\n          type: 'text',\r\n          placeholder: '數值',\r\n          value: this.saveSettings.lightLinesArr.map(val=>val.value).toString()\r\n        },\r\n      ],\r\n      buttons: [\r\n        {\r\n          text: '取消',\r\n          handler: () => {\r\n            console.log('取消 clicked');\r\n          }\r\n        },\r\n        {\r\n          text: '增加',\r\n          handler: data => {\r\n            data[\"value\"] = data[\"value\"].split(',').map(val=>parseInt(val));\r\n            this.saveSettings.devValueList.push({\r\n              \"name\":data[\"name\"],\r\n              \"value\":data[\"value\"],\r\n            });\r\n            this.saveSettingsToStorage();\r\n            console.log(data);\r\n            console.log('增加 clicked');\r\n          }\r\n        }\r\n      ]\r\n    });\r\n    confirm.present();\r\n  }\r\n  saveSettingsToStorage(){\r\n    Observable.fromPromise(this.storage.setItem(_DEV_SETTINGS_LIST,this.saveSettings.devValueList))\r\n      .take(1).subscribe(\r\n        () => {alert('儲存成功！');},\r\n        () => {alert('未知的錯誤！');}\r\n      );\r\n  }\r\n  \r\n*/\r\nonNumberChanged(event){\r\n  console.log(event);\r\n}\r\n  ionViewDidLoad() {\r\n    console.log('ionViewDidLoad DevMode');\r\n  }\r\n\r\n}\r\n\r\n@Component({\r\n  templateUrl: 'edit-setting.html'\r\n})\r\nexport class editDevSettingPage {\r\n\r\n  saveSettings : {\r\n    \"settingMeta\":devSetting;\r\n    \"devValueList\":Array<devSetting>,\r\n    \"lightLinesArr\":Array<{\r\n      value:number\r\n    }>\r\n  }\r\n  \r\n\r\n  constructor(\r\n    private storage:NativeStorage,\r\n    private alertCtrl: AlertController,\r\n    private navCtrl: NavParams,\r\n    public navigaCtrl: NavController\r\n  ){\r\n    this.saveSettings= {\r\n      \"settingMeta\":{\r\n        \"name\":null,\r\n        \"value\":[],\r\n        \"multiple\":0,\r\n        \"color\":\"string\"\r\n      },\r\n      \"devValueList\":[],\r\n      \"lightLinesArr\":Array.from( new Array(12),((val,index) => ({'value':0}) )) // [1 to 12] \r\n    };\r\n\r\n  }\r\n  ionViewDidEnter(){\r\n\r\n    Observable.fromPromise(this.storage.getItem(_DEV_SETTINGS_LIST)).subscribe(\r\n      value=>{\r\n        if(typeof value != 'object') value = JSON.parse(value);\r\n        let tmpSetting = value[this.navCtrl.data[\"idx\"]];\r\n        this.saveSettings.settingMeta = {\r\n          \"name\":tmpSetting.name,\r\n          \"value\":tmpSetting.value,\r\n          \"multiple\":tmpSetting.multiple,\r\n          \"color\":tmpSetting.color\r\n        }\r\n        this.saveSettings.devValueList = value;\r\n        this.saveSettings.lightLinesArr = tmpSetting.value.map(val=>({'value':val}));\r\n      },\r\n      ()=>{}\r\n    );\r\n  }\r\n  remove(){\r\n    let confirm = this.alertCtrl.create({\r\n      title: '刪除此按鈕',\r\n      message: '確定刪除此組按鈕設定？',\r\n      buttons: [\r\n        {\r\n          text: '取消',\r\n          handler: () => {\r\n            console.log('Disagree clicked');\r\n          }\r\n        },\r\n        {\r\n          text: '確定',\r\n          handler: () => {\r\n            this.saveSettings.devValueList.splice(this.navCtrl.data[\"idx\"],1);\r\n            Observable.fromPromise(this.storage.setItem(_DEV_SETTINGS_LIST,this.saveSettings.devValueList))\r\n            .take(1).subscribe(\r\n              () => {\r\n                this.navigaCtrl.pop();\r\n              },\r\n              () => {alert('未知的錯誤！');}\r\n            );\r\n          }\r\n        }\r\n      ]\r\n    });\r\n    confirm.present();\r\n    \r\n  }\r\n  editName(){\r\n    let alert = this.alertCtrl.create({\r\n      title: '更改名稱',\r\n      inputs: [\r\n        {\r\n          name: 'name',\r\n          placeholder: '請輸入按鈕名稱...'\r\n        }\r\n      ],\r\n      buttons: [\r\n        {\r\n          text: '取消',\r\n          role: 'cancel',\r\n          handler: data => {\r\n            console.log('Cancel clicked');\r\n          }\r\n        },\r\n        {\r\n          text: '確定',\r\n          handler: data => {\r\n            this.saveSettings.settingMeta.name = data.name;\r\n          }\r\n        }\r\n      ]\r\n    });\r\n    alert.present();\r\n  }\r\n\r\n  saveSettingsToStorage(){\r\n    console.log(this.saveSettings.lightLinesArr);\r\n    this.saveSettings.settingMeta.value = this.saveSettings.lightLinesArr.map(val=>val.value);\r\n    console.log(this.saveSettings.settingMeta);\r\n    this.saveSettings.devValueList[this.navCtrl.data[\"idx\"]] = this.saveSettings.settingMeta;\r\n\r\n    Observable.fromPromise(this.storage.setItem(_DEV_SETTINGS_LIST,this.saveSettings.devValueList))\r\n      .take(1).subscribe(\r\n        () => {alert('成功！');},\r\n        () => {alert('未知的錯誤！');}\r\n      );\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/dev-mode/dev-mode.ts","import { Injectable } from '@angular/core';\r\nimport 'rxjs/add/operator/map';\r\nimport 'rxjs/add/operator/take';\r\nimport 'rxjs/add/operator/withLatestFrom';\r\nimport 'rxjs/add/observable/fromPromise';\r\nimport { Observable } from 'rxjs/Observable';\r\n\r\nimport { BleCtrlProvider } from '../ble-ctrl/ble-ctrl'\r\nimport { DevicesDataProvider } from '../devices-data/devices-data'\r\nimport { SectionDataType } from '../../providers/patterns-data/patterns-data';\r\n\r\nimport { ScheduleDataProvider,scheduleType } from '../../providers/schedule-data/schedule-data'\r\nimport { CollectionsDataProvider } from '../../providers/collections-data/collections-data'\r\n\r\nconst _START = 0xFA;\r\nconst _END = 0xFF;\r\n/* */\r\nconst _CMD_TIME = 0xA0;  // s,cmd, HOUR,MIN,SEC ,e\r\nconst _CMD_SET_GROUP = 0xA1;// s,cmd, GROUP, ,e\r\nconst _CMD_MANUAL_MODE = 0xAA;// s,cmd, MULTIPLE,TYPE,GROUP ,e\r\nconst _CMD_SCHEDULE_MODE = 0xAB;// s,cmd, MULTIPLE,TYPE,GROUP,HOUR,MIN,KEY ,e\r\n\r\nconst _CMD_DEV_MODE = 0xAC; // s,cmd, MULTIPLE,GROUP, L1~L12, e\r\nconst _CMD_FAN_SPEED = 0xAD; // s,cmd, fan, e\r\n\r\n/*\r\n  Generated class for the BleCommandProvider provider.\r\n\r\n  See https://angular.io/docs/ts/latest/guide/dependency-injection.html\r\n  for more info on providers and Angular DI.\r\n*/\r\n@Injectable()\r\nexport class BleCommandProvider {\r\n  //devicesList:any;//lightDeviceType[]\r\n  constructor(\r\n    private ScheduleProv: ScheduleDataProvider,\r\n    private clProv: CollectionsDataProvider,\r\n    private devicesData: DevicesDataProvider,\r\n    public bleCtrl: BleCtrlProvider) {\r\n    //this.devicesList = this.devicesData.list;\r\n    console.log('Hello BleCommandProvider Provider');\r\n  }\r\n  goSyncSchedule(){\r\n    let sendCmds = [];\r\n    /* 清除所有群組內的排程 -> 寫入排程 -> 將目前光譜設定為當下排程的光譜  */\r\n    let deviceRmScheduleList = [];\r\n    let deviceScheduleList =[];\r\n    let deviceSetCurrent = [];\r\n    \r\n\r\n    /** deviceRmScheduleList END */\r\n\r\n    /*scheduleCheckNow*/\r\n    let nowHour = new Date().getHours();\r\n    let detectNow = {\r\n      \"multiple\":0,\r\n      \"mode\":0,\r\n      \"time_num\":[0,0]\r\n    }\r\n    /** */\r\n    this.ScheduleProcess1().subscribe(\r\n      deNor => {\r\n        /** deviceRmScheduleList START \r\n         *  清除所有群組內的排程\r\n         * */\r\n        this.devicesData.list.subscribe(\r\n          dList => {\r\n            dList.map(\r\n              dd => {\r\n                deviceRmScheduleList.push(\r\n                  new Uint8Array([\r\n                    _START,\r\n                    _CMD_SCHEDULE_MODE,\r\n                    0,\r\n                    0,\r\n                    dd.group,\r\n                    0,\r\n                    0,\r\n                    0xaa,\r\n                    _END])\r\n                );\r\n              }\r\n            );\r\n          }\r\n        );\r\n        console.log('deNormalization:');\r\n        console.log(deNor);\r\n        Object.keys(deNor).map( \r\n          (key,idx) => {\r\n            deNor[key].map(\r\n              (ss,sid) => {\r\n                if(nowHour>=ss.time_num[0]){\r\n                  detectNow.multiple = ss.multiple;\r\n                  detectNow.mode = ss.mode;\r\n                  detectNow.time_num = ss.time_num;\r\n                  console.log('nowHour');\r\n                }\r\n                deviceScheduleList.push(\r\n                  new Uint8Array([\r\n                    _START,\r\n                    _CMD_SCHEDULE_MODE,\r\n                    ss.multiple,\r\n                    ss.mode,\r\n                    key,\r\n                    ss.time_num[0],\r\n                    ss.time_num[1],\r\n                    sid+1,\r\n                    _END])\r\n                );\r\n              }\r\n            );\r\n            //[_START,_CMD_MANUAL_MODE,multi,type,gid,_END\r\n            deviceSetCurrent.push(\r\n              new Uint8Array([\r\n                _START,\r\n                _CMD_MANUAL_MODE,\r\n                detectNow.multiple,\r\n                detectNow.mode,\r\n                parseInt(key),\r\n                _END])\r\n            );\r\n  \r\n          }\r\n        );/*\r\n        console.log('deviceScheduleList');\r\n        console.log(deviceScheduleList);\r\n        console.log('deviceSetCurrent');\r\n        console.log(deviceSetCurrent);*/\r\n        /*\r\n            1 devices To N colletions 複雜啊！\r\n            先刪除重複 -> 排序\r\n        */\r\n        /** deviceScheduleList SORT */\r\n        /*deviceScheduleList.filter(\r\n          (a,b) => {\r\n            return 1;\r\n          }\r\n        );*/\r\n        /** deviceSetCurrent SORT */\r\n\r\n        sendCmds = sendCmds.concat(deviceRmScheduleList)\r\n                            .concat(deviceScheduleList)\r\n                            .concat(deviceSetCurrent);\r\n        console.log('====SEND CMDS====');\r\n        console.log(sendCmds);\r\n        this.ScheduleProv.saveSyncSchedule(sendCmds);\r\n        this.bleCtrl.write_many(sendCmds,sendCmds.length*0.4).subscribe(\r\n          (isOkList)=>{\r\n            if(isOkList.find( val=>val==false )){\r\n              alert('傳送排程過程中發生問題，請重新傳送QQ');\r\n            }else{}\r\n          }\r\n        );\r\n      \r\n      }\r\n    );\r\n  }\r\n  scheduleCheckNow(){\r\n    let time = new Date();\r\n  }\r\n  ScheduleProcessGo(){\r\n    return Observable.create(\r\n      observer =>{\r\n        this.ScheduleProcess1().subscribe(\r\n          deNor => {\r\n           \r\n          }\r\n        );\r\n      }\r\n    );\r\n  }\r\n  collectionsToDeviceGid(checks:Array<boolean>){\r\n    return Observable.create(\r\n      observer => {\r\n        this.clProv.list.take(1).subscribe(\r\n          clList => {\r\n            let allDevices = []\r\n            clList.map(\r\n              (cl,idx) => {\r\n                if(checks[idx]){\r\n                  allDevices = allDevices.concat(cl.devices);\r\n                }\r\n              }\r\n            );\r\n            allDevices = allDevices.filter(\r\n              (ele,idx,self) => {\r\n                return idx == self.indexOf(ele);\r\n              }\r\n            );\r\n            observer.next(allDevices);\r\n            observer.complete();\r\n          }\r\n        );\r\n      }\r\n    );\r\n  }\r\n  ScheduleProcess1(){\r\n    return Observable.create(\r\n      observer => {\r\n        let deNormalization = {};\r\n        \r\n        this.ScheduleProv.list\r\n        .take(1).subscribe(\r\n          ssList=>{\r\n            ssList.map(\r\n              ss=>{\r\n                console.log('ss');\r\n                console.log(ss);\r\n                this.collectionsToDeviceGid(ss.checks).subscribe(\r\n                  allDevices => {\r\n                    allDevices.map(\r\n                      v => {\r\n                        if(deNormalization[v]) deNormalization[v] = deNormalization[v].concat(ss.sectionsList);\r\n                        else {\r\n                          deNormalization[v] = [];\r\n                          deNormalization[v] = deNormalization[v].concat(ss.sectionsList);\r\n                        }\r\n                      }\r\n                    )\r\n                  }\r\n                );\r\n                \r\n              }\r\n            );\r\n          }\r\n        );\r\n        \r\n        observer.next(deNormalization);\r\n        observer.complete();\r\n      }\r\n    );\r\n  }\r\n  goSyncTime(){\r\n    let time = new Date();\r\n    let data = new Uint8Array([_START,_CMD_TIME,time.getHours(),time.getMinutes(),time.getSeconds(),_END]);\r\n    this.bleCtrl.write(data,()=>{},()=>{},true);\r\n  }\r\n  goSetGroupOther(gid,deviceId){\r\n    gid = parseInt(gid);\r\n    let data = new Uint8Array([_START,_CMD_SET_GROUP,gid,_END]);\r\n    this.bleCtrl.connectOnce(deviceId).subscribe(\r\n      isScc=>{\r\n        if(isScc){\r\n          this.bleCtrl.write(data,\r\n            (id)=>{\r\n              this.devicesData.modify(id,null,gid).subscribe();\r\n              alert('修改\"編號\"成功！');\r\n            },\r\n            (id)=>{\r\n              this.devicesData.modify(id,null,gid).subscribe();\r\n              alert('成功連接但傳送時失敗，但仍會在APP顯示方才所更改的\"編號\"值');\r\n            },true,deviceId\r\n          );\r\n        }else{\r\n          this.devicesData.modify(deviceId,null,gid).subscribe();\r\n          alert('修改該裝置\"編號\"失敗(找不到裝置)，但仍會在APP顯示方才所更改的\"編號\"值');\r\n        }\r\n      }\r\n    );\r\n  }\r\n  goSetGroup(gid){\r\n    gid = parseInt(gid);\r\n    let data = new Uint8Array([_START,_CMD_SET_GROUP,gid,_END]);\r\n    this.bleCtrl.write(data,\r\n      (id)=>{\r\n        this.devicesData.modify(id,null,gid).subscribe();\r\n        alert('修改\"編號\"成功！');\r\n      },\r\n      (id)=>{\r\n        this.devicesData.modify(id,null,gid).subscribe();\r\n        alert('成功連接但傳送時失敗，但仍會在APP顯示方才所更改的\"編號\"值');\r\n      },true\r\n    );\r\n\r\n    /*this.bleCtrl.write(data).subscribe(\r\n      (id)=>{\r\n        this.devicesData.modify(id,null,gid);\r\n        alert('修改\"編號\"成功！');\r\n      },\r\n      (id)=>{ //失敗仍然修改 devicesData\"的\"編號\"值\r\n        this.devicesData.modify(id,null,gid);\r\n        alert('修改該裝置\"編號\"失敗，但仍會在APP顯示方才所更改的\"編號\"值');\r\n      }\r\n    );*/\r\n  }\r\n  disableManaul(){\r\n    this.ScheduleProv.getSyncSchedule().subscribe(\r\n      cmds => {\r\n        this.bleCtrl.write_many(cmds).subscribe(\r\n          (isOkList)=>{\r\n            if(isOkList.find( val=>val==false )){\r\n              alert('傳送排程過程中發生問題，請重新傳送QQ');\r\n            }else{}\r\n          }\r\n        );\r\n      }\r\n    );\r\n  }\r\n  goManualMode(multi,type,gid){\r\n    let cmds = \r\n      [\r\n        new Uint8Array([_START,_CMD_SCHEDULE_MODE,0,0,gid,0,0,0xaa,_END]),\r\n        new Uint8Array([_START,_CMD_MANUAL_MODE,multi,type,gid,_END])\r\n      ];\r\n    this.bleCtrl.write_many(cmds).subscribe(\r\n      (isOkList)=>{\r\n        if(isOkList.find( val=>val==false )){\r\n          alert('傳送排程過程中發生問題，請重新傳送QQ');\r\n        }else{}\r\n      }\r\n    );\r\n\r\n  }\r\n  goManual(multi,type,gid){\r\n    let data = new Uint8Array([_START,_CMD_MANUAL_MODE,multi,type,gid,_END]);\r\n    this.bleCtrl.write(data);\r\n  }\r\n  goSchedule(sectionsList:SectionDataType[],gid){\r\n    //let time = new Date();\r\n    //let timeArr = new Uint8Array([_START,_CMD_TIME,time.getHours(),time.getMinutes(),time.getSeconds(),_END]);\r\n    //let data = new Uint8Array([_START,_CMD_SCHEDULE_MODE,0,0,gid,0,0,0xAA,_END]);\r\n    //data = this._appendBuffer(timeArr,data);\r\n    let cmds =[];\r\n    let data = new Uint8Array([]);\r\n    let cursor = 1;\r\n    let lastVal = {\r\n      multiple:0,\r\n      mode:0,\r\n      time_num:[]\r\n    }\r\n    sectionsList.forEach(val => {\r\n      lastVal = val;\r\n      cmds.push(\r\n        new Uint8Array([\r\n          _START,\r\n          _CMD_SCHEDULE_MODE,\r\n          val.multiple,\r\n          val.mode,\r\n          gid,\r\n          val.time_num[0],\r\n          val.time_num[1],\r\n          cursor++,\r\n          _END])\r\n      );\r\n    });\r\n    for(let i=cursor;i<=30;i++){\r\n      cmds.push(\r\n        new Uint8Array([\r\n          _START,\r\n          _CMD_SCHEDULE_MODE,\r\n          lastVal.multiple,\r\n          lastVal.mode,\r\n          gid,\r\n          lastVal.time_num[0],\r\n          lastVal.time_num[1],\r\n          i,\r\n          _END])\r\n      );\r\n    }\r\n\r\n    /*sectionsList.forEach(val => {\r\n      data = this._appendBuffer(data,new Uint8Array([\r\n        _START,\r\n        _CMD_SCHEDULE_MODE,\r\n        val.multiple,\r\n        val.mode,\r\n        gid,\r\n        val.time_num[0],\r\n        val.time_num[1],\r\n        cursor++,\r\n        _END])\r\n      );\r\n    });*/\r\n\r\n    return this.bleCtrl.write_many(cmds);\r\n     \r\n    //this.bleCtrl.write(data);\r\n  }\r\n  private _appendBuffer (buffer1, buffer2) {\r\n    let tmp = new Uint8Array(buffer1.byteLength + buffer2.byteLength);\r\n    tmp.set(new Uint8Array(buffer1), 0);\r\n    tmp.set(new Uint8Array(buffer2), buffer1.byteLength);\r\n    return tmp;\r\n  };\r\n  goDev(multi,gid,arr){\r\n    let data = new Uint8Array([_START,_CMD_DEV_MODE,multi,gid, ...arr ,_END]);\r\n    this.bleCtrl.write(data);;\r\n  }\r\n  goFan(speed){\r\n    let data = new Uint8Array([_START,_CMD_FAN_SPEED,speed ,_END]);\r\n    this.bleCtrl.write(data);;\r\n  }\r\n  goFanMultiple(gids:Array<number>,speed){\r\n    \r\n    let cmds = gids.map(gid=>new Uint8Array([_START,_CMD_FAN_SPEED,speed,gid,_END]));\r\n    this.bleCtrl.write_many(cmds).subscribe(\r\n      (isOkList)=>{\r\n        if(isOkList.find( val=>val==false )){\r\n          alert('傳送排程過程中發生問題，請重新傳送QQ');\r\n        }else{}\r\n      }\r\n    );\r\n  }\r\n\r\n\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/providers/ble-command/ble-command.ts","import { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\n\n\nimport { AppModule } from './app.module';\n\n//import { Storage } from '@ionic/storage';\nimport {enableProdMode} from '@angular/core';\nenableProdMode();\n\n\nplatformBrowserDynamic().bootstrapModule(AppModule);\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/main.ts","import { Injectable } from '@angular/core';\r\n\r\nimport 'rxjs/add/operator/map';\r\nimport 'rxjs/add/operator/take';\r\nimport 'rxjs/add/operator/withLatestFrom';\r\nimport 'rxjs/add/observable/fromPromise';\r\nimport { Observable } from 'rxjs/Observable';\r\nimport { NativeStorage } from '@ionic-native/native-storage';\r\nimport { BehaviorSubject } from 'rxjs/BehaviorSubject';\r\n//import { BleCommandProvider } from '../ble-command/ble-command';\r\n\r\nconst _STORAGE_DEVICES_NAME = \"devicesList\";\r\nexport interface lightDeviceType {\r\n  \"name\":string,\r\n  \"o_name\" :string,\r\n  \"id\": string,\r\n  \"group\":number,\r\n  //\"isGroupSync\":boolean\r\n  \"last_sended\": number,\r\n  \"hadGroupSync\":boolean,\r\n  \"collection\": Array<number>, // 1~6 to A~F\r\n}\r\n@Injectable()\r\nexport class DevicesDataProvider {\r\n  list:Observable<lightDeviceType[]>;\r\n  private _list:BehaviorSubject<lightDeviceType[]>;\r\n\r\n  dataStore:{\r\n    \"device\": lightDeviceType,\r\n    \"deviceList\": Array<lightDeviceType>\r\n  }\r\n  constructor(\r\n    //private bleCmd: BleCommandProvider,\r\n    private storage:NativeStorage) {\r\n      this._list = <BehaviorSubject<lightDeviceType[]>>new BehaviorSubject([]);\r\n      this.list = this._list.asObservable();\r\n      this.dataStore = {\r\n        \"device\": null,\r\n        \"deviceList\": []\r\n      }\r\n      console.log('>>>> DevicesDataProvider');\r\n      this.loadAll();\r\n    \r\n  }\r\n  loadAll(){\r\n    Observable.fromPromise(this.storage.getItem(_STORAGE_DEVICES_NAME)).subscribe(\r\n      (arr) =>{\r\n        if(typeof arr != 'object') JSON.parse(arr);\r\n        this.dataStore.deviceList = arr;\r\n        this._list.next(Object.assign({}, this.dataStore).deviceList);\r\n      },\r\n      (error)=>{\r\n        if(error.code.code==2){\r\n          let temp : Array<lightDeviceType> = [{\r\n            \"name\":\"\",\r\n            \"o_name\" :\"測試裝置1_o\",\r\n            \"id\": \"11:22:33:44:55:66:77\",\r\n            \"group\":1,\r\n            \"last_sended\": 0,\r\n            \"collection\": [],\r\n            \"hadGroupSync\":false,\r\n          },{\r\n            \"name\":\"測試裝置2\",\r\n            \"o_name\" :\"測試裝置2_o\",\r\n            \"id\": \"22:44:66:88:AA:CC:FF\",\r\n            \"group\":2,\r\n            \"last_sended\": 0,\r\n            \"collection\": [],\r\n            \"hadGroupSync\":false,\r\n          },{\r\n            \"name\":\"測試裝置3\",\r\n            \"o_name\" :\"測試裝置3_o\",\r\n            \"id\": \"33:44:66:88:AA:CC:FF\",\r\n            \"group\":3,\r\n            \"last_sended\": 0,\r\n            \"collection\": [],\r\n            \"hadGroupSync\":false,\r\n          },{\r\n            \"name\":\"測試裝置4\",\r\n            \"o_name\" :\"測試裝置4_o\",\r\n            \"id\": \"44:44:66:88:AA:CC:FF\",\r\n            \"group\":4,\r\n            \"last_sended\": 0,\r\n            \"collection\": [],\r\n            \"hadGroupSync\":false,\r\n          }]\r\n          Observable.fromPromise(this.storage.setItem(_STORAGE_DEVICES_NAME,temp)).subscribe();\r\n          this.dataStore.deviceList = temp;\r\n          this._list.next(Object.assign({}, this.dataStore).deviceList);\r\n        }else if(error.code==2){\r\n          let temp = [];\r\n          Observable.fromPromise(this.storage.setItem(_STORAGE_DEVICES_NAME,temp)).subscribe();\r\n          this.dataStore.deviceList = temp;\r\n          this._list.next(Object.assign({}, this.dataStore).deviceList);\r\n        }else{\r\n          alert(\"錯誤\" + JSON.stringify(error));\r\n        }\r\n      }\r\n    );\r\n  }\r\n  get(id:''){\r\n    let tmpOb = Observable.create(\r\n      observer => {\r\n        this.list.subscribe(\r\n          (list)=>{\r\n            let finded = list.find(\r\n              item => (item.id==id)\r\n            );\r\n            if(finded) observer.next(finded);\r\n            else observer.error(false);\r\n            observer.complete();\r\n          }\r\n        );\r\n      }\r\n    );\r\n    return tmpOb;\r\n  }\r\n  check(device,toAdd=true){  //  bleCtrl use\r\n    return Observable.create(\r\n      observer => {\r\n        if(device.name!='Sunlight'){\r\n          observer.error(false);\r\n          observer.complete();\r\n        }else{\r\n          this.list.take(1).subscribe(\r\n            list =>{\r\n              let finded = list.find(\r\n                (val) =>{\r\n                  if(val.id==device.id)\r\n                    return true;\r\n                  else\r\n                    return false;\r\n                }\r\n              );\r\n              if(!finded && toAdd){\r\n                \r\n                let newDevice = {\r\n                  \"name\": device.name,\r\n                  \"o_name\" :device.name,\r\n                  \"id\": device.id,\r\n                  \"group\":this.dataStore.deviceList.length+1,\r\n                  \"hadGroupSync\":false,\r\n                  \"last_sended\": 0,\r\n                  \"collection\": [],\r\n                };\r\n                this.add(newDevice).subscribe(\r\n                  isAdd => {\r\n                    //this.bleCmd.goSetGroup();\r\n                    observer.next({\"device\":newDevice , \"isNew\":true});\r\n                    observer.complete();\r\n                  }\r\n                );\r\n              }else if(!finded && !toAdd){\r\n                let tmpDevice = {\r\n                  \"name\": device.name,\r\n                  \"o_name\" :device.name,\r\n                  \"id\": device.id,\r\n                  \"group\":null,\r\n                  \"hadGroupSync\":false,\r\n                  \"last_sended\": 0,\r\n                  \"collection\": [],\r\n                };\r\n                observer.next({\"device\":tmpDevice , \"isNew\":false});\r\n                observer.complete();\r\n              }else {\r\n                observer.next({\"device\":finded , \"isNew\":false});\r\n                observer.complete();\r\n              }\r\n              \r\n            }\r\n          );                                                                  \r\n        }\r\n        \r\n      }\r\n    );\r\n\r\n  }\r\n  del(deviceId:string){\r\n    return Observable.create(\r\n      observer => {\r\n\r\n        let tmp = this.dataStore.deviceList.filter(\r\n          v => v.id !== deviceId\r\n        );\r\n        let sub = Observable.fromPromise(this.storage.setItem(_STORAGE_DEVICES_NAME,tmp));\r\n        sub.subscribe(\r\n          (obj)=>{\r\n            alert('裝置刪除成功！');\r\n            \r\n            this.dataStore.deviceList=obj;\r\n            this._list.next(Object.assign({}, this.dataStore).deviceList);\r\n            //this.bleCmd.goSetGroup( this.dataStore.deviceList.length );\r\n\r\n            observer.next(true);\r\n            observer.complete();\r\n          },\r\n          err => {\r\n            alert('發生錯誤！');\r\n            observer.next(true);\r\n            observer.complete();\r\n          }\r\n        );\r\n      }\r\n    );\r\n  }\r\n  add( dd:lightDeviceType ){\r\n    return Observable.create(\r\n      observer => {\r\n        this.dataStore.deviceList.push(dd);\r\n        let sub = Observable.fromPromise(this.storage.setItem(_STORAGE_DEVICES_NAME,this.dataStore.deviceList));\r\n        sub.subscribe(\r\n          (obj)=>{\r\n            alert('裝置新增成功！');\r\n            \r\n            this.dataStore.deviceList=obj;\r\n            this._list.next(Object.assign({}, this.dataStore).deviceList);\r\n            //this.bleCmd.goSetGroup( this.dataStore.deviceList.length );\r\n\r\n            observer.next(true);\r\n            observer.complete();\r\n          }\r\n        );\r\n      }\r\n    );\r\n    \r\n    //return sub;\r\n  }\r\n  modify(d_id:string,d_name:string,d_gid:number,hadGroupSync:boolean=false,collection:Array<number>=null){\r\n    console.log('>>> Device \"'+ d_id + '\" modifying!');\r\n    let isNext = false;\r\n    let tmpOb = Observable.create(\r\n      observer => {\r\n        this.dataStore.deviceList.forEach(\r\n          (ele,idx) =>{\r\n            if(ele.id == d_id){\r\n              if(collection){\r\n      \r\n                this.dataStore.deviceList[idx].collection = collection;}\r\n              if(d_name){this.dataStore.deviceList[idx].name = d_name;}\r\n              if(d_gid){\r\n                this.dataStore.deviceList[idx].group = d_gid;\r\n                this.dataStore.deviceList[idx].hadGroupSync = hadGroupSync;\r\n              }      \r\n              if(hadGroupSync)\r\n              {\r\n                this.dataStore.deviceList[idx].hadGroupSync = hadGroupSync;\r\n                this.dataStore.deviceList[idx].last_sended = new Date().getDate();\r\n              };\r\n              console.log('DEBUG');\r\n              console.log(this.dataStore.deviceList[idx]);\r\n              Observable\r\n                .fromPromise(this.storage.setItem(_STORAGE_DEVICES_NAME,this.dataStore.deviceList))\r\n                .subscribe(\r\n                  (obj)=>{\r\n                    this.dataStore.deviceList = obj;\r\n                    this._list.next(Object.assign({}, this.dataStore).deviceList);\r\n                    observer.next(true);\r\n                    observer.complete();\r\n                    console.log('>>> modify成功!!');\r\n                    //console.log(this.dataStore.deviceList);\r\n                  },\r\n                  ()=>{observer.error(false,'NO ITEM!');observer.complete();}\r\n                );\r\n              isNext =true;\r\n            }else{\r\n              if( !isNext && idx == this.dataStore.deviceList.length-1 ){\r\n                console.log(\">>> DevicesDataProvider.modify() NOT FOUND device!\");\r\n                observer.error(false,'NOT FOUND device!');\r\n                observer.complete();\r\n              }\r\n            }\r\n          }\r\n        );\r\n      }\r\n    );\r\n    return tmpOb;\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/providers/devices-data/devices-data.ts","import { NgModule, ErrorHandler } from '@angular/core';\r\nimport { BrowserModule } from '@angular/platform-browser';\r\nimport { IonicApp, IonicModule, IonicErrorHandler } from 'ionic-angular';\r\n\r\nimport { FormsModule } from '@angular/forms';\r\nimport { BLE } from '@ionic-native/ble';\r\n//import { BluetoothSerial } from '@ionic-native/bluetooth-serial';\r\nimport { AndroidPermissions } from '@ionic-native/android-permissions';\r\n\r\nimport { HttpModule } from '@angular/http';\r\n\r\n/* COMPONENT */\r\nimport { MyApp } from './app.component';\r\n//import { // } from '../components/Components.module';\r\n//import { NumberPickerComponent } from '../components/number-picker/number-picker';\r\n//import { LightsChartComponent } from '../components/lights-chart/lights-chart';\r\n\r\n//import { BleOperatorPageModule } from '../pages/ble-operator/ble-operator.module';\r\n/* PAGES */\r\n/*\r\nimport { DevMode,editDevSettingPage } from '../pages/dev-mode/dev-mode';\r\nimport { ModeManualModule } from '../pages/mode-manual/mode-manual.module';\r\nimport { ModeSchedulePageModule } from '../pages/mode-schedule/mode-schedule.module';\r\nimport { ModeDevicesPage,editDevicePage } from '../pages/mode-devices/mode-devices';\r\n*/\r\n//import { TabsPage } from '../pages/tabs/tabs';\r\nimport { TabsPageModule } from '../pages/tabs/tabs.module';\r\nimport { CollectionsModule } from '../providers/collections-data/collections-data.module';\r\n/* IONIC NATIVE */\r\nimport { WheelSelector } from '@ionic-native/wheel-selector';\r\nimport { StatusBar } from '@ionic-native/status-bar';\r\nimport { SplashScreen } from '@ionic-native/splash-screen';\r\nimport { NativeStorage } from '@ionic-native/native-storage';\r\n\r\n/* PROVIDERS */\r\n//import { LightsInfoProvider,lightsTypesPipe } from '../providers/lights-info/lights-info';\r\nimport { LightsGoupsProvider } from '../providers/lights-goups/lights-goups';\r\n\r\nimport { PatternsDataProvider } from '../providers/patterns-data/patterns-data';\r\n//import { StorageMetaProvider } from '../providers/storage-meta/storage-meta';\r\nimport { SectionsDataProvider } from '../providers/sections-data/sections-data';\r\nimport { ToastCtrlProvider } from '../providers/toast-ctrl/toast-ctrl';\r\nimport { BleCtrlProvider } from '../providers/ble-ctrl/ble-ctrl';\r\nimport { BleCommandProvider } from '../providers/ble-command/ble-command';\r\nimport { DevicesDataProvider } from '../providers/devices-data/devices-data';\r\nimport { ScheduleDataProvider } from '../providers/schedule-data/schedule-data';\r\n\r\n@NgModule({\r\n  declarations: [\r\n    //NumberPickerComponent,\r\n    //LightsChartComponent,\r\n    /*editDevicePage,\r\n    ModeDevicesPage,\r\n    DevMode,editDevSettingPage,\r\n    TabsPage,*/\r\n    MyApp,\r\n    \r\n    \r\n\r\n  ],\r\n  exports:[\r\n  //NumberPickerComponent,\r\n   //LightsChartComponent\r\n  ],\r\n  imports: [\r\n    //ComponentsModule,\r\n    HttpModule,\r\n    TabsPageModule,\r\n    /*ModeSchedulePageModule,\r\n    ModeManualModule,*/\r\n    FormsModule,\r\n    BrowserModule,\r\n    IonicModule.forRoot(MyApp, {}, \n{\n  links: [\n    { loadChildren: '../pages/ble-operator/ble-operator.module#BleOperatorPageModule', name: 'BleOperatorPage', segment: 'ble-operator', priority: 'low', defaultHistory: [] },\n    { loadChildren: '../pages/mode-manual/mode-manual.module#ModeManualModule', name: 'ModeManual', segment: 'mode-manual', priority: 'low', defaultHistory: [] },\n    { loadChildren: '../pages/mode-devices/mode-devices.module#ModeDevicesPageModule', name: 'ModeDevicesPage', segment: 'mode-devices', priority: 'low', defaultHistory: [] },\n    { loadChildren: '../pages/mode-schedule/mode-schedule.module#ModeSchedulePageModule', name: 'ModeSchedulePage', segment: 'mode-schedule', priority: 'low', defaultHistory: [] },\n    { loadChildren: '../pages/collections/collections.module#CollectionsPageModule', name: 'CollectionsPage', segment: 'collections', priority: 'low', defaultHistory: [] },\n    { loadChildren: '../pages/start/start.module#StartPageModule', name: 'StartPage', segment: 'start', priority: 'low', defaultHistory: [] }\n  ]\n}),\r\n    CollectionsModule\r\n    \r\n\r\n    //BleOperatorPageModule\r\n\r\n  ],\r\n  bootstrap: [IonicApp],\r\n  entryComponents: [\r\n    /*TabsPage,\r\n    editDevicePage,\r\n    ModeDevicesPage,\r\n    DevMode,editDevSettingPage,*/\r\n    MyApp,\r\n    \r\n  ],\r\n  providers: [\r\n    AndroidPermissions,\r\n    BLE,\r\n    NativeStorage,\r\n    WheelSelector,\r\n    StatusBar,\r\n    SplashScreen,\r\n    {provide: ErrorHandler, useClass: IonicErrorHandler},\r\n    LightsGoupsProvider,\r\n    PatternsDataProvider,\r\n\r\n    SectionsDataProvider,\r\n    ToastCtrlProvider,\r\n    BleCtrlProvider,\r\n    BleCommandProvider,\r\n    DevicesDataProvider,\r\n    ScheduleDataProvider\r\n    \r\n  ]\r\n})\r\nexport class AppModule {}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/app.module.ts","import { PipeTransform ,Pipe,Injectable } from '@angular/core';\r\n//import { Http } from '@angular/http';\r\n// public http: Http\r\nimport 'rxjs/add/operator/map';\r\n\r\n/*\r\n  Generated class for the LightsInfoProvider provider.\r\n\r\n  See https://angular.io/docs/ts/latest/guide/dependency-injection.html\r\n  for more info on providers and Angular DI.\r\n*/\r\nconst li_types : Array<lightsType> =[{\r\n  \"value\": 1,\r\n  \"name\": \"太陽光5m\",\r\n  \"slug\": \"5m\",\r\n  \"color\": \"rgb(54, 235, 186)\",\r\n},{\r\n  \"value\": 2,\r\n  \"name\": \"太陽光10m\",\r\n  \"slug\": \"10m\",\r\n  \"color\": \"rgb(9, 230, 232)\",\r\n},{\r\n  \"value\": 3,\r\n  \"name\": \"太陽光15m\",\r\n  \"slug\": \"15m\",\r\n  \"color\": \"rgb(9, 148, 232)\",\r\n},{\r\n  \"value\": 4,\r\n  \"name\": \"太陽光20m\",\r\n  \"slug\": \"20m\",\r\n  \"color\": \"rgb(54, 92, 235)\",\r\n},{\r\n  \"value\": 5,\r\n  \"name\": \"高演色性太陽光\",\r\n  \"slug\": \"cri\",\r\n  \"color\": \"rgb(86, 9, 232)\",\r\n},{\r\n  \"value\": 6,\r\n  \"name\": \"藍光\",\r\n  \"slug\": \"blue\",\r\n  \"color\": \"rgb(9, 25, 232)\",\r\n}]\r\nexport interface lightsType {\r\n  \"value\": number,\r\n  \"name\": string,\r\n  \"slug\": string,\r\n  \"color\": string,\r\n}\r\n\r\n@Injectable()\r\nexport class LightsInfoProvider {\r\n\r\n  constructor() {\r\n    //console.log('Hello LightsInfoProvider Provider');\r\n  }\r\n  getTypes(index = 'all'){\r\n    switch(index){\r\n      default:{\r\n        return li_types.map(obj => obj[index] );\r\n      }\r\n      case 'all':{\r\n        return li_types;\r\n      }\r\n    }\r\n  }\r\n\r\n}\r\n  \r\n@Pipe({\r\n  name: 'light',\r\n  pure: false\r\n})\r\nexport class lightsTypesPipe implements PipeTransform {\r\n  constructor(){\r\n  }\r\n  transform(value, args) {\r\n    let arr = li_types.map( data => data[args]);\r\n    return arr[value-1];\r\n  }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/providers/lights-info/lights-info.ts","import { NgModule } from '@angular/core';\r\nimport { IonicPageModule } from 'ionic-angular';\r\nimport { editDeviceSyncPage,SyncPage } from './sync';\r\n\r\n@NgModule({\r\n  declarations: [\r\n    SyncPage,\r\n    editDeviceSyncPage\r\n  ],\r\n  imports: [\r\n    IonicPageModule.forChild(SyncPage),\r\n  ],\r\n  entryComponents: [\r\n    editDeviceSyncPage\r\n\r\n  ],\r\n})\r\nexport class SyncPageModule {}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/sync/sync.module.ts","var map = {\n\t\"./af\": 188,\n\t\"./af.js\": 188,\n\t\"./ar\": 189,\n\t\"./ar-dz\": 190,\n\t\"./ar-dz.js\": 190,\n\t\"./ar-kw\": 191,\n\t\"./ar-kw.js\": 191,\n\t\"./ar-ly\": 192,\n\t\"./ar-ly.js\": 192,\n\t\"./ar-ma\": 193,\n\t\"./ar-ma.js\": 193,\n\t\"./ar-sa\": 194,\n\t\"./ar-sa.js\": 194,\n\t\"./ar-tn\": 195,\n\t\"./ar-tn.js\": 195,\n\t\"./ar.js\": 189,\n\t\"./az\": 196,\n\t\"./az.js\": 196,\n\t\"./be\": 197,\n\t\"./be.js\": 197,\n\t\"./bg\": 198,\n\t\"./bg.js\": 198,\n\t\"./bn\": 199,\n\t\"./bn.js\": 199,\n\t\"./bo\": 200,\n\t\"./bo.js\": 200,\n\t\"./br\": 201,\n\t\"./br.js\": 201,\n\t\"./bs\": 202,\n\t\"./bs.js\": 202,\n\t\"./ca\": 203,\n\t\"./ca.js\": 203,\n\t\"./cs\": 204,\n\t\"./cs.js\": 204,\n\t\"./cv\": 205,\n\t\"./cv.js\": 205,\n\t\"./cy\": 206,\n\t\"./cy.js\": 206,\n\t\"./da\": 207,\n\t\"./da.js\": 207,\n\t\"./de\": 208,\n\t\"./de-at\": 209,\n\t\"./de-at.js\": 209,\n\t\"./de-ch\": 210,\n\t\"./de-ch.js\": 210,\n\t\"./de.js\": 208,\n\t\"./dv\": 211,\n\t\"./dv.js\": 211,\n\t\"./el\": 212,\n\t\"./el.js\": 212,\n\t\"./en-au\": 213,\n\t\"./en-au.js\": 213,\n\t\"./en-ca\": 214,\n\t\"./en-ca.js\": 214,\n\t\"./en-gb\": 215,\n\t\"./en-gb.js\": 215,\n\t\"./en-ie\": 216,\n\t\"./en-ie.js\": 216,\n\t\"./en-nz\": 217,\n\t\"./en-nz.js\": 217,\n\t\"./eo\": 218,\n\t\"./eo.js\": 218,\n\t\"./es\": 219,\n\t\"./es-do\": 220,\n\t\"./es-do.js\": 220,\n\t\"./es.js\": 219,\n\t\"./et\": 221,\n\t\"./et.js\": 221,\n\t\"./eu\": 222,\n\t\"./eu.js\": 222,\n\t\"./fa\": 223,\n\t\"./fa.js\": 223,\n\t\"./fi\": 224,\n\t\"./fi.js\": 224,\n\t\"./fo\": 225,\n\t\"./fo.js\": 225,\n\t\"./fr\": 226,\n\t\"./fr-ca\": 227,\n\t\"./fr-ca.js\": 227,\n\t\"./fr-ch\": 228,\n\t\"./fr-ch.js\": 228,\n\t\"./fr.js\": 226,\n\t\"./fy\": 229,\n\t\"./fy.js\": 229,\n\t\"./gd\": 230,\n\t\"./gd.js\": 230,\n\t\"./gl\": 231,\n\t\"./gl.js\": 231,\n\t\"./gom-latn\": 232,\n\t\"./gom-latn.js\": 232,\n\t\"./he\": 233,\n\t\"./he.js\": 233,\n\t\"./hi\": 234,\n\t\"./hi.js\": 234,\n\t\"./hr\": 235,\n\t\"./hr.js\": 235,\n\t\"./hu\": 236,\n\t\"./hu.js\": 236,\n\t\"./hy-am\": 237,\n\t\"./hy-am.js\": 237,\n\t\"./id\": 238,\n\t\"./id.js\": 238,\n\t\"./is\": 239,\n\t\"./is.js\": 239,\n\t\"./it\": 240,\n\t\"./it.js\": 240,\n\t\"./ja\": 241,\n\t\"./ja.js\": 241,\n\t\"./jv\": 242,\n\t\"./jv.js\": 242,\n\t\"./ka\": 243,\n\t\"./ka.js\": 243,\n\t\"./kk\": 244,\n\t\"./kk.js\": 244,\n\t\"./km\": 245,\n\t\"./km.js\": 245,\n\t\"./kn\": 246,\n\t\"./kn.js\": 246,\n\t\"./ko\": 247,\n\t\"./ko.js\": 247,\n\t\"./ky\": 248,\n\t\"./ky.js\": 248,\n\t\"./lb\": 249,\n\t\"./lb.js\": 249,\n\t\"./lo\": 250,\n\t\"./lo.js\": 250,\n\t\"./lt\": 251,\n\t\"./lt.js\": 251,\n\t\"./lv\": 252,\n\t\"./lv.js\": 252,\n\t\"./me\": 253,\n\t\"./me.js\": 253,\n\t\"./mi\": 254,\n\t\"./mi.js\": 254,\n\t\"./mk\": 255,\n\t\"./mk.js\": 255,\n\t\"./ml\": 256,\n\t\"./ml.js\": 256,\n\t\"./mr\": 257,\n\t\"./mr.js\": 257,\n\t\"./ms\": 258,\n\t\"./ms-my\": 259,\n\t\"./ms-my.js\": 259,\n\t\"./ms.js\": 258,\n\t\"./my\": 260,\n\t\"./my.js\": 260,\n\t\"./nb\": 261,\n\t\"./nb.js\": 261,\n\t\"./ne\": 262,\n\t\"./ne.js\": 262,\n\t\"./nl\": 263,\n\t\"./nl-be\": 264,\n\t\"./nl-be.js\": 264,\n\t\"./nl.js\": 263,\n\t\"./nn\": 265,\n\t\"./nn.js\": 265,\n\t\"./pa-in\": 266,\n\t\"./pa-in.js\": 266,\n\t\"./pl\": 267,\n\t\"./pl.js\": 267,\n\t\"./pt\": 268,\n\t\"./pt-br\": 269,\n\t\"./pt-br.js\": 269,\n\t\"./pt.js\": 268,\n\t\"./ro\": 270,\n\t\"./ro.js\": 270,\n\t\"./ru\": 271,\n\t\"./ru.js\": 271,\n\t\"./sd\": 272,\n\t\"./sd.js\": 272,\n\t\"./se\": 273,\n\t\"./se.js\": 273,\n\t\"./si\": 274,\n\t\"./si.js\": 274,\n\t\"./sk\": 275,\n\t\"./sk.js\": 275,\n\t\"./sl\": 276,\n\t\"./sl.js\": 276,\n\t\"./sq\": 277,\n\t\"./sq.js\": 277,\n\t\"./sr\": 278,\n\t\"./sr-cyrl\": 279,\n\t\"./sr-cyrl.js\": 279,\n\t\"./sr.js\": 278,\n\t\"./ss\": 280,\n\t\"./ss.js\": 280,\n\t\"./sv\": 281,\n\t\"./sv.js\": 281,\n\t\"./sw\": 282,\n\t\"./sw.js\": 282,\n\t\"./ta\": 283,\n\t\"./ta.js\": 283,\n\t\"./te\": 284,\n\t\"./te.js\": 284,\n\t\"./tet\": 285,\n\t\"./tet.js\": 285,\n\t\"./th\": 286,\n\t\"./th.js\": 286,\n\t\"./tl-ph\": 287,\n\t\"./tl-ph.js\": 287,\n\t\"./tlh\": 288,\n\t\"./tlh.js\": 288,\n\t\"./tr\": 289,\n\t\"./tr.js\": 289,\n\t\"./tzl\": 290,\n\t\"./tzl.js\": 290,\n\t\"./tzm\": 291,\n\t\"./tzm-latn\": 292,\n\t\"./tzm-latn.js\": 292,\n\t\"./tzm.js\": 291,\n\t\"./uk\": 293,\n\t\"./uk.js\": 293,\n\t\"./ur\": 294,\n\t\"./ur.js\": 294,\n\t\"./uz\": 295,\n\t\"./uz-latn\": 296,\n\t\"./uz-latn.js\": 296,\n\t\"./uz.js\": 295,\n\t\"./vi\": 297,\n\t\"./vi.js\": 297,\n\t\"./x-pseudo\": 298,\n\t\"./x-pseudo.js\": 298,\n\t\"./yo\": 299,\n\t\"./yo.js\": 299,\n\t\"./zh-cn\": 300,\n\t\"./zh-cn.js\": 300,\n\t\"./zh-hk\": 301,\n\t\"./zh-hk.js\": 301,\n\t\"./zh-tw\": 302,\n\t\"./zh-tw.js\": 302\n};\nfunction webpackContext(req) {\n\treturn __webpack_require__(webpackContextResolve(req));\n};\nfunction webpackContextResolve(req) {\n\tvar id = map[req];\n\tif(!(id + 1)) // check for number or string\n\t\tthrow new Error(\"Cannot find module '\" + req + \"'.\");\n\treturn id;\n};\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 435;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/moment/locale ^\\.\\/.*$\n// module id = 435\n// module chunks = 0","import { NgModule } from '@angular/core';\r\nimport { IonicPageModule } from 'ionic-angular';\r\nimport { LightsInfoModule } from '../../providers/lights-info/lights-info.module';\r\nimport * as subMain from './nav-main'\r\n\r\n@NgModule({\r\n  declarations: [\r\n    subMain.pr1patternsNav,\r\n    subMain.pr2ModesNav,\r\n    subMain.modalSectionEdit\r\n  ],\r\n  imports: [\r\n    LightsInfoModule.forRoot(),\r\n    IonicPageModule.forChild(subMain.pr1patternsNav),\r\n    IonicPageModule.forChild(subMain.pr2ModesNav),\r\n  ],\r\n  entryComponents:[\r\n    subMain.pr1patternsNav,\r\n    subMain.pr2ModesNav,\r\n    subMain.modalSectionEdit\r\n\r\n  ],\r\n})\r\nexport class NavMainModule {}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/mode-schedule/nav-main.module.ts","import { OnInit, Component, ViewChild } from '@angular/core';\nimport { Chart } from 'chart.js';\n\n/**\n * Generated class for the LightsChartComponent component.\n *\n * See https://angular.io/docs/ts/latest/api/core/index/ComponentMetadata-class.html\n * for more info on Angular Components.\n */\n@Component({\n  selector: 'lights-chart',\n  templateUrl: 'lights-chart.html'\n})\nexport class LightsChartComponent implements OnInit{\n  @ViewChild('barCanvas') barCanvas;\n  //@Input() colorArr : Array<number>;\n  //@Input() scheduleData : Array<number>;\n\n  barChart: any;\n\n  constructor() {\n    console.log('LightsChartComponent');\n\n  }\n  ngOnInit() {\n    console.log('this.barCanvas');\n    this.generateChart();\n    console.log(this.barCanvas);\n    \n  }\n  generateChart() {\n    let ctx = document.getElementById(\"myChart\");\n    this.barChart = new Chart(ctx, {\n      type: 'bar',\n      data: {\n        labels: [\"Red\", \"Blue\", \"Yellow\", \"Green\", \"Purple\", \"Orange\"],\n        datasets: [{\n          label: '# of Votes',\n          data: [12, 19, 3, 5, 2, 3],\n          backgroundColor: [\n            'rgba(255, 99, 132, 0.2)',\n            'rgba(54, 162, 235, 0.2)',\n            'rgba(255, 206, 86, 0.2)',\n            'rgba(75, 192, 192, 0.2)',\n            'rgba(153, 102, 255, 0.2)',\n            'rgba(255, 159, 64, 0.2)'\n          ],\n          borderColor: [\n            'rgba(255,99,132,1)',\n            'rgba(54, 162, 235, 1)',\n            'rgba(255, 206, 86, 1)',\n            'rgba(75, 192, 192, 1)',\n            'rgba(153, 102, 255, 1)',\n            'rgba(255, 159, 64, 1)'\n          ],\n          borderWidth: 1\n        }]\n      },\n      options: {\n        scales: {\n          yAxes: [{\n            ticks: {\n              beginAtZero: true\n            }\n          }]\n        }\n      }\n\n    });\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/lights-chart/lights-chart.ts","import { Component } from '@angular/core';\r\nimport { LoadingController,Platform } from 'ionic-angular';\r\nimport { StatusBar } from '@ionic-native/status-bar';\r\nimport { SplashScreen } from '@ionic-native/splash-screen';\r\n\r\nimport { TabsPage } from '../pages/tabs/tabs';\r\nimport { StartPage } from '../pages/start/start';\r\n\r\n@Component({\r\n  templateUrl: 'app.html'\r\n})\r\nexport class MyApp {\r\n  //rootPage:any = TabsPage;\r\n  rootPage:any = StartPage;\r\n  loading: any;\r\n  constructor(\r\n    private loadingCtrl: LoadingController,\r\n    platform: Platform, statusBar: StatusBar, splashScreen: SplashScreen) {\r\n\r\n    platform.ready().then(() => {\r\n      console.log('>>>>>>> MyApp platform.ready() <<<<<<<');\r\n      // Okay, so the platform is ready and our plugins are available.\r\n      // Here you can do any higher level native things you might need.\r\n      statusBar.styleDefault();\r\n      splashScreen.hide();\r\n\r\n    });\r\n  }\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/app.component.ts","import { NgModule } from '@angular/core';\r\nimport { IonicPageModule } from 'ionic-angular';\r\nimport { TabsPage } from './tabs';\r\n\r\nimport { DevModeModule } from '../dev-mode/dev-mode.module';\r\nimport { ModeSchedulePageModule } from '../mode-schedule/mode-schedule.module';\r\nimport { ModeManualModule } from '../mode-manual/mode-manual.module';\r\nimport { ModeDevicesPageModule } from '../mode-devices/mode-devices.module';\r\nimport { StartPageModule } from '../start/start.module';\r\nimport { CollectionsPageModule } from '../collections/collections.module';\r\n\r\n@NgModule({\r\n  declarations: [\r\n    TabsPage,\r\n  ],\r\n  imports: [\r\n    StartPageModule,\r\n    DevModeModule,\r\n    ModeSchedulePageModule,\r\n    ModeManualModule,\r\n    ModeDevicesPageModule,\r\n    CollectionsPageModule,\r\n    \r\n    IonicPageModule.forChild(TabsPage),\r\n  ],\r\n})\r\nexport class TabsPageModule {}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/tabs/tabs.module.ts","import { NgModule } from '@angular/core';\r\nimport { IonicPageModule } from 'ionic-angular';\r\nimport { DevMode,editDevSettingPage } from './dev-mode';\r\nimport { NumberPickerComponent } from '../../components/number-picker/number-picker';\r\n\r\n@NgModule({\r\n  declarations: [\r\n    DevMode,\r\n    NumberPickerComponent,\r\n    editDevSettingPage,\r\n  ],\r\n  imports: [\r\n    IonicPageModule.forChild(DevMode),\r\n  ],\r\n  exports:[\r\n    NumberPickerComponent,    \r\n  ],\r\n  bootstrap:[ DevMode, ],\r\n  entryComponents: [\r\n    editDevSettingPage,\r\n  ]\r\n})\r\nexport class DevModeModule {}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/dev-mode/dev-mode.module.ts","import { Component, EventEmitter, Input, OnInit, Output, forwardRef ,OnChanges } from '@angular/core';\r\nimport { FormControl,NG_VALUE_ACCESSOR, ControlValueAccessor } from '@angular/forms';\r\nimport { WheelSelector } from '@ionic-native/wheel-selector';\r\nconst noop = ()=>{};\r\nexport const USER_PROFILE_VALUE_ACCESSOR: any = {\r\n  provide: NG_VALUE_ACCESSOR,\r\n  useExisting: forwardRef(() => NumberPickerComponent),\r\n  multi: true\r\n};\r\n@Component({\r\n  selector: 'number-picker',\r\n  templateUrl: 'number-picker.html',\r\n  //styleUrls: ['number-picker.scss']\r\n  providers: [{\r\n    provide: NG_VALUE_ACCESSOR,\r\n    useExisting: forwardRef(() => NumberPickerComponent),\r\n    multi: true,\r\n  }   ]\r\n})\r\nexport class NumberPickerComponent implements ControlValueAccessor, OnChanges,OnInit {\r\n  //innerValue : number;\r\n  @Input() description: string;\r\n  @Input() width: string;\r\n  @Input() min: number;\r\n  @Input() max: number;\r\n  @Input() step: number;\r\n  @Input() precision: number;\r\n  @Input() inputDisabled: boolean;\r\n  @Input() customClick: Function;\r\n  @Output() onChange: EventEmitter < number > = new EventEmitter();\r\n\r\n  private numberPicker: FormControl;\r\n  lightDataForWheel : Array<object> = Array.from( new Array(101),((val,index) => ({'description':index})));\r\n  constructor(\r\n    private numSelector: WheelSelector\r\n  ) {}\r\n    //The internal data model\r\n  //private innerValue: any = '';\r\n\r\n  //Placeholders for the callbacks which are later providesd\r\n  //by the Control Value Accessor\r\n  private onTouchedCallback: () => void = noop;\r\n  private onChangeCallback: (_: any) => void = ()=>{};\r\n\r\n  //get accessor\r\n  get value(): any {\r\n    return this.numberPicker.value;\r\n  };\r\n\r\n  //set accessor including call the onchange callback\r\n  set value(v: any) {\r\n    if (v !== this.numberPicker.value) {\r\n      this.numberPicker.setValue(v);\r\n      this.onChangeCallback(v);\r\n      this.onChange.emit(this.numberPicker.value);\r\n    }\r\n  }\r\n  ngOnChanges(changes) {\r\n    if (changes.counterRangeMin || changes.counterRangeMax) {\r\n      this.onChange.emit(this.numberPicker.value);\r\n      console.log('ngOnChanges');\r\n    }\r\n  }\r\n  numWheel(){\r\n    console.log('WheelSelector!');\r\n    this.numSelector.show({\r\n      title: \"選擇亮度階數 0 ~ 100\",\r\n      items: [\r\n        this.lightDataForWheel\r\n      ],\r\n    }).then(\r\n      result => {\r\n        this.value = parseInt(result[0].description);\r\n        console.log('customClick() >>' + result[0].description + ' at index: ' + result[0].index);\r\n      },\r\n      err => console.log('Error: ', err)\r\n    );\r\n  }\r\n  ngOnInit() {\r\n    if (this.customClick == null) {\r\n      this.customClick = function () {\r\n        return console.log('GG!')\r\n      };\r\n    }\r\n    if (this.description == null) {\r\n      this.description = 'QTY';\r\n    }\r\n    if (this.width == null) {\r\n      this.width = '2rem';\r\n    }\r\n    if (this.inputDisabled == null) {\r\n      this.inputDisabled = false;\r\n    }\r\n    if (this.min == null) {\r\n      this.min = 0;\r\n    }\r\n    if (this.max == null) {\r\n      this.max = 100;\r\n    }\r\n    if (this.precision == null) {\r\n      this.precision = 1;\r\n    }\r\n    if (this.step == null) {\r\n      this.step = 1;\r\n    }\r\n\r\n    this.numberPicker = new FormControl({\r\n      value: this.min,\r\n      disabled: this.inputDisabled\r\n    });\r\n  }\r\n  inputOnChange():void{\r\n    this.onChange.emit(this.numberPicker.value);\r\n  }\r\n  increaseValue(): void {\r\n    var currentValue = this.numberPicker.value;\r\n    if (currentValue < this.max) {\r\n      currentValue = currentValue + this.step;\r\n      if (this.precision != null) {\r\n        currentValue = this.round(currentValue, this.precision);\r\n      }\r\n      this.value = currentValue;\r\n      //this.numberPicker.setValue(currentValue);\r\n      //this.onChangeCallback(v);\r\n    }\r\n  }\r\n\r\n  decreaseValue(): void {\r\n    var currentValue = this.numberPicker.value;\r\n    if (currentValue > this.min) {\r\n      currentValue = currentValue - this.step;\r\n      if (this.precision != null) {\r\n        currentValue = this.round(currentValue, this.precision);\r\n      }\r\n      //this.numberPicker.setValue(currentValue);\r\n      this.value= currentValue;\r\n    }\r\n  }\r\n\r\n  private round(value: number, precision: number): number {\r\n    let multiplier: number = Math.pow(10, precision || 0);\r\n    return Math.round(value * multiplier) / multiplier;\r\n  }\r\n\r\n  public getValue(): number {\r\n    return this.numberPicker.value;\r\n  }\r\n\r\n  //Set touched on blur\r\n  onBlur() {\r\n    this.onTouchedCallback();\r\n  }\r\n\r\n  //From ControlValueAccessor interface\r\n  public writeValue(value: any) {\r\n    if (value !== this.numberPicker.value) {\r\n      this.numberPicker.setValue(value);\r\n    }\r\n  }\r\n\r\n  //From ControlValueAccessor interface\r\n  public registerOnChange(fn: any) {\r\n    this.onChangeCallback = fn;\r\n\r\n  }\r\n\r\n  //From ControlValueAccessor interface\r\n  public registerOnTouched(fn: any) {\r\n    this.onTouchedCallback = fn;\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/number-picker/number-picker.ts","import { Injectable } from '@angular/core';\r\n\r\nimport 'rxjs/add/operator/map';\r\nimport 'rxjs/add/operator/withLatestFrom';\r\nimport 'rxjs/add/observable/fromPromise';\r\nimport { Observable } from 'rxjs/Observable';\r\nimport { NativeStorage } from '@ionic-native/native-storage';\r\nconst __REF_BASE_SECTIONS = 'sectionsArr-'; // 'patternsArr-_GID_-_PID_'\r\n/*\r\n  Generated class for the SectionsDataProvider provider.\r\n\r\n  See https://angular.io/docs/ts/latest/guide/dependency-injection.html\r\n  for more info on providers and Angular DI.\r\n*/\r\nexport interface sectioDataType {\r\n  \"mode\":number,\r\n  \"time\":string,\r\n  \"time_num\":Array<number>,  // [ HOUR , MIN ]\r\n  \"multiple\":number,\r\n}\r\n@Injectable()\r\nexport class SectionsDataProvider {\r\n\r\n  constructor(\r\n    private storage:NativeStorage,\r\n    ) {\r\n    console.log('Hello SectionsDataProvider Provider');\r\n  }\r\n  createNew(){\r\n    let sub = Observable.fromPromise(this.storage.setItem(__REF_BASE_SECTIONS,{}));\r\n    return sub;\r\n  }\r\n  add(sid){\r\n    let sub = Observable.fromPromise(this.storage.setItem(__REF_BASE_SECTIONS+sid,{}));\r\n    return sub;\r\n  }\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/providers/sections-data/sections-data.ts","import { OnInit,NgZone, ViewChild, Component } from '@angular/core';\r\nimport { Toggle, AlertController, Content, Refresher,NavController, Platform, IonicPage, NavParams,ViewController } from 'ionic-angular';\r\n//import { BLE } from '@ionic-native/ble';\r\nimport 'rxjs/add/operator/map';\r\nimport 'rxjs/add/operator/take';\r\nimport 'rxjs/add/operator/withLatestFrom';\r\nimport 'rxjs/add/observable/fromPromise';\r\nimport { Observable } from 'rxjs/Observable';\r\nimport { DevicesDataProvider,lightDeviceType } from '../../providers/devices-data/devices-data';\r\nimport { nowStatus,BleCtrlProvider } from '../../providers/ble-ctrl/ble-ctrl';\r\nimport { BleCommandProvider } from '../../providers/ble-command/ble-command';\r\n/**\r\n * Generated class for the BleOperatorPage page.\r\n *\r\n * See http://ionicframework.com/docs/components/#navigation for more info\r\n * on Ionic pages and navigation.\r\n */\r\n\r\n@IonicPage()\r\n@Component({\r\n  selector: 'page-ble-operator',\r\n  templateUrl: 'ble-operator.html',\r\n})\r\nexport class BleOperatorPage implements OnInit{\r\n  @ViewChild('toggleble') ionToggle: Toggle;\r\n  blueInfo :{\r\n    \"details\":Observable<nowStatus>,\r\n    \"nowDevice\":{\r\n      \"hadConnected\":boolean,\r\n      \"id\":string,\r\n      \"name\":string,\r\n      \"o_name\":string,\r\n      \"group\":number\r\n    },\r\n    \"devices\":{\r\n      \"list\": Array<object>\r\n    }\r\n    //\"details\":nowStatus\r\n  };\r\n  bleToggle :{\r\n    \"checked\" :boolean\r\n  }\r\n  devices_list:Observable<lightDeviceType[]>;\r\n  constructor(\r\n    public platform: Platform,\r\n    private ngZone: NgZone,\r\n    private bleCmd: BleCommandProvider,\r\n    private alertCtrl:AlertController,\r\n    private devicesProv:DevicesDataProvider,\r\n    private bleCtrl:BleCtrlProvider,\r\n    public viewCtrl: ViewController,\r\n    public navCtrl: NavController, \r\n    public navParams: NavParams,) {\r\n      console.log('>>>>>>>>>>>>>>>>>>>>>>BleOperatorPage');\r\n      this.blueInfo= {\r\n        \"details\":this.bleCtrl.nowStatus,\r\n        \"nowDevice\":{\r\n          \"hadConnected\":false,\r\n          \"id\":null,\r\n          \"name\":null,\r\n          \"o_name\":null,\r\n          \"group\":null\r\n        },\r\n        \"devices\":this.bleCtrl.scanedDevices\r\n      };/*\r\n      this.bleCtrl.nowStatus.subscribe(\r\n        data => {\r\n          this.blueInfo= {\r\n            \"details\":this.bleCtrl.dataStore\r\n          };\r\n        }\r\n      );*/\r\n      this.devices_list = this.devicesProv.list;\r\n      this.bleToggle = {\r\n        \"checked\": false\r\n      };\r\n      this.platform.ready().then(ready=>{\r\n        //this.blueInfo = this.bleCtrl.dataStore;\r\n        this.blueInfo.details.take(1).subscribe(\r\n          obj => {\r\n            if(obj[\"isEnabled\"]){\r\n              this.doRefresh();\r\n              /* HACK refresher EVENT */\r\n              /*this.refresher._top = this.content.contentTop + 'px';\r\n              this.refresher.state = 'ready';\r\n              this.refresher._onEnd();*/\r\n            }else{\r\n              alert('請開啟藍芽才能正常運作唷～');\r\n            }\r\n          }\r\n        );\r\n\r\n      });\r\n  }\r\n  ionViewDidEnter(){\r\n    console.log('>>>>>>>>>>>>>>>>>>>>>>BleOperatorPage ionViewDidEnter');\r\n    this.blueInfo.details.take(1).subscribe(\r\n      obj=>{\r\n        this.blueInfo.nowDevice.hadConnected = obj.hadConnected;\r\n        this.blueInfo.nowDevice.id = obj.device.id;\r\n        this.blueInfo.nowDevice.name = obj.device.name;\r\n        this.blueInfo.nowDevice.o_name = obj.device.o_name;\r\n        this.blueInfo.nowDevice.group = obj.device.group;\r\n        this.bleToggle.checked =obj.isEnabled;\r\n        if(this.bleToggle.checked) this.ionToggle.checked = true;\r\n        else this.ionToggle.checked = false;\r\n      }\r\n    );\r\n  }\r\n  ngOnInit(){\r\n  }\r\n  // TODO\r\n  doRefresh() {\r\n    this.scan();\r\n    /*\r\n    setTimeout(() => {\r\n      console.log('Async operation has ended');\r\n      refresher.complete();\r\n    }, 2000);*/\r\n  }\r\n  connectDevice(deviceId){\r\n    this.bleCtrl.connectDevice(deviceId,(p)=>{\r\n      this.navCtrl.pop();\r\n    });\r\n    \r\n    //\r\n  }\r\n  scan(){\r\n    //console.log(JSON.stringify(this.blueInfo));\r\n    //console.log(JSON.stringify(this.devices.list));\r\n    this.bleCtrl.scan();\r\n  }\r\n  //\r\n  setBleInfo(s:boolean){\r\n  }\r\n  enableBle() {\r\n    if(this.bleToggle.checked==true){\r\n      //console.log(JSON.stringify(this.blueInfo));\r\n      this.bleCtrl.enableBle().subscribe(\r\n        ()=>{\r\n          this.bleToggle.checked = true;\r\n          this.ionToggle.checked = true;\r\n        },\r\n        ()=>{\r\n          console.log('>>> BleOperatorPage.enableBle() FAILED!');\r\n          this.ngZone.run(() => {\r\n            this.bleToggle.checked = false;\r\n            this.ionToggle.checked = false;\r\n          });\r\n        }\r\n      );\r\n      //console.log(this.bleToggle.checked);\r\n      //setTimeout(()=>{console.log(this.bleToggle.checked)},2500);\r\n      //this.bleToggle = false;\r\n    }else{\r\n      this.bleCtrl.disableBle();\r\n      //this.bleToggle.checked = this.blueInfo.details.isEnabled;\r\n    }\r\n    \r\n    \r\n\r\n  }\r\n  openBleListNav(item){\r\n    this.navCtrl.push(bleListPage, { item: item });\r\n  }\r\n  ionViewDidLoad() {\r\n    console.log('ionViewDidLoad BleOperatorPage');\r\n  }\r\n  dismiss() {\r\n    this.viewCtrl.dismiss();\r\n  }\r\n  connectRecentDevice(deviceId){\r\n    this.bleCtrl.scanAndConnect(deviceId);\r\n    /*this.bleCtrl.scan();\r\n    this.bleCtrl.connectDevice(deviceId,this.navCtrl.pop);*/\r\n  }\r\n  disconnectDevice(){\r\n    this.bleCtrl.disconnectCurrent().subscribe(\r\n      isScc =>{\r\n        alert('中斷連線成功！');\r\n      }\r\n    );\r\n  }\r\n  modifyDeviceGroup(){\r\n    if(this.blueInfo.nowDevice.hadConnected){\r\n      let confirm = this.alertCtrl.create({\r\n        title: '調整群組 1~255',\r\n        message: '數值\"0\"為無群組，修改時只會更改目前連結中的裝置',\r\n        inputs: [\r\n          {\r\n            name: 'gid',\r\n            type: 'number',\r\n            placeholder: '數值'\r\n          },\r\n        ],\r\n        buttons: [\r\n          {\r\n            text: '取消',\r\n            handler: () => {\r\n              console.log('取消 clicked');\r\n            }\r\n          },\r\n          {\r\n            text: '修改',\r\n            handler: data => {\r\n              let gid = parseInt(data.gid);\r\n              this.bleCmd.goSetGroup(gid);\r\n              //console.log('傳送');\r\n            }\r\n          }\r\n        ]\r\n      });\r\n      confirm.present();\r\n    }else{\r\n      alert('尚未連接');\r\n    }\r\n  }\r\n}\r\n@Component({\r\n  templateUrl: 'ble-list.html',\r\n})\r\nexport class bleListPage implements OnInit{\r\n  item;\r\n  devices: any;\r\n  statusMessage: string;\r\n  peripheral: any;\r\n  blueInfo : object;\r\n  @ViewChild(Content) content: Content;\r\n  @ViewChild(Refresher) refresher: Refresher;\r\n\r\n  constructor(\r\n    public navCtrl: NavController,\r\n    private bleCtrl:BleCtrlProvider,\r\n    //private ble: BLE,\r\n    public platform: Platform,\r\n    private params: NavParams) {\r\n    this.item = this.params.data.item;\r\n    this.platform.ready().then(ready=>{\r\n      this.blueInfo = this.bleCtrl.dataStore;\r\n      this.devices = this.bleCtrl.scanedDevices;\r\n      if(this.blueInfo[\"isEnabled\"]){ //TODO\r\n        this.doRefresh();\r\n        /* HACK refresher EVENT */\r\n        /*this.refresher._top = this.content.contentTop + 'px';\r\n        this.refresher.state = 'ready';\r\n        this.refresher._onEnd();*/\r\n      }else{\r\n        alert('請開啟藍芽才能正常運作唷～');\r\n      }\r\n    });\r\n    \r\n  }\r\n  ngOnInit(){\r\n  }\r\n  ionViewDidEnter() {\r\n  }\r\n\r\n  connectDevice(deviceId){\r\n    this.bleCtrl.connectDevice(deviceId,()=>{this.navCtrl.pop});\r\n    \r\n  }\r\n\r\n  scan(){\r\n    //console.log(JSON.stringify(this.blueInfo));\r\n    //console.log(JSON.stringify(this.devices.list));\r\n    this.bleCtrl.scan();\r\n  }\r\n\r\n  doRefresh() {\r\n    this.scan();\r\n    /*\r\n    setTimeout(() => {\r\n      console.log('Async operation has ended');\r\n      refresher.complete();\r\n    }, 2000);*/\r\n  }\r\n\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/pages/ble-operator/ble-operator.ts","import { Injectable } from '@angular/core';\r\nimport { NativeStorage } from '@ionic-native/native-storage';\r\n\r\nimport 'rxjs/add/operator/map';\r\nimport 'rxjs/add/operator/take';\r\nimport 'rxjs/add/operator/withLatestFrom';\r\nimport 'rxjs/add/observable/fromPromise';\r\nimport { Observable } from 'rxjs/Observable';\r\nimport { BehaviorSubject } from 'rxjs/BehaviorSubject';\r\n\r\nimport { LightsInfoProvider } from '../../providers/lights-info/lights-info'\r\nconst _STORAGE_SCHEDULE_NAME = 'scheduleList'\r\nconst _STORAGE_SYNC_SCHEDULE_NAME = 'scheduleSyncList'\r\nexport interface sectionDataType {\r\n  \"mode\":number,\r\n  \"time\":string,\r\n  \"time_num\":Array<number>,  // [ HOUR , MIN ]\r\n  \"multiple\":number,\r\n}\r\nexport interface scheduleType {\r\n  \"name\":string,\r\n  \"chartDatas\":{\r\n    \"colors\": Array<any>,\r\n    \"datasets\": Array<any>\r\n  },\r\n  \"lastModified\":number,\r\n  \"sectionsList\":Array<sectionDataType>,\r\n  \"checks\":Array<boolean>,\r\n\r\n  \"dateRange\":Array<number> // [ start ,end ]\r\n}\r\n@Injectable()\r\nexport class ScheduleDataProvider {\r\n  lightsColor : any = this.lightsInfo.getTypes('color');\r\n  list:Observable<scheduleType[]>;\r\n  private _list:BehaviorSubject<scheduleType[]>;\r\n  dataStore:{\r\n    \"scheduleList\": Array<scheduleType>\r\n  }\r\n\r\n  constructor(\r\n    private lightsInfo:LightsInfoProvider,\r\n    private storage:NativeStorage\r\n\r\n  ) {\r\n    this._list = <BehaviorSubject<scheduleType[]>>new BehaviorSubject([]);\r\n    this.list = this._list.asObservable();\r\n    this.dataStore = {\r\n      \"scheduleList\": []\r\n    }\r\n    console.log('>>>> ScheduleDataProvider');\r\n    this.loadAll();\r\n  }\r\n  loadAll(){\r\n    Observable.fromPromise(this.storage.getItem(_STORAGE_SCHEDULE_NAME)).subscribe(\r\n      (arr)=>{\r\n        if(typeof arr != 'object') JSON.parse(arr);\r\n        this.dataStore.scheduleList = arr;\r\n        this._list.next(Object.assign({}, this.dataStore).scheduleList);\r\n      },\r\n      (err)=>{\r\n        if(err.code==2 ||err.code.code==2 ){\r\n          let temp = [];\r\n          Observable.fromPromise(this.storage.setItem(_STORAGE_SCHEDULE_NAME,temp))\r\n            .subscribe(\r\n              res => { this._list.next(Object.assign({}, this.dataStore).scheduleList); },\r\n              err => { alert('錯誤!'); }\r\n            );\r\n        }else{\r\n          alert(\"錯誤\" + JSON.stringify(err));\r\n        }\r\n      }\r\n    );\r\n  }\r\n  dateRangeToStringObj(range:Array<number>){\r\n    if((!range[0] && range[0]!=0)||(!range[1] && range[1]!=0)){\r\n      console.log('GG');\r\n      return {\r\n        start: '',\r\n        end: '',\r\n      }\r\n    }else{\r\n      return {\r\n        start: this.dateHourNumberToString(range[0]),\r\n        end: this.dateHourNumberToString(range[1]),\r\n      }\r\n    }\r\n  }\r\n  dateHourNumberToString(hour:number){\r\n    return (((hour<10)?('0'+hour):hour) + ':00');\r\n  }\r\n  detectDateRange(range:Array<number>,scheIdx:number){\r\n    let isInRange = false;\r\n    return Observable.create(\r\n      observer => {\r\n        this.list.take(1).subscribe(\r\n          arr => {\r\n            let isRepeat = arr.find(\r\n              (ss,idx)=>{\r\n                if(idx==scheIdx)return false;\r\n                if(range[0]<ss.dateRange[0]){\r\n                  if(range[1]>=ss.dateRange[0]){\r\n                    return true;\r\n                  }else{\r\n                    return false;\r\n                  }\r\n                }else if(range[0] == ss.dateRange[0]){\r\n                  return true;\r\n                }else{  // range[0] > ss.dateRange[0]\r\n                  if(range[0]<=ss.dateRange[1]){\r\n                    return true;\r\n                  }else{\r\n                    return false;\r\n                  }\r\n                }\r\n              }\r\n            );\r\n            if(!isRepeat)isRepeat=null;\r\n            observer.next(isRepeat);\r\n            observer.complete();\r\n          }\r\n        );\r\n      }\r\n    );\r\n  }\r\n  getSyncSchedule(){\r\n    return Observable.create(\r\n      observer => {\r\n        Observable.fromPromise(this.storage.getItem(_STORAGE_SYNC_SCHEDULE_NAME)).subscribe(\r\n          (arr)=>{\r\n            if(typeof arr != 'object') JSON.parse(arr);\r\n            observer.next(arr);\r\n            observer.complete();\r\n          },\r\n          (err)=>{\r\n            if(err.code==2){\r\n              let temp = [];\r\n              Observable.fromPromise(this.storage.setItem(_STORAGE_SYNC_SCHEDULE_NAME,temp))\r\n                .subscribe(\r\n                  res => { \r\n                    observer.next(temp);\r\n                    observer.complete(); },\r\n                  err => { alert('錯誤!'); }\r\n                );\r\n            }else{\r\n              alert(\"錯誤\" + JSON.stringify(err));\r\n            }\r\n          }\r\n        );\r\n      }\r\n    );\r\n  }\r\n  saveSyncSchedule(syncData:Array<any>){\r\n    Observable.fromPromise(this.storage.setItem(_STORAGE_SYNC_SCHEDULE_NAME,syncData))\r\n      .subscribe(\r\n        res => { console.log('saveSyncSchedule()'); },\r\n        err => { alert('錯誤!'); }\r\n      );\r\n  }\r\n  sectionsToCharts(sections:Array<sectionDataType>,dateRange,isOnlyRange=false){\r\n    let chart = {\r\n      \"data\":[],\r\n      \"backgroundColor\": [],\r\n      \"labels\":[]\r\n    }\r\n    if(isOnlyRange){\r\n      for(let i =dateRange[0];i<=dateRange[1];i++){\r\n        let tmp = sections[i-dateRange[0]];\r\n        chart.data.push((tmp.multiple==0)?-1:tmp.multiple);\r\n        chart.backgroundColor.push(this.lightsColor[ tmp.mode-1 ]);\r\n        chart.labels.push( this.dateHourNumberToString(tmp.time_num[0]) );\r\n      }\r\n    }else{\r\n      for(let i =0;i<24;i++){\r\n        if(i>=dateRange[0] && i<=dateRange[1]){\r\n          let tmp = sections[i-dateRange[0]];\r\n          chart.data.push((tmp.multiple==0)?-1:tmp.multiple);\r\n          chart.backgroundColor.push(this.lightsColor[ tmp.mode-1 ]);\r\n        }else{\r\n          chart.data.push(0);\r\n          chart.backgroundColor.push('rgb(0,0,0)');\r\n        }\r\n      }\r\n    }\r\n\r\n    return chart;\r\n  }\r\n  modifySchedule(idx:number,sections:Array<sectionDataType>,checks:Array<boolean>,dateRange:Array<number>){\r\n    return Observable.create(\r\n      observer => {\r\n        this.list.take(1).subscribe(\r\n          arr => {\r\n            arr[idx].dateRange = dateRange;\r\n            arr[idx].sectionsList = sections;\r\n            arr[idx].checks = checks;\r\n            let chart =  this.sectionsToCharts(sections,dateRange);\r\n            arr[idx].chartDatas = {\r\n              \"datasets\": [\r\n                {\"data\":chart.data},\r\n                {\"data\":chart.data,\"type\":'line',borderColor: 'rgba(72,138,255,0.8)',}\r\n              ],\r\n              \"colors\":[{\"backgroundColor\":chart.backgroundColor}]\r\n            }\r\n            arr[idx].lastModified = new Date().getTime();\r\n           \r\n            \r\n            Observable.fromPromise(this.storage.setItem(_STORAGE_SCHEDULE_NAME,arr))\r\n              .subscribe(\r\n                res => { this._list.next(Object.assign({}, this.dataStore).scheduleList); },\r\n                err => { alert('錯誤!'); }\r\n              );\r\n            \r\n            observer.next(true);\r\n            observer.complete();\r\n\r\n          }\r\n        );\r\n      }\r\n    );\r\n  }\r\n  getSchedule(idx:number){\r\n    return Observable.create(\r\n      observer => {\r\n        this.list.take(1).subscribe(\r\n          arr => {\r\n            console.log(arr[idx]);\r\n            observer.next(arr[idx]);\r\n            observer.complete();\r\n          }\r\n        );\r\n      }\r\n    );\r\n\r\n  }\r\n  /** */\r\n  remove(idx:number){\r\n    this.list.take(1).subscribe(\r\n      arr => {\r\n        arr.splice(idx,1);\r\n        let tempSetOb = Observable.fromPromise(this.storage.setItem(_STORAGE_SCHEDULE_NAME,arr));\r\n        tempSetOb.subscribe(\r\n          scc => { this._list.next(Object.assign({}, this.dataStore).scheduleList); },\r\n          err => { alert('錯誤!'); }\r\n        );\r\n      }\r\n    );\r\n  }\r\n  addNew(){\r\n    this.list.take(1).subscribe(\r\n      arr => {\r\n        let rdnDataset = Array.from( new Array(24), ()=>(this.getRandomInt(0,30)) );\r\n\r\n\r\n        arr.push({\r\n          \"name\":'排程',\r\n          \"chartDatas\":{\r\n            \"colors\": [ {borderColor: 'rgba(72,138,255,0.5)'},this.getRandomColorsArr()],\r\n            //\"datasets\": [this.getRandomDatasetZero()]\r\n            \"datasets\": [ \r\n              {data:rdnDataset,type:'line'},\r\n              {data:rdnDataset} ]\r\n          },\r\n          \"lastModified\":new Date().getTime(),\r\n          \"sectionsList\":[],\r\n          \"checks\":[false,false,false,false,false,false],\r\n\r\n          \"dateRange\":[null,null]\r\n        });\r\n        console.log(arr);\r\n        let tempSetOb = Observable.fromPromise(this.storage.setItem(_STORAGE_SCHEDULE_NAME,arr));\r\n        tempSetOb.subscribe(\r\n          scc => { this._list.next(Object.assign({}, this.dataStore).scheduleList); },\r\n          err => { alert('錯誤!'); }\r\n        );\r\n      }\r\n    );\r\n  }\r\n\r\n  getRandomDatasetArr(){\r\n    return {\r\n      \"data\": Array.from( new Array(24), ()=>(this.getRandomInt(0,100)) ),\r\n    }\r\n  }\r\n\r\n  getRandomDatasetZero(){\r\n    return {\r\n      \"data\": Array.from( new Array(24), ()=>(0) )\r\n    }\r\n  }\r\n  getRandomColorsArr(){\r\n    return {\r\n      \"backgroundColor\":\r\n        Array.from(new Array(24) , (val,idx) => (this.lightsColor[this.getRandomInt(0,5)]) )\r\n    }\r\n  }\r\n  getRandomInt(min, max) {\r\n    return Math.floor(Math.random() * (max - min + 1)) + min;\r\n  }\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/providers/schedule-data/schedule-data.ts","import { PipeTransform,Pipe,Injectable } from '@angular/core';\r\n\r\nimport 'rxjs/add/operator/map';\r\nimport 'rxjs/add/operator/take';\r\nimport 'rxjs/add/operator/withLatestFrom';\r\nimport 'rxjs/add/observable/fromPromise';\r\nimport { Observable } from 'rxjs/Observable';\r\nimport { NativeStorage } from '@ionic-native/native-storage';\r\nimport { BehaviorSubject } from 'rxjs/BehaviorSubject';\r\nconst _STORAGE_COLLECTIONS_NAME = \"collectionsList\";\r\nexport interface collectionType {\r\n  \"name\":string,\r\n  \"cid\": number,\r\n  \"devices\":Array<number>,  // deviceType -> group\r\n}\r\n@Injectable()\r\nexport class CollectionsDataProvider {\r\n  list:Observable<collectionType[]>;\r\n  private _list:BehaviorSubject<collectionType[]>;\r\n  dataStore:{\r\n    \"collectionList\": Array<collectionType>\r\n  }\r\n\r\n  constructor(\r\n    private storage:NativeStorage\r\n  ) {\r\n    this._list = <BehaviorSubject<collectionType[]>>new BehaviorSubject([]);\r\n    this.list = this._list.asObservable();\r\n    this.dataStore = {\r\n      \"collectionList\": []\r\n    }\r\n    console.log('>>>> CollectionsDataProvider');\r\n    this.loadAll();\r\n  }\r\n  loadAll(){\r\n    Observable.fromPromise(this.storage.getItem(_STORAGE_COLLECTIONS_NAME)).subscribe(\r\n      (arr)=>{\r\n        if(typeof arr != 'object') JSON.parse(arr);\r\n        this.dataStore.collectionList = arr;\r\n        this._list.next(Object.assign({}, this.dataStore).collectionList);\r\n      },\r\n      (err)=>{\r\n        if(err.code==2 || err.code.code==2){\r\n          let temp = Array.from({length: 6}, \r\n            (v, i) => ({\r\n                \"name\":\"群組\"+ String.fromCharCode(64 + i+1),\r\n                \"cid\": (i+1),\r\n                \"devices\":[]\r\n              })\r\n          );\r\n\r\n          Observable.fromPromise(this.storage.setItem(_STORAGE_COLLECTIONS_NAME,temp))\r\n            .subscribe();\r\n          this.dataStore.collectionList = temp;\r\n          this._list.next(Object.assign({}, this.dataStore).collectionList);\r\n        }else{\r\n          alert(\"錯誤\" + JSON.stringify(err));\r\n        }\r\n      }\r\n    );\r\n  }\r\n  getByCid(cid:number){\r\n    return Observable.create(\r\n      observer => {\r\n        this.list.subscribe(\r\n          arr => {\r\n            observer.next(\r\n              arr.filter(\r\n                (v,i)=>(v.cid == cid)\r\n              )\r\n            );\r\n            \r\n          }\r\n        );\r\n      }\r\n    ); \r\n  }\r\n  modify(cid:number,devices:Array<any>){\r\n    return Observable.create(\r\n      observer => {\r\n        this.list.take(1).subscribe(\r\n          arr => {\r\n        \r\n            for(let v of arr){\r\n              if(v.cid==cid){\r\n                v.devices=devices;\r\n              }\r\n            }\r\n            console.log(arr);\r\n            this.dataStore.collectionList = arr;\r\n            Observable\r\n              .fromPromise(this.storage.setItem(_STORAGE_COLLECTIONS_NAME,arr))\r\n              .subscribe(\r\n                (res)=>{\r\n                  this._list.next(Object.assign({}, this.dataStore).collectionList);\r\n                  console.log('>>>> _STORAGE_COLLECTIONS_NAME SAVE!');\r\n                  observer.next(true);\r\n                  observer.complete();\r\n                }\r\n                  \r\n              );\r\n\r\n          }\r\n        );\r\n      }\r\n    ); \r\n  }\r\n\r\n}\r\n@Pipe({\r\n  name: 'collection_name',\r\n  pure: false\r\n})\r\nexport class collectionNamePipe implements PipeTransform {\r\n  constructor(){\r\n  }\r\n  transform(value, args) {\r\n    let clName = [\r\n      '無群組',\"群組A\",\"群組B\",\"群組C\",\"群組D\",\"群組E\",\"群組F\",\r\n    ]\r\n    let slug = [\r\n      '',\"A\",\"B\",\"C\",\"D\",\"E\",\"F\",\r\n    ]\r\n    //value.map( v => clName[v] ).toString();\r\n    return (value)?((args)?slug[value]:clName[value]):'無';\r\n  }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/providers/collections-data/collections-data.ts","import { Injectable,NgZone,Inject, forwardRef } from '@angular/core';\r\nimport { Platform,ToastController, LoadingController } from 'ionic-angular';\r\nimport { BLE } from '@ionic-native/ble';\r\nimport { AndroidPermissions } from '@ionic-native/android-permissions';\r\n\r\nimport 'rxjs/add/operator/map';\r\nimport 'rxjs/add/operator/take';\r\nimport 'rxjs/add/operator/withLatestFrom';\r\nimport 'rxjs/add/observable/fromPromise';\r\nimport { Observable } from 'rxjs/Observable';\r\nimport { BehaviorSubject } from 'rxjs/BehaviorSubject';\r\nimport { DevicesDataProvider,lightDeviceType } from '../devices-data/devices-data'\r\n//import { BleCommandProvider } from '../ble-command/ble-command';\r\n\r\nconst _WRITEMANY_INTERVAL = 200;\r\nconst _LIGHTS_SERVICE_UUID = '0000fff0-0000-1000-8000-00805f9b34fb';\r\nconst _LIGHTS_CHAR_UUID = '0000fff3-0000-1000-8000-00805f9b34fb';\r\n//7bb104bf-abf8-4a91-9385-9c3e07cf7c30\r\n//b9403000-f5f8-466e-aff9-25556b57fe6d\r\n//const _LIGHTS_SERVICE_UUID = 'b9406000-f5f8-466e-aff9-25556b57fe6d';\r\n//const _LIGHTS_CHAR_UUID = 'b9406003-f5f8-466e-aff9-25556b57fe6d';\r\n//const _LIGHTS_SERVICE_UUID = '19B10010-E8F2-537E-4F6C-D104768A1214';\r\n//const _LIGHTS_CHAR_UUID    = '19B10011-E8F2-537E-4F6C-D104768A1214';\r\nexport interface lightsDevice {\r\n  \"name\": string,\r\n  \"slug\": string,  //customize name\r\n  \"address\": string,\r\n  \"peripheral\": any\r\n  \r\n}\r\nexport interface nowStatus {\r\n  \"hadConnected\":boolean,\r\n  \"useable\": boolean,\r\n  \"statusMessage\": string,\r\n  \"isEnabled\": boolean,\r\n  \"isConnected\": boolean,\r\n  \"isDiscovered\": boolean,\r\n  \"isSearching\": boolean,\r\n  \"peripheral\": any,\r\n  \"device\":lightDeviceType\r\n}\r\n@Injectable()\r\nexport class BleCtrlProvider {\r\n  scanListStore : {\r\n    \"list\":lightDeviceType[]\r\n  }={\r\n    \"list\":[]\r\n  }\r\n  private _scanListOb = <BehaviorSubject<lightDeviceType[]>>new BehaviorSubject([]);\r\n  bleStatus : {\r\n    \"onScanning\": boolean,\r\n    \"scanList\": Observable<lightDeviceType[]>,\r\n  }= {\r\n    \"onScanning\":false,\r\n    \"scanList\":this._scanListOb.asObservable()\r\n  }\r\n  nowStatus:Observable<nowStatus>;\r\n  private _nowStatus:BehaviorSubject<nowStatus>;\r\n\r\n  dataStore: nowStatus;\r\n  lightsDevicesList: Array<lightsDevice>;\r\n  scanedDevices:{\r\n    \"list\": Array<object>\r\n  };\r\n\r\n  constructor(\r\n    //@Inject(forwardRef(() => BleCommandProvider)) public bleCmd: BleCommandProvider,\r\n    //private bleCmd: BleCommandProvider,\r\n    private devicesData:DevicesDataProvider,\r\n    private androidPermissions: AndroidPermissions,\r\n    private ble: BLE,\r\n    private ngZone: NgZone,\r\n    public loadingCtrl: LoadingController,\r\n    private toastCtrl: ToastController,\r\n    private platform:Platform) {\r\n    console.log('>>>>>>>>>>>>>>>>>>>>>>BleCtrlProvider');\r\n    this.scanedDevices = {\r\n      \"list\":[]\r\n    };\r\n    this.lightsDevicesList = []; \r\n    this._nowStatus = <BehaviorSubject<nowStatus>>new BehaviorSubject({});\r\n    this.nowStatus = this._nowStatus.asObservable();\r\n    this.dataStore = {\r\n        \"hadConnected\":true,\r\n        \"useable\": false,\r\n        \"statusMessage\": \"initialized...\",\r\n        \"isEnabled\": false,\r\n        \"isConnected\": false,\r\n        \"isDiscovered\": false,\r\n        \"isSearching\": false,\r\n        \"peripheral\": {\r\n          \"name\": \"無裝置\",\r\n          \"slug\": \"無裝置\",\r\n          \"id\": null,\r\n        },\r\n        \"device\":{\r\n          \"name\":null,\r\n          \"o_name\" :null,\r\n          \"id\": null,\r\n          \"group\":null,\r\n          \"last_sended\": null,\r\n          \"hadGroupSync\": false,\r\n          \"collection\":null,\r\n        }\r\n    };\r\n\r\n    this.platform.ready().then(ready=>{\r\n      this.androidPermissions.requestPermissions(\r\n        [this.androidPermissions.PERMISSION.BLUETOOTH,\r\n          this.androidPermissions.PERMISSION.BLUETOOTH_ADMIN,\r\n          this.androidPermissions.PERMISSION.ACCESS_FINE_LOCATION,\r\n          this.androidPermissions.PERMISSION.ACCESS_COARSE_LOCATION ]);\r\n      this.isEnbled();\r\n    });\r\n  }\r\n\r\n  private _change(idx:string,value:any){\r\n    this.dataStore[idx]=value;\r\n    //this._checkUseable();\r\n    if(this.dataStore[\"isEnabled\"]&&this.dataStore[\"isConnected\"]){\r\n      this.dataStore[\"useable\"] = true;\r\n    }else{\r\n      this.dataStore[\"useable\"] = false;\r\n    }\r\n    this._nowStatus.next(this.dataStore);\r\n  }\r\n  /** BLE TURN series */\r\n  isEnbled(){\r\n    Observable.fromPromise(this.ble.isEnabled()).subscribe(\r\n      ()=>{this._change(\"isEnabled\",true)},\r\n      ()=>{this._change(\"isEnabled\",false)}\r\n    );\r\n  }\r\n  enableBle() {\r\n    return Observable.create(\r\n      observer => {\r\n        Observable.fromPromise(this.ble.enable())\r\n          .take(1).subscribe(\r\n            ()=>{\r\n              this._change(\"isEnabled\",true);\r\n              this._setStatus('成功開啟藍芽！');\r\n              observer.next(true);\r\n              observer.complete();\r\n            },\r\n            err=>{\r\n              alert('無法開啟藍芽...');\r\n              this.ngZone.run(() => {\r\n                //this.dataStore.isEnabled = false;\r\n                this._change(\"isEnabled\",false);\r\n              });\r\n              console.log('>>> Ble Enabled Failed!');\r\n              console.log(JSON.stringify(err));\r\n              observer.error(false);\r\n              observer.complete();\r\n            }\r\n          );\r\n      }\r\n    );\r\n\r\n  }\r\n  disableBle(){\r\n    alert('請使用手機系統的設定自行關閉唷');\r\n  }\r\n  speciWrtie(deviceId,data){\r\n    return Observable.create(\r\n      observer => {\r\n        this.checkConnectOnce(deviceId).subscribe(\r\n          ()=>{\r\n            Observable.fromPromise(\r\n              this.ble.writeWithoutResponse(\r\n                deviceId,\r\n                _LIGHTS_SERVICE_UUID,\r\n                _LIGHTS_CHAR_UUID,\r\n                data.buffer\r\n              )).subscribe(\r\n                scc => {\r\n                  observer.next(true);\r\n                  observer.complete();\r\n                },\r\n                err => {\r\n                  console.log('>>> ERR,speciWrtie ');\r\n                 \r\n                  console.log(JSON.stringify(err));\r\n                  observer.next(false);\r\n                  observer.complete();\r\n                }\r\n              );\r\n          },()=>{\r\n            observer.next(false);\r\n            observer.complete();\r\n          }\r\n        );/*\r\n        Observable.fromPromise(\r\n          this.ble.writeWithoutResponse(\r\n            id,\r\n            _LIGHTS_SERVICE_UUID,\r\n            _LIGHTS_CHAR_UUID,\r\n            data.buffer\r\n          )).subscribe(\r\n          scc => {\r\n            observer.next(true);\r\n            observer.complete();\r\n          },\r\n          err => {\r\n            console.log('>>> ERR,speciWrtie ');\r\n            console.log(JSON.stringify(err));\r\n            observer.next(false);\r\n            observer.complete();\r\n          }\r\n          );*/\r\n      }\r\n    );\r\n\r\n  }\r\n  syncMultiWrite(deviceId,observer,cmds:Uint8Array[],idx,isOk:boolean[]){\r\n    Observable.fromPromise(\r\n      this.ble.writeWithoutResponse(\r\n        deviceId,\r\n        _LIGHTS_SERVICE_UUID,\r\n        _LIGHTS_CHAR_UUID,\r\n        cmds[idx].buffer\r\n      )).subscribe(\r\n        scc => {\r\n          idx++;\r\n          isOk.push(true);\r\n          if(idx>=cmds.length){  //傳送結束\r\n            observer.next(isOk);\r\n            observer.complete();\r\n          }else{\r\n            setTimeout(()=>{this.syncMultiWrite(deviceId,observer,cmds,idx,isOk);},150);\r\n          }\r\n        },\r\n        err => {\r\n          this._setStatus(JSON.stringify(err));\r\n          idx++;\r\n          isOk.push(false);\r\n          if(idx>=cmds.length){  //傳送結束\r\n            observer.next(isOk);\r\n            observer.complete();\r\n          }else{\r\n            setTimeout(()=>{this.write_many_go(deviceId,observer,cmds,idx,isOk);},150);\r\n          }\r\n        }\r\n      );\r\n  }\r\n  syncSunLightsProcess(devices:lightDeviceType[], idx, observer=null,fan=null){\r\n        this.checkConnectOnce(devices[idx].id).subscribe(\r\n          isScc => {\r\n            if(isScc){\r\n              this._setStatus(devices[idx].id+' CONNECTED!');\r\n              let cmds=[];\r\n              let time = new Date();\r\n              cmds.push( new Uint8Array([0xfa,0xa0,time.getHours(),time.getMinutes(),time.getSeconds(),0xff]) );\r\n              cmds.push( new Uint8Array([0xfa,0xa1,devices[idx].group,0xff]) );\r\n              if(fan)cmds.push( new Uint8Array([0xfa,0xad,fan ,0xff]) );\r\n              this._setStatus(devices[idx].id+' SENDING.....');\r\n              let loadObj = this._presentLoading();\r\n              Observable.create(\r\n                observer => {\r\n                  this.syncMultiWrite(devices[idx].id, observer,cmds, 0, []);\r\n                }\r\n              ).subscribe(\r\n                isOkArr => {\r\n                  this._dismissLoading(loadObj);\r\n                  this._setStatus(JSON.stringify(isOkArr));\r\n                  if(isOkArr[1]){\r\n                    this.devicesData.modify(devices[idx].id,null,devices[idx].group,true).subscribe();\r\n                  }else{\r\n                    this.devicesData.modify(devices[idx].id,null,devices[idx].group,false).subscribe();\r\n                  }\r\n                  setTimeout(\r\n                    ()=>{\r\n                      this.disconnetOnce(devices[idx].id).subscribe(\r\n                        isScc => {\r\n                          this._setStatus(devices[idx].id+' disconnet : '+isScc);\r\n                          setTimeout(\r\n                            ()=>{\r\n                              idx++;\r\n                              if(idx >= devices.length){\r\n                                observer.next(true);\r\n                                observer.complete();\r\n                              }else{\r\n                                this.syncSunLightsProcess(devices,idx, observer,fan);\r\n                              }\r\n                            },300\r\n                          );\r\n                        }\r\n                      );\r\n                    },1000\r\n                  );\r\n                }\r\n              );\r\n              \r\n            }else{\r\n              this._setStatus(devices[idx].id+' CONNECT FAILED!');\r\n              setTimeout(\r\n                ()=>{\r\n                  idx++;\r\n                  if(idx >= devices.length){\r\n                    observer.next(true);\r\n                    observer.complete();\r\n                  }else{\r\n                    this.syncSunLightsProcess(devices,idx, observer,fan);\r\n                  }\r\n                },300\r\n              );\r\n            }\r\n          }\r\n        );\r\n\r\n \r\n  }\r\n  syncSunlights(devices:lightDeviceType[],fan=null){\r\n    return Observable.create(\r\n      observer => {\r\n        this.syncSunLightsProcess(devices, 0, observer, fan);\r\n      }\r\n    );\r\n\r\n  }\r\n  startScan(services=[_LIGHTS_SERVICE_UUID]){\r\n    this.bleStatus.onScanning = true;\r\n    this.scanListStore.list = [];\r\n    this._setStatus('掃描中......');\r\n    this.ble.startScan(services).subscribe(\r\n      device => {\r\n        this.devicesData.check(device,true).subscribe(\r\n          findDevice => {\r\n            this.ngZone.run(() => {\r\n              this.scanListStore.list.push(findDevice.device);\r\n              this._scanListOb.next(this.scanListStore.list);\r\n              //this._scanListOb.next(Object.assign({},this.scanListStore).list);\r\n            });\r\n          }\r\n        );\r\n      },\r\n      error => {this.bleStatus.onScanning =false;this._showError(error,'掃描藍芽裝置時發生錯誤。');}\r\n    )\r\n  }\r\n  stopScan(){\r\n    if(this.bleStatus.onScanning){\r\n      this.ble.stopScan().then(\r\n        ()=>{\r\n          this._setStatus('停止掃描');\r\n          this.bleStatus.onScanning =false;\r\n        },\r\n        () => {\r\n          this.showToast('停止藍芽掃描時發生錯誤');\r\n        }\r\n      );\r\n    }else{\r\n      this._setStatus('停止掃描....');\r\n    }\r\n  }\r\n  /** SCAN series */\r\n  scan(sec=8,showLoading=true){\r\n    let loadObj = this._presentLoading();\r\n    this.scanedDevices[\"list\"] = [];\r\n    this._setStatus('掃描中');\r\n    this.ble.scan([], sec).subscribe(\r\n      device => {\r\n        this._onDeviceDiscovered(device);\r\n        this._dismissLoading(loadObj);\r\n      },\r\n      error => {this._showError(error,'掃描藍芽裝置時發生錯誤。');this._dismissLoading(loadObj);}\r\n    );\r\n    setTimeout(this._setStatus.bind(this), 1000*sec, '掃描完成......');\r\n  }\r\n\r\n  private _onDeviceDiscovered(device) {\r\n    //console.log('Discovered ' + JSON.stringify(device, null, 2));\r\n    this.devicesData.check(device,false).subscribe(\r\n      findDevice => {\r\n        this.ngZone.run(() => {\r\n          this.scanedDevices[\"list\"].push(findDevice.device);\r\n        });\r\n      }\r\n    );\r\n  }\r\n  disconnectCurrent(){\r\n    return Observable.create(\r\n      observer => {\r\n        this.nowStatus.take(1).subscribe(\r\n          obj => {\r\n            if(obj.hadConnected){\r\n              Observable.fromPromise(this.ble.isConnected(obj.peripheral.id)).subscribe(\r\n                ()=>{\r\n                  Observable.fromPromise(this.ble.disconnect(obj.peripheral.id))\r\n                  .subscribe( \r\n                    () => {\r\n                      this._change(\"hadConnected\",false);\r\n                      this._onDeviceDisconnected();\r\n                      observer.next(true);observer.complete();\r\n                    },\r\n                    err => {\r\n                      observer.next(false);observer.complete();\r\n                      console.log('中斷連線時發生錯誤！');}\r\n                  );\r\n                  \r\n                },\r\n                ()=>{\r\n                  observer.next(true);observer.complete();\r\n                }\r\n              );\r\n            }else{\r\n              observer.next(true);observer.complete();\r\n            }\r\n          }\r\n        );\r\n      }\r\n    );\r\n    \r\n  }\r\n  /** CONNECT DEVICE series */\r\n  connectDevice(deviceId,todoFn = (p=null)=>{}){\r\n    let loadObj = this._presentLoading();\r\n    this.disconnectCurrent().subscribe(\r\n      ()=>{\r\n        this.ble.connect(deviceId).subscribe(\r\n          peripheral => {\r\n            this._onConnected(peripheral);\r\n            this._change(\"hadConnected\",true);\r\n            let tmpGid = 0;\r\n            this.devicesData.check(peripheral,true).subscribe(\r\n              (checkData) => {\r\n                /*if(checkData.device.group){\r\n                  //this.bleCmd.goSetGroup( isAddNew );\r\n                  \r\n                  let data = new Uint8Array([0xfa,0xa1,checkData.device.group,0xff]);\r\n                  this.write(data,()=>{\r\n                    //this.devicesData.modify(checkData.device.id,null,checkData.isNew).subscribe();\r\n                    this.showToast('已將裝置編號同步！');\r\n                  },()=>{},true);\r\n                  \r\n                }*/\r\n                tmpGid=checkData.device.group;\r\n                this.dataStore.device = checkData.device;\r\n\r\n                setTimeout(()=>{\r\n                  let time = new Date();\r\n                  let data = new Uint8Array([0xfa,0xa0,time.getHours(),time.getMinutes(),time.getSeconds(),0xff]);\r\n                  let data2 = new Uint8Array([0xfa,0xa1,tmpGid,0xff]);\r\n                  let cmds = [data,data2];\r\n                  /*this.write(data,()=>{\r\n                    this.showToast('已將裝置時間同步！');\r\n                  },()=>{},true);*/\r\n                  this.write_many(cmds).subscribe(\r\n                    (isOkList)=>{\r\n                      if(isOkList.find( val=>val==false )){\r\n                        this.showToast('已將裝置時間、編號同步！');\r\n                      }else{\r\n                        alert('同步裝置發生錯誤，請斷開並再次連結！')\r\n                      }\r\n                    }\r\n                  );\r\n                \r\n                  todoFn(peripheral);\r\n                  this._dismissLoading(loadObj);\r\n                },2500);\r\n              }\r\n            );\r\n            \r\n            \r\n        \r\n            \r\n          },\r\n          peripheral => {this._onDeviceDisconnected();this._dismissLoading(loadObj);}\r\n        );\r\n      }\r\n    );\r\n    \r\n  }\r\n  scanAndConnect(id:string,sec=6){  // ble-operator.ts\r\n    let loadObj = this._presentLoading();\r\n    this.scan(sec);\r\n    setTimeout(\r\n      ()=>{\r\n        this.connectDevice(id);\r\n        this._dismissLoading(loadObj);\r\n      },1000*sec\r\n    );\r\n  }\r\n  disconnetOnce(deviceId){\r\n    return Observable.create(\r\n      observer => {\r\n        Observable.fromPromise(this.ble.disconnect(deviceId))\r\n        .subscribe(\r\n          () => {\r\n            console.log('>>> OK, disconnetOnce(deviceId) OK!!!');\r\n            observer.next(true);observer.complete();\r\n          },\r\n          err => {\r\n            console.log('>>> ERR, disconnetOnce(deviceId) failed!');\r\n            observer.next(false);observer.complete();\r\n        }\r\n        );\r\n      }\r\n    )\r\n\r\n  }\r\n  connectOnce(deviceId,sec=6){  // ble-command.ts\r\n    return Observable.create(\r\n      observer=>{\r\n        let loadObj = this._presentLoading();\r\n        /*this.scan(sec);\r\n        setTimeout(\r\n          ()=>{},1000*sec\r\n        );*/\r\n        this.ble.connect(deviceId).take(1).subscribe(\r\n          peripheral => {\r\n            console.log('>>> OK, connectOnce() _> this.ble.connect(deviceId) OK!!!!!');\r\n            this._dismissLoading(loadObj);\r\n            observer.next(true);\r\n          },\r\n          peripheral => {\r\n            Observable.fromPromise(this.ble.disconnect(deviceId))\r\n            .subscribe(\r\n              () => {\r\n                console.log('>>> WARN, connectOnce() _> this.ble.disconnect(deviceId) !!!!! NO CONNECT!!');\r\n              },\r\n              err => {console.log('>>> ERR, connectOnce() _> this.ble.disconnect(deviceId) failed!');}\r\n            );\r\n            this._dismissLoading(loadObj);\r\n            observer.next(false);\r\n          }\r\n        );\r\n          \r\n      }\r\n    );\r\n  }\r\n  disConnectDevice(deviceId){\r\n    Observable.fromPromise(this.ble.disconnect(deviceId))\r\n    .subscribe(\r\n      () => {\r\n        this._onDeviceDisconnected();\r\n      },\r\n      err => {this._showError(err,'中斷連線時發生錯誤！');}\r\n    );\r\n  }\r\n  private _onConnected(peripheral): void {\r\n    this.ngZone.run(() => {\r\n      alert('連線成功！');\r\n      this._change(\"isConnected\",true);\r\n      this._change(\"peripheral\",peripheral);\r\n      this._setStatus('連線成功！');\r\n    });\r\n  }\r\n\r\n  private _onDeviceDisconnected(): void {\r\n    this._change(\"isConnected\",false);\r\n    this._change(\"isConnected\",false);\r\n    let toast = this.toastCtrl.create({\r\n      message: '連線中斷！',\r\n      duration: 1500,\r\n      position: 'bottom'\r\n    });\r\n    toast.present();\r\n  }\r\n  /** */\r\n  checkConnectOnce(id){\r\n\r\n    return Observable.create(\r\n      observer=>{\r\n        let loadObj = this._presentLoading();\r\n        Observable.fromPromise(this.ble.isConnected(id)).subscribe(\r\n          ()=>{\r\n            observer.next(true);observer.complete();\r\n            this._dismissLoading(loadObj);\r\n          },\r\n          ()=>{\r\n            this.ble.connect(id).take(1).subscribe(\r\n              peripheral => {\r\n                setTimeout(\r\n                  ()=>{\r\n                    this._dismissLoading(loadObj);\r\n                    observer.next(true);observer.complete();\r\n                  },1500\r\n                );\r\n              },\r\n              peripheral => {\r\n                observer.next(false);\r\n                this._dismissLoading(loadObj);\r\n              }\r\n            );\r\n          }\r\n        );\r\n            \r\n  \r\n      }\r\n    );\r\n  }\r\n  checkConnect(id){\r\n    return Observable.create(\r\n      observer=>{\r\n        this.nowStatus.take(1).subscribe(\r\n          now =>{\r\n            if(now.hadConnected){\r\n              Observable.fromPromise(this.ble.isConnected(id)).subscribe(\r\n                ()=>{\r\n                  observer.next(true);observer.complete();\r\n                },\r\n                ()=>{\r\n                  this.ble.connect(id).take(1).subscribe(\r\n                    peripheral => {\r\n                      console.log('重新連線成功！！');\r\n                      observer.next(true);observer.complete();\r\n                    },\r\n                    peripheral => {this._onDeviceDisconnected();alert('無法重新連結到剛才的裝置，請確認裝置是否在附近');observer.error(peripheral);}\r\n                  );\r\n                }\r\n              );\r\n            }else{\r\n              alert('請先與裝置連線！');\r\n              observer.error(true);observer.complete();\r\n            }\r\n            \r\n          }\r\n        );\r\n        \r\n\r\n      }\r\n    );\r\n\r\n  }\r\n  write_many_go(observer,cmds:Uint8Array[],idx,isOk:boolean[],loadObj){\r\n    Observable.fromPromise(\r\n      this.ble.writeWithoutResponse(\r\n        this.dataStore.peripheral.id,\r\n        _LIGHTS_SERVICE_UUID,\r\n        _LIGHTS_CHAR_UUID,\r\n        cmds[idx].buffer\r\n      )).subscribe(\r\n        scc => {\r\n          idx++;\r\n          isOk.push(true);\r\n          if(idx>cmds.length-1){  //傳送結束\r\n            this._dismissLoading(loadObj);\r\n            observer.next(isOk);\r\n            observer.complete();\r\n          }else{\r\n            setTimeout(()=>{this.write_many_go(observer,cmds,idx,isOk,loadObj);},_WRITEMANY_INTERVAL);\r\n            \r\n          }\r\n        },\r\n        err => {\r\n          console.log(' write ERROR!!!!!!!!!!!!!!!!!!!!!!!!!');\r\n          console.log(JSON.stringify(err));\r\n          idx++;\r\n          isOk.push(false);\r\n          if(idx>cmds.length-1){  //傳送結束\r\n            this._dismissLoading(loadObj);\r\n            observer.next(isOk);\r\n            observer.complete();\r\n          }else{\r\n            setTimeout(()=>{this.write_many_go(observer,cmds,idx,isOk,loadObj);},_WRITEMANY_INTERVAL);\r\n          }\r\n        }\r\n      );\r\n  }\r\n  write_many(value:Uint8Array[],waitSec=null){\r\n    console.log('=== CMD VALUE ===');\r\n    console.log(JSON.stringify(value));\r\n    console.log('======');\r\n    return Observable.create(\r\n      observer=>{\r\n        let loadObj = this._presentLoading(!waitSec,waitSec);\r\n        \r\n        this.checkConnect(this.dataStore.device.id).subscribe(\r\n          ()=>{\r\n            this.write_many_go(observer,value,0,[],loadObj);\r\n          },()=>{this._dismissLoading(loadObj);}\r\n        );\r\n      }\r\n    );\r\n  }\r\n  write(value:Uint8Array,sccFn=(id)=>{},errFn=(id)=>{},toBack=false,deviceId=this.dataStore.device.id){\r\n    let loadObj = this._presentLoading();\r\n    console.log('=== CMD VALUE ===');\r\n    console.log(JSON.stringify(value));\r\n    console.log('======');\r\n    //new Uint8Array(*).buffer\r\n    this.checkConnect(deviceId).subscribe(\r\n      ()=>{\r\n        Observable.fromPromise(\r\n          this.ble.writeWithoutResponse(\r\n            this.dataStore.peripheral.id,\r\n            _LIGHTS_SERVICE_UUID,\r\n            _LIGHTS_CHAR_UUID,\r\n            value.buffer\r\n          )).subscribe(\r\n            scc => {\r\n              if(toBack) sccFn(this.dataStore.peripheral.id);\r\n              else this.showToast('傳送成功！');\r\n              this._dismissLoading(loadObj);},\r\n            err => {\r\n              if(toBack) errFn(this.dataStore.peripheral.id);\r\n              else this._showError(err,'傳送失敗');\r\n              this._dismissLoading(loadObj);}\r\n          );\r\n      },()=>{this._dismissLoading(loadObj);}\r\n    );\r\n    /*Observable.fromPromise(this.ble.isConnected(this.dataStore.peripheral.id)).subscribe(\r\n      ()=>{\r\n\r\n      },\r\n      ()=>{\r\n        console.log('>>> RECONNECTED!!!!');\r\n        this.ble.connect(this.dataStore.peripheral.id).take(1).subscribe(\r\n          peripheral => {\r\n            console.log('重新連線成功！！');\r\n            Observable.fromPromise(\r\n              this.ble.writeWithoutResponse(\r\n                this.dataStore.peripheral.id,\r\n                _LIGHTS_SERVICE_UUID,\r\n                _LIGHTS_CHAR_UUID,\r\n                value.buffer\r\n              )).subscribe(\r\n                scc => {\r\n                  alert('傳送成功！');this._dismissLoading(time);},\r\n                err => {\r\n                  this._showError(err,'傳送失敗');this._dismissLoading(time);}\r\n              );\r\n          },\r\n          peripheral => {this._onDeviceDisconnected();this._dismissLoading(time);}\r\n        );\r\n      }\r\n    );*/\r\n\r\n  }\r\n  /* */\r\n  private _presentLoading(isTimeout=true,messageSec=null) {\r\n    let loadingObj = {\r\n      \"time\":null,\r\n      \"loading\": this.loadingCtrl.create({\r\n        content: 'Please wait...'\r\n      })\r\n    }\r\n    loadingObj.loading \r\n    \r\n    if(isTimeout){\r\n      loadingObj.time = setTimeout(()=>{\r\n        alert('逾時');\r\n        loadingObj.loading.dismiss();\r\n      }, 1000*12);\r\n    }else{\r\n      if(messageSec){\r\n        loadingObj.loading = this.loadingCtrl.create({\r\n          content: 'Please wait...</br>(about '+messageSec+' sec)'\r\n        });\r\n        loadingObj.time = setTimeout(()=>{\r\n          alert('逾時');\r\n          loadingObj.loading.dismiss();\r\n        }, 1000*messageSec);\r\n      }else{\r\n        loadingObj.time = setTimeout(()=>{\r\n          alert('逾時');\r\n          loadingObj.loading.dismiss();\r\n        }, 10000);\r\n      }\r\n      \r\n    }\r\n    loadingObj.loading.present();\r\n    return loadingObj;\r\n    /*\r\n      setTimeout(() => {\r\n        loading.dismiss();\r\n      }, 5000); */\r\n  }\r\n  private _dismissLoading(loadObj){\r\n    if(loadObj.loading){\r\n      clearTimeout(loadObj.time);\r\n      loadObj.loading.dismiss();\r\n    }\r\n  }\r\n  \r\n  private showToast(message){\r\n    let toast = this.toastCtrl.create({\r\n      message: message ,\r\n      position: 'bottom',\r\n      duration: 1000\r\n    });\r\n    toast.present();\r\n  }\r\n\r\n  private _setStatus(message) {\r\n    this.ngZone.run(() => {\r\n      this.dataStore[\"statusMessage\"] = message;\r\n    });\r\n    this._nowStatus.next(this.dataStore);\r\n  }\r\n  private _showError(error,message) {\r\n    this._setStatus('Error ' + error);\r\n    console.log('>>> scanError() ');\r\n    console.log(JSON.stringify(error));\r\n    let toast = this.toastCtrl.create({\r\n      message: message +' '+JSON.stringify(error),\r\n      position: 'bottom',\r\n      duration: 3000\r\n    });\r\n    toast.present();\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/providers/ble-ctrl/ble-ctrl.ts","import { LightsInfoProvider } from '../../providers/lights-info/lights-info'\r\nimport { Platform } from 'ionic-angular';\r\nimport { Injectable } from '@angular/core';\r\n//import { Http } from '@angular/http';\r\nimport 'rxjs/add/operator/map';\r\n\r\nimport 'rxjs/add/observable/fromPromise';\r\nimport { Observable } from 'rxjs/Observable';\r\n\r\nimport { BehaviorSubject } from 'rxjs/BehaviorSubject';\r\nimport { NativeStorage } from '@ionic-native/native-storage';\r\nimport { PatternsDataProvider } from '../patterns-data/patterns-data'\r\nconst __REF_BASE = 'lightsGroupsDataArr';\r\n\r\n\r\n//const __defaultBgColorArr = Array.from(new Array(16) , () => 'rgb(0,0,0)' ) ; \r\n//const __defaultDatasetArr = Array.from( new Array(16), ()=>0 ) ; \r\n//Array.from(new Array(16) , (val,idx) => (this.lightsColor[this.getRandomInt(0,5)]) )\r\n//Array.from( new Array(16), ()=>(this.getRandomInt(0,100)) )\r\nexport interface lightsGroupsData {\r\n  \"gid\": number,\r\n  \"name\": string, // NAME\r\n  \"lastSended\": string, // TIME\r\n  \"devicesTotal\": number, //0\r\n    \"chartDatas\": {\r\n      \"colors\": \r\n        [{\"backgroundColor\": Array<string>}], // Array<number>   length = 16\r\n      \"datasets\": \r\n        [{\"data\": Array<number> }] // [ {Array<number>} ]   length = 16\r\n    }\r\n}\r\n\r\n\r\n@Injectable()\r\nexport class LightsGoupsProvider {\r\n  infos: Observable<lightsGroupsData[]>;\r\n  private _infos:BehaviorSubject<lightsGroupsData[]>;\r\n  private baseUrl: string; \r\n  dataStore: {\r\n    infos: lightsGroupsData[],\r\n    groupsList: Array<object>\r\n  };\r\n\r\n  constructor(\r\n    private platform: Platform,\r\n    private PatternsDataProvider:PatternsDataProvider,\r\n    private lightsInfo:LightsInfoProvider,\r\n    private storage:NativeStorage\r\n  ) {\r\n    console.log('>>> LightsGoupsProvider constructor() !');\r\n    this.baseUrl = '';// Strorage\r\n    this.dataStore = { \"infos\": [], \"groupsList\":[] };\r\n    this._infos = <BehaviorSubject<lightsGroupsData[]>>new BehaviorSubject([]);\r\n    this.infos = this._infos.asObservable();\r\n    this.platform.ready().then((readySource) => {\r\n      this.loadAll();\r\n      this.getGroups().subscribe(\r\n        (arr)=>{\r\n          this.dataStore.groupsList=arr;\r\n        }\r\n      );\r\n    });\r\n    \r\n\r\n  }\r\n  dedup(arr) {\r\n    var hashTable = {};\r\n  \r\n    return arr.filter(function (el) {\r\n      var key = JSON.stringify(el);\r\n      var match = Boolean(hashTable[key]);\r\n  \r\n      return (match ? false : hashTable[key] = true);\r\n    });\r\n  }\r\n  \r\n  getGroups(){\r\n    return Observable.create(\r\n      observer => {\r\n        this.infos.subscribe(\r\n          arr => {\r\n            let groupsList = arr.map(val=>({\"id\":val.gid,\"name\":val.name}));\r\n            groupsList = this.dedup(groupsList);\r\n            groupsList.push({'id':0,'name':'廣播'});\r\n            console.log(groupsList);\r\n            observer.next(groupsList);\r\n            observer.complete();\r\n          }\r\n        );\r\n      }\r\n    );\r\n\r\n  }\r\n  getList(){\r\n    return this.dataStore.infos;\r\n  }\r\n  loadAll() {\r\n    console.log('>>> LightsGoupsProvider.loadAll()');\r\n    let sub = Observable.fromPromise(this.storage.getItem(__REF_BASE));\r\n    sub.subscribe(\r\n      arr => {\r\n        if(typeof arr != 'object') JSON.parse(arr);\r\n        this.dataStore.infos = arr;\r\n        this._infos.next(Object.assign({}, this.dataStore).infos);\r\n      },\r\n      err => {\r\n        if(err.code==2){\r\n          console.log('>>> '+__REF_BASE + ' NULL!!!! ADDED array!');  \r\n          Observable.fromPromise(this.storage.setItem(__REF_BASE,[])).subscribe(\r\n            arr=>{\r\n              this.dataStore.infos = arr;\r\n              this._infos.next(Object.assign({}, this.dataStore).infos);\r\n            }\r\n          );\r\n        }else{\r\n          console.log('>>> Could not DO \"loadAll()\" ERR below <<<' );\r\n        }\r\n        console.log(err);\r\n      }\r\n    );\r\n  }\r\n  selectGid(loadGid: number){\r\n    let subTemp = Observable.create(\r\n      observer =>{\r\n        if(this.dataStore.infos){\r\n          this.loadAll();\r\n          this._infos.subscribe(\r\n            arr => { observer.next(this.dataStore.infos.filter( obj => (obj.gid == loadGid) )); }\r\n          )\r\n        }else{\r\n          observer.next(this.dataStore.infos.filter( obj => (obj.gid == loadGid) ));\r\n        }\r\n      }\r\n    );\r\n   return subTemp;\r\n  }\r\n  set(obj,trackFn){\r\n    let sub = Observable.fromPromise(this.storage.setItem(__REF_BASE,obj));\r\n    sub.subscribe(\r\n      res =>{trackFn(true,res)},\r\n      err => {trackFn(false,err)}\r\n    );\r\n  }\r\n  remove(gid:number){\r\n    this.infos.take(1).subscribe(\r\n      arr => {\r\n        this.dataStore.infos = arr.filter(v => v.gid!==gid);\r\n        let sub = Observable.fromPromise(this.storage.setItem(__REF_BASE,this.dataStore.infos));\r\n        this._infos.next(Object.assign({}, this.dataStore).infos);\r\n      }\r\n    );\r\n  }\r\n  addNew(gid:number,name:string=\"無群組名\") {\r\n    let tmpOb = Observable.create( observer => {\r\n      \r\n      \r\n      // ADD *\"lightsGroupsDataArr\"*\r\n      this.dataStore.infos.unshift(\r\n        {\r\n          \"gid\": gid,  \r\n          \"name\": name, // NAME\r\n          \"lastSended\": 'Command never sended', // TIME\r\n          \"devicesTotal\": 0, //0\r\n            \"chartDatas\": {\r\n              \"colors\": \r\n                [{\"backgroundColor\": this.getRandomColorsArr() }], // Array<number>   length = 16 __defaultBgColorArr\r\n              \"datasets\": \r\n                [{\"data\":  this.getRandomDatasetArr() }] // [ {Array<number>} ]   length = 16 __defaultDatasetArr\r\n            }\r\n        }\r\n      );\r\n      let sub = Observable.fromPromise(this.storage.setItem(__REF_BASE,this.dataStore.infos));\r\n      // ADD *\"patternsArr-_GID_\"*\r\n      let sub_2 =this.PatternsDataProvider.createNull(gid);\r\n      sub.withLatestFrom( sub_2 ).subscribe(\r\n        res =>{ this._infos.next(Object.assign({}, this.dataStore).infos); observer.next(true,res);observer.complete();},\r\n        err =>{ observer.next(false,err);observer.complete();}\r\n      );\r\n\r\n    });\r\n    return tmpOb;\r\n  }\r\n  lightsColor : any = this.lightsInfo.getTypes('color');\r\n  getRandomDatasetArr(){\r\n    return Array.from( new Array(16), ()=>(this.getRandomInt(0,100)) )\r\n    \r\n  }\r\n  getRandomColorsArr(){\r\n    return Array.from(new Array(16) , (val,idx) => (this.lightsColor[this.getRandomInt(0,5)]) )\r\n\r\n  }\r\n  getRandomInt(min, max) {\r\n    return Math.floor(Math.random() * (max - min + 1)) + min;\r\n  }\r\n\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/providers/lights-goups/lights-goups.ts","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { IonicPageModule } from 'ionic-angular';\r\nimport { CollectionsDataProvider,collectionNamePipe } from './collections-data';\r\n\r\n@NgModule({\r\n  declarations: [\r\n    collectionNamePipe,\r\n  ],\r\n  exports: [\r\n    collectionNamePipe,\r\n  ],\r\n    imports: [CommonModule],\r\n  providers: [\r\n    CollectionsDataProvider\r\n  ],\r\n})\r\nexport class CollectionsModule {\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/providers/collections-data/collections-data.module.ts","//import { LightsInfoProvider } from '../../providers/lights-info/lights-info'\r\n//import { StorageMetaProvider } from '../../providers/storage-meta/storage-meta'\r\n//import { SectionsDataProvider,sectioDataType } from '../../providers/sections-data/sections-data'\r\n\r\nimport { Injectable } from '@angular/core';\r\n\r\nimport 'rxjs/add/operator/map';\r\nimport 'rxjs/add/operator/take';\r\nimport 'rxjs/add/operator/withLatestFrom';\r\nimport 'rxjs/add/observable/fromPromise';\r\nimport { Observable } from 'rxjs/Observable';\r\n\r\nimport { BehaviorSubject } from 'rxjs/BehaviorSubject';\r\nimport { NativeStorage } from '@ionic-native/native-storage';\r\n\r\nconst __REF_BASE_PATTERNS = 'patternsArr-'; // 'patternsArr-_GID_'\r\n\r\n\r\n\r\n//const __defaultBgColorArr = Array.from(new Array(16) , () => 'rgb(0,0,0)' ) ; \r\n//const __defaultDatasetArr = Array.from( new Array(16), ()=>0 ) ; \r\n//Array.from(new Array(16) , (val,idx) => (this.lightsColor[this.getRandomInt(0,5)]) )\r\n//Array.from( new Array(16), ()=>(this.getRandomInt(0,100)) )\r\nexport interface PatternDataType {  // sql/\"patternsArr-_GID_\"\r\n  \"gid\" : number,\r\n  //\"pid\" : number,\r\n  \"p_name\":string,\r\n  \"lastSendedTime\" : number,\r\n  \"lastModified\":number,\r\n  \"sections\" : Array<any>,\r\n  //\"sectionsId\" : number  // => sql/\"sectionsArr-_sectionsId_\"\r\n}\r\nexport interface SectionDataType {  // sql/\"sectionsArr-_sectionsId_\"\r\n  \"mode\": number, // 1~6\r\n  \"time\": string, // 'hh:mm'\r\n  \"time_num\":Array<number>, // [ hh,mm ]\r\n  \"multiple\": number, //0~100\r\n}\r\n\r\n\r\n\r\n@Injectable()\r\nexport class PatternsDataProvider {\r\n  \r\n  infos: Observable<PatternDataType[]>;\r\n  private _infos:BehaviorSubject<PatternDataType[]>;\r\n\r\n  private dataStore: {\r\n    infos: PatternDataType[]\r\n  };\r\n\r\n  constructor(\r\n    //private meta:StorageMetaProvider,\r\n    //private sectionsProvider: SectionsDataProvider,\r\n    //private lightsInfo:LightsInfoProvider,\r\n    private storage:NativeStorage\r\n  ) {\r\n    this._infos = <BehaviorSubject<PatternDataType[]>>new BehaviorSubject([]);\r\n    this.infos = this._infos.asObservable();\r\n    this.dataStore = {\r\n      \"infos\":[]\r\n    };\r\n  }\r\n  ionViewDidLoad(){\r\n    \r\n  }\r\n  getPatternsList(){\r\n    return this.dataStore.infos;\r\n  }\r\n  createNull(gid){\r\n    let tempOb = Observable.create( observer => {\r\n      let sub = Observable.fromPromise(this.storage.setItem(__REF_BASE_PATTERNS+gid,[]));\r\n      sub.subscribe(\r\n        arr => {\r\n          observer.next(true);\r\n          observer.complete();\r\n        },\r\n        err => {\r\n          observer.next(false);\r\n          observer.complete();\r\n          /* DEBUG */\r\n          console.log('>>> *PatternsDataProvider*.loadAll( '+gid+' ) : ' +err );\r\n        }\r\n      );\r\n    });\r\n    return tempOb;\r\n  }\r\n  loadAll(gid:number,times=1) {\r\n    let tmpOb = Observable.create( observer=>{\r\n      let sub = Observable.fromPromise(this.storage.getItem(__REF_BASE_PATTERNS+gid));\r\n      sub.take(times).subscribe(\r\n        arr => {\r\n          if(typeof arr != 'object') JSON.parse(arr);\r\n          console.log(this.dataStore);\r\n          this.dataStore.infos = arr;\r\n          this._infos.next(Object.assign({}, this.dataStore).infos);\r\n          observer.next(true);\r\n        },\r\n        err => {\r\n          /* DEBUG */\r\n          observer.error(err);\r\n          console.log('>>> *PatternsDataProvider*.loadAll( '+gid+' ) : ');\r\n          console.log(err);\r\n        }\r\n      );\r\n    });\r\n\r\n    return tmpOb;\r\n  }\r\n  selectPattern(loadGid:number,loadPidx: number){\r\n    let subTemp = Observable.create(\r\n      observer =>{\r\n        observer.next(this.dataStore.infos.filter( obj => (obj.gid==loadGid))[loadPidx]);\r\n        observer.complete();\r\n      }\r\n    );\r\n   return subTemp;\r\n  }\r\n  updateAll(setGid,obj,trackFn){\r\n    let sub = Observable.fromPromise(this.storage.setItem(__REF_BASE_PATTERNS+setGid,obj));\r\n    sub.subscribe(\r\n      res =>{trackFn(true,res)},\r\n      err => {trackFn(false,err)}\r\n    );\r\n  }\r\n  addNewPattern(gid:number) {//,pid:number\r\n    //this.loadAll(gid).subscribe();\r\n    \r\n    /* DEBUG */\r\n    let sub = Observable.create(\r\n      observer => {\r\n        this.infos.take(1).subscribe(\r\n          arr =>{\r\n            arr.push({\r\n              //\"pid\":pid,\r\n              \"gid\" : gid,\r\n              \"sections\":[],\r\n              //\"sectionsId\":newSid,\r\n              \"p_name\":\"自訂排程\",\r\n              \"lastSendedTime\" : 0,\r\n              \"lastModified\":0,\r\n            });\r\n            //let newSid = this.meta.sectionsMetaAdd();\r\n            let tempSetOb = Observable.fromPromise(this.storage.setItem(__REF_BASE_PATTERNS+gid,arr));\r\n            //this.sectionsProvider.createNew(newSid).withLatestFrom(sub).map( (arr)=> arr );\r\n            tempSetOb.subscribe(\r\n              scc => { this._infos.next(arr); observer.next(true,null)},\r\n              err => observer.next(false,err)\r\n            );\r\n          },err => observer.next(false,err)\r\n        )\r\n      }\r\n    );\r\n    return sub;\r\n  }\r\n\r\n  updatePattern(pattern:PatternDataType,pidx:number,sended=false){\r\n    /* DEBUG */\r\n    let sub = Observable.create(\r\n      observer => {\r\n        this.infos.take(1).subscribe(\r\n          arr => {\r\n            if(sended)arr[pidx].lastSendedTime== new Date().getTime();\r\n            arr[pidx] = pattern;\r\n            arr[pidx].lastModified = new Date().getTime();\r\n            console.log('save section @gid:'+arr[pidx].gid);\r\n            let tempSetOb = Observable.fromPromise(this.storage.setItem(__REF_BASE_PATTERNS+pattern[\"gid\"],arr));\r\n            //this.sectionsProvider.createNew(newSid).withLatestFrom(sub).map( (arr)=> arr );\r\n            tempSetOb.take(1).subscribe(\r\n              scc => {\r\n                observer.next(true,null);\r\n                //this.loadAll(pattern[\"gid\"]);\r\n              },\r\n              err => observer.next(false,err)\r\n            );\r\n          \r\n          }\r\n        )\r\n\r\n      }\r\n    );\r\n    return sub;\r\n  }\r\n\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/providers/patterns-data/patterns-data.ts","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { IonicPageModule } from 'ionic-angular';\r\nimport { LightsInfoProvider,lightsTypesPipe } from './lights-info';\r\n\r\n@NgModule({\r\n  declarations: [\r\n    lightsTypesPipe,\r\n  ],\r\n  exports: [\r\n    lightsTypesPipe,\r\n  ],\r\n    imports: [CommonModule],\r\n  providers: [\r\n    LightsInfoProvider\r\n  ],\r\n})\r\nexport class LightsInfoModule {\r\n  static forRoot() {\r\n    return {\r\n        ngModule: LightsInfoModule,\r\n        providers: [],\r\n    };\r\n }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/providers/lights-info/lights-info.module.ts","import { Injectable } from '@angular/core';\r\n\r\nimport { ToastController,LoadingController } from 'ionic-angular';\r\n\r\nimport 'rxjs/add/operator/map';\r\n\r\n/*\r\n  Generated class for the ToastCtrlProvider provider.\r\n\r\n  See https://angular.io/docs/ts/latest/guide/dependency-injection.html\r\n  for more info on providers and Angular DI.\r\n*/\r\n@Injectable()\r\nexport class ToastCtrlProvider {\r\n\r\n  constructor(\r\n    public toastCtrl:ToastController,\r\n    public loadingCtrl: LoadingController) {\r\n  }\r\n  showToast(message:string,ms=3000,pos='bottom'){\r\n    let toast = this.toastCtrl.create({\r\n      message: message,\r\n      duration: ms,\r\n      position: pos\r\n    });\r\n    toast.onDidDismiss(() => {\r\n      //console.log('Dismissed toast');\r\n    });\r\n    toast.present();\r\n    return toast;\r\n  }\r\n  showLoading(content=\"Please wait...\",ms=null){\r\n    let loader = this.loadingCtrl.create({\r\n      content: content,\r\n    });\r\n    if(ms){\r\n      setTimeout(()=>{\r\n        //fn();\r\n      },ms);\r\n    }\r\n    loader.present();\r\n    return loader;\r\n  }\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/providers/toast-ctrl/toast-ctrl.ts"],"sourceRoot":""}